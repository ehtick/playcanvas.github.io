import{Http as t,http as n}from"../net/http.js";import{AnimCurve as r}from"../anim/evaluator/anim-curve.js";import{AnimData as a}from"../anim/evaluator/anim-data.js";import{AnimTrack as e}from"../anim/evaluator/anim-track.js";class o{constructor(t){this.handlerType="animclip",this.maxRetries=0}load(r,a){"string"==typeof r&&(r={load:r,original:r});const e={retry:this.maxRetries>0,maxRetries:this.maxRetries};r.load.startsWith("blob:")&&(e.responseType=t.ResponseType.JSON),n.get(r.load,e,(function(t,n){t?a(`Error loading animation clip resource: ${r.original} [${t}]`):a(null,n)}))}open(t,n){const o=n.name,i=n.duration,s=n.inputs.map((function(t){return new a(1,t)})),p=n.outputs.map((function(t){return new a(t.components,t.data)})),m=n.curves.map((function(t){return new r([t.path],t.inputIndex,t.outputIndex,t.interpolation)}));return new e(o,i,s,p,m)}patch(t,n){}}export{o as AnimClipHandler};
