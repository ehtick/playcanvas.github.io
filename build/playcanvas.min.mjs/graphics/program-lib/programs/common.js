import{DEVICETYPE_WEBGL as e,DEVICETYPE_WEBGPU as n}from"../../constants.js";import{GAMMA_SRGB as i,GAMMA_SRGBFAST as o,GAMMA_SRGBHDR as t,TONEMAP_FILMIC as p,TONEMAP_LINEAR as a,TONEMAP_HEJL as r,TONEMAP_ACES as m,TONEMAP_ACES2 as g}from"../../../scene/constants.js";import{ShaderPass as S}from"../../../scene/shader-pass.js";import{shaderChunks as s}from"../chunks/chunks.js";function P(e,n){return n||(n=s),e===i||e===o?n.gamma2_2PS?n.gamma2_2PS:s.gamma2_2PS:e===t?"#define HDR\n"+(n.gamma2_2PS?n.gamma2_2PS:s.gamma2_2PS):n.gamma1_0PS?n.gamma1_0PS:s.gamma1_0PS}function c(e,n){return n||(n=s),e===p?n.tonemappingFilmicPS?n.tonemappingFilmicPS:s.tonemappingFilmicPS:e===a?n.tonemappingLinearPS?n.tonemappingLinearPS:s.tonemappingLinearPS:e===r?n.tonemappingHejlPS?n.tonemappingHejlPS:s.tonemappingHejlPS:e===m?n.tonemappingAcesPS?n.tonemappingAcesPS:s.tonemappingAcesPS:e===g?n.tonemappingAces2PS?n.tonemappingAces2PS:s.tonemappingAces2PS:n.tonemapingNonePS?n.tonemapingNonePS:s.tonemappingNonePS}function f(e,n){return n||(n=s),"linear"===e?n.fogLinearPS?n.fogLinearPS:s.fogLinearPS:"exp"===e?n.fogExpPS?n.fogExpPS:s.fogExpPS:"exp2"===e?n.fogExp2PS?n.fogExp2PS:s.fogExp2PS:n.fogNonePS?n.fogNonePS:s.fogNonePS}function u(e,n){return n||(n=s),e.supportsBoneTextures?n.skinTexVS:"#define BONE_LIMIT "+e.getBoneLimit()+"\n"+n.skinConstVS}function l(n,i,o){let t="";if(n.deviceType===e){i&&"highp"!==i&&"mediump"!==i&&"lowp"!==i&&(i=null),i&&("highp"===i&&"highp"!==n.maxPrecision&&(i="mediump"),"mediump"===i&&"lowp"===n.maxPrecision&&(i="lowp"));const e=i||n.precision;t=`precision ${e} float;\n`,o&&n.webgl2&&(t+=`precision ${e} sampler2DShadow;\n`)}return t}function d(e){return e.deviceType===n?"#version 450\n":e.webgl2?"#version 300 es\n":""}function _(e){return`#define SHADER_NAME ${e}\n`}function x(e,i,o,t){let p=d(e);return e.deviceType===n?p+=s.webgpuVS:(t&&(p+=t+"\n"),e.webgl2&&(p+=s.gles3VS)),p+=_(i),p+=S.getPassShaderDefine(o),p}function v(e,i,o,t,p){let a=d(e);return e.deviceType===n?a+=s.webgpuPS:(t&&(a+=t+"\n"),e.webgl2?a+=s.gles3PS:(e.extStandardDerivatives&&(a+="#extension GL_OES_standard_derivatives : enable\n"),e.extTextureLod&&(a+="#extension GL_EXT_shader_texture_lod : enable\n",a+="#define SUPPORTS_TEXLOD\n"),a+=s.gles2PS)),a+=l(e,p,!0),a+=_(i),a+=S.getPassShaderDefine(o),a}function h(){return"void main(void) {gl_FragColor = vec4(0.0);}"}function E(){return"void main(void)\n{\n"}function L(){return"}\n"}export{E as begin,h as dummyFragmentCode,L as end,f as fogCode,v as fragmentIntro,P as gammaCode,l as precisionCode,u as skinCode,c as tonemapCode,d as versionCode,x as vertexIntro};
