import{EventHandler as t}from"../core/event-handler.js";import{Vec3 as i}from"../math/vec3.js";import{Quat as e}from"../math/quat.js";let n=0;class o extends t{constructor(t,o){super(),this._id=void 0,this._planeDetection=void 0,this._xrPlane=void 0,this._lastChangedTime=void 0,this._orientation=void 0,this._position=new i,this._rotation=new e,this._id=++n,this._planeDetection=t,this._xrPlane=o,this._lastChangedTime=o.lastChangedTime,this._orientation=o.orientation}destroy(){this.fire("remove")}update(t){const i=this._planeDetection._manager,e=t.getPose(this._xrPlane.planeSpace,i._referenceSpace);e&&(this._position.copy(e.transform.position),this._rotation.copy(e.transform.orientation)),this._lastChangedTime!==this._xrPlane.lastChangedTime&&(this._lastChangedTime=this._xrPlane.lastChangedTime,this.fire("change"))}getPosition(){return this._position}getRotation(){return this._rotation}get id(){return this._id}get orientation(){return this._orientation}get points(){return this._xrPlane.polygon}}export{o as XrPlane};
