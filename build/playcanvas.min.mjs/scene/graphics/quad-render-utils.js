import"../../core/tracing.js";import{Vec4 as t}from"../../core/math/vec4.js";import{CULLFACE_NONE as e}from"../../platform/graphics/constants.js";import{DepthState as r}from"../../platform/graphics/depth-state.js";import{RenderPass as o}from"../../platform/graphics/render-pass.js";import{QuadRender as s}from"./quad-render.js";const n=new t;function l(t,l,p,i,a){t.setCullMode(e),t.setDepthState(r.NODEPTH),t.setStencilState(null,null);const c=new s(p);i||((i=n).x=0,i.y=0,i.z=l?l.width:t.width,i.w=l?l.height:t.height);const m=new o(t,(()=>{c.render(i,a)}));if(m.init(l),m.colorOps.clear=!1,m.depthStencilOps.clearDepth=!1,t.isWebGPU&&null===l){var h;(null!=(h=null==l?void 0:l.samples)?h:t.samples)>1&&(m.colorOps.store=!0)}m.render(),c.destroy()}function p(t,e,r,o,s,n){o=o||t.getCopyShader(),t.constantTexSource.setValue(e),l(t,r,o,s,n)}export{l as drawQuadWithShader,p as drawTexture};
