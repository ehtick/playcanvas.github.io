import"../../../core/tracing.js";class r{constructor(){this.bindGroup=void 0}update(r){this.destroy();const e=r.device,t=this.createDescriptor(e,r);this.bindGroup=e.wgpu.createBindGroup(t)}destroy(){this.bindGroup=null}createDescriptor(r,e){const t=[];let o=0;return e.uniformBuffers.forEach((r=>{const e=r.impl.buffer;t.push({binding:o++,resource:{buffer:e}})})),e.textures.forEach((e=>{const i=e.impl,s=i.getView(r);t.push({binding:o++,resource:s});const u=i.getSampler(r);t.push({binding:o++,resource:u})})),{layout:e.format.impl.bindGroupLayout,entries:t}}}export{r as WebgpuBindGroup};
