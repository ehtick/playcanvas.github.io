import"../../core/tracing.js";import{WebgpuGraphicsDevice as e}from"./webgpu/webgpu-graphics-device.js";import{DEVICETYPE_WEBGL as r,DEVICETYPE_WEBGPU as i}from"./constants.js";import{WebglGraphicsDevice as t}from"./webgl/webgl-graphics-device.js";function o(o,l={}){var n;let s;l.deviceTypes=null!=(n=l.deviceTypes)?n:[r];for(let n=0;n<l.deviceTypes.length;n++){var c,p;const g=l.deviceTypes[n];if(g===i&&null!=(c=window)&&null!=(p=c.navigator)&&p.gpu)return s=new e(o,l),s.initWebGpu(l.glslangUrl,l.twgslUrl);if(g===r)return s=new t(o,l),Promise.resolve(s)}return Promise.reject(new Error("Failed to allocated graphics device"))}export{o as createGraphicsDevice};
