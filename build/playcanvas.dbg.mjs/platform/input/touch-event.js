/**
 * @license
 * PlayCanvas Engine v1.59.0-preview revision 797466563 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
function getTouchTargetCoords(touch) {
  let totalOffsetX = 0;
  let totalOffsetY = 0;
  let target = touch.target;
  while (!(target instanceof HTMLElement)) {
    target = target.parentNode;
  }
  let currentElement = target;
  do {
    totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;
    totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;
    currentElement = currentElement.offsetParent;
  } while (currentElement);
  return {
    x: touch.pageX - totalOffsetX,
    y: touch.pageY - totalOffsetY
  };
}

class Touch {
  constructor(touch) {
    const coords = getTouchTargetCoords(touch);

    this.id = touch.identifier;

    this.x = coords.x;
    this.y = coords.y;

    this.target = touch.target;

    this.touch = touch;
  }
}

class TouchEvent {
  constructor(device, event) {
    this.element = event.target;
    this.event = event;

    this.touches = [];
    this.changedTouches = [];
    if (event) {
      for (let i = 0, l = event.touches.length; i < l; i++) {
        this.touches.push(new Touch(event.touches[i]));
      }
      for (let i = 0, l = event.changedTouches.length; i < l; i++) {
        this.changedTouches.push(new Touch(event.changedTouches[i]));
      }
    }
  }

  getTouchById(id, list) {
    for (let i = 0, l = list.length; i < l; i++) {
      if (list[i].id === id) {
        return list[i];
      }
    }
    return null;
  }
}

export { Touch, TouchEvent, getTouchTargetCoords };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG91Y2gtZXZlbnQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9wbGF0Zm9ybS9pbnB1dC90b3VjaC1ldmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNpbWlsYXIgdG8ge0BsaW5rIGdldFRhcmdldENvb3Jkc30gZm9yIHRoZSBNb3VzZUV2ZW50cy4gVGhpcyBmdW5jdGlvbiB0YWtlcyBhIGJyb3dzZXIgVG91Y2hcbiAqIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHRvdWNoIHJlbGF0aXZlIHRvIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge2dsb2JhbFRoaXMuVG91Y2h9IHRvdWNoIC0gVGhlIGJyb3dzZXIgVG91Y2ggb2JqZWN0LlxuICogQHJldHVybnMge29iamVjdH0gVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSB0b3VjaCByZWxhdGl2ZSB0byB0aGUgdG91Y2gudGFyZ2V0IGVsZW1lbnQuIEluIHRoZVxuICogZm9ybWF0IHt4LCB5fS5cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hUYXJnZXRDb29yZHModG91Y2gpIHtcbiAgICBsZXQgdG90YWxPZmZzZXRYID0gMDtcbiAgICBsZXQgdG90YWxPZmZzZXRZID0gMDtcbiAgICBsZXQgdGFyZ2V0ID0gdG91Y2gudGFyZ2V0O1xuICAgIHdoaWxlICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRFbGVtZW50ID0gdGFyZ2V0O1xuXG4gICAgZG8ge1xuICAgICAgICB0b3RhbE9mZnNldFggKz0gY3VycmVudEVsZW1lbnQub2Zmc2V0TGVmdCAtIGN1cnJlbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgIHRvdGFsT2Zmc2V0WSArPSBjdXJyZW50RWxlbWVudC5vZmZzZXRUb3AgLSBjdXJyZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgIH0gd2hpbGUgKGN1cnJlbnRFbGVtZW50KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHRvdWNoLnBhZ2VYIC0gdG90YWxPZmZzZXRYLFxuICAgICAgICB5OiB0b3VjaC5wYWdlWSAtIHRvdGFsT2Zmc2V0WVxuICAgIH07XG59XG5cbi8qKlxuICogQSBpbnN0YW5jZSBvZiBhIHNpbmdsZSBwb2ludCB0b3VjaCBvbiBhIHtAbGluayBUb3VjaERldmljZX0uXG4gKi9cbmNsYXNzIFRvdWNoIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVG91Y2ggb2JqZWN0IGZyb20gdGhlIGJyb3dzZXIgVG91Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2dsb2JhbFRoaXMuVG91Y2h9IHRvdWNoIC0gVGhlIGJyb3dzZXIgVG91Y2ggb2JqZWN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRvdWNoKSB7XG4gICAgICAgIGNvbnN0IGNvb3JkcyA9IGdldFRvdWNoVGFyZ2V0Q29vcmRzKHRvdWNoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHRvdWNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IHRvdWNoLmlkZW50aWZpZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB4IGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgdGhhdCB0aGUgVG91Y2hEZXZpY2UgaXMgYXR0YWNoZWQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSBjb29yZHMueDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB5IGNvb3JkaW5hdGUgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQgdGhhdCB0aGUgVG91Y2hEZXZpY2UgaXMgYXR0YWNoZWQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnkgPSBjb29yZHMueTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCBlbGVtZW50IG9mIHRoZSB0b3VjaCBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRvdWNoLnRhcmdldDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsIGJyb3dzZXIgVG91Y2ggb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Z2xvYmFsVGhpcy5Ub3VjaH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG91Y2ggPSB0b3VjaDtcbiAgICB9XG59XG5cbi8qKlxuICogQSBFdmVudCBjb3JyZXNwb25kaW5nIHRvIHRvdWNoc3RhcnQsIHRvdWNoZW5kLCB0b3VjaG1vdmUgb3IgdG91Y2hjYW5jZWwuIFRvdWNoRXZlbnQgd3JhcHMgdGhlXG4gKiBzdGFuZGFyZCBicm93c2VyIGV2ZW50IGFuZCBwcm92aWRlcyBsaXN0cyBvZiB7QGxpbmsgVG91Y2h9IG9iamVjdHMuXG4gKi9cbmNsYXNzIFRvdWNoRXZlbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUb3VjaEV2ZW50IGluc3RhbmNlLiBJdCBpcyBjcmVhdGVkIGZyb20gYW4gZXhpc3RpbmcgYnJvd3NlciBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuL3RvdWNoLWRldmljZS5qcycpLlRvdWNoRGV2aWNlfSBkZXZpY2UgLSBUaGUgc291cmNlIGRldmljZSBvZiB0aGUgdG91Y2hcbiAgICAgKiBldmVudHMuXG4gICAgICogQHBhcmFtIHtnbG9iYWxUaGlzLlRvdWNoRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGJyb3dzZXIgVG91Y2hFdmVudC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGV2ZW50KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGFyZ2V0IEVsZW1lbnQgdGhhdCB0aGUgZXZlbnQgd2FzIGZpcmVkIGZyb20uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsIGJyb3dzZXIgVG91Y2hFdmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2dsb2JhbFRoaXMuVG91Y2hFdmVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIGFsbCB0b3VjaGVzIGN1cnJlbnRseSBpbiBjb250YWN0IHdpdGggdGhlIGRldmljZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge1RvdWNoW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvdWNoZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0b3VjaGVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7VG91Y2hbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhbmdlZFRvdWNoZXMgPSBbXTtcblxuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZXZlbnQudG91Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZXMucHVzaChuZXcgVG91Y2goZXZlbnQudG91Y2hlc1tpXSkpO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkVG91Y2hlcy5wdXNoKG5ldyBUb3VjaChldmVudC5jaGFuZ2VkVG91Y2hlc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGV2ZW50IGZyb20gb25lIG9mIHRoZSB0b3VjaCBsaXN0cyBieSB0aGUgaWQuIEl0IGlzIHVzZWZ1bCB0byBhY2Nlc3NcbiAgICAgKiB0b3VjaGVzIGJ5IHRoZWlyIGlkIHNvIHRoYXQgeW91IGNhbiBiZSBzdXJlIHlvdSBhcmUgcmVmZXJlbmNpbmcgdGhlIHNhbWVcbiAgICAgKiB0b3VjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSB0b3VjaC5cbiAgICAgKiBAcGFyYW0ge1RvdWNoW118bnVsbH0gbGlzdCAtIEFuIGFycmF5IG9mIHRvdWNoZXMgdG8gc2VhcmNoLlxuICAgICAqIEByZXR1cm5zIHtUb3VjaH0gVGhlIHtAbGluayBUb3VjaH0gb2JqZWN0IG9yIG51bGwuXG4gICAgICovXG4gICAgZ2V0VG91Y2hCeUlkKGlkLCBsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsaXN0W2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgeyBnZXRUb3VjaFRhcmdldENvb3JkcywgVG91Y2gsIFRvdWNoRXZlbnQgfTtcbiJdLCJuYW1lcyI6WyJnZXRUb3VjaFRhcmdldENvb3JkcyIsInRvdWNoIiwidG90YWxPZmZzZXRYIiwidG90YWxPZmZzZXRZIiwidGFyZ2V0IiwiSFRNTEVsZW1lbnQiLCJwYXJlbnROb2RlIiwiY3VycmVudEVsZW1lbnQiLCJvZmZzZXRMZWZ0Iiwic2Nyb2xsTGVmdCIsIm9mZnNldFRvcCIsInNjcm9sbFRvcCIsIm9mZnNldFBhcmVudCIsIngiLCJwYWdlWCIsInkiLCJwYWdlWSIsIlRvdWNoIiwiY29uc3RydWN0b3IiLCJjb29yZHMiLCJpZCIsImlkZW50aWZpZXIiLCJUb3VjaEV2ZW50IiwiZGV2aWNlIiwiZXZlbnQiLCJlbGVtZW50IiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwiaSIsImwiLCJsZW5ndGgiLCJwdXNoIiwiZ2V0VG91Y2hCeUlkIiwibGlzdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFRQSxTQUFTQSxvQkFBb0IsQ0FBQ0MsS0FBSyxFQUFFO0VBQ2pDLElBQUlDLFlBQVksR0FBRyxDQUFDLENBQUE7RUFDcEIsSUFBSUMsWUFBWSxHQUFHLENBQUMsQ0FBQTtBQUNwQixFQUFBLElBQUlDLE1BQU0sR0FBR0gsS0FBSyxDQUFDRyxNQUFNLENBQUE7QUFDekIsRUFBQSxPQUFPLEVBQUVBLE1BQU0sWUFBWUMsV0FBVyxDQUFDLEVBQUU7SUFDckNELE1BQU0sR0FBR0EsTUFBTSxDQUFDRSxVQUFVLENBQUE7QUFDOUIsR0FBQTtFQUNBLElBQUlDLGNBQWMsR0FBR0gsTUFBTSxDQUFBO0VBRTNCLEdBQUc7QUFDQ0YsSUFBQUEsWUFBWSxJQUFJSyxjQUFjLENBQUNDLFVBQVUsR0FBR0QsY0FBYyxDQUFDRSxVQUFVLENBQUE7QUFDckVOLElBQUFBLFlBQVksSUFBSUksY0FBYyxDQUFDRyxTQUFTLEdBQUdILGNBQWMsQ0FBQ0ksU0FBUyxDQUFBO0lBQ25FSixjQUFjLEdBQUdBLGNBQWMsQ0FBQ0ssWUFBWSxDQUFBO0FBQ2hELEdBQUMsUUFBUUwsY0FBYyxFQUFBO0VBRXZCLE9BQU87QUFDSE0sSUFBQUEsQ0FBQyxF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
