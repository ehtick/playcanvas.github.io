/**
 * @license
 * PlayCanvas Engine v1.59.0-preview revision 797466563 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug, DebugHelper } from '../../../core/debug.js';

class WebgpuRenderTarget {

  constructor(renderTarget) {
    this.initialized = false;
    this.colorFormat = 'bgra8unorm';
    this.key = void 0;
    this.depthFormat = 'depth24plus-stencil8';
    this.multisampledColorBuffer = void 0;
    this.depthTexture = null;
    this.assignedColorTexture = null;
    this.renderPassDescriptor = {};
    this.renderTarget = renderTarget;

    if (renderTarget.colorBuffer) {
      this.colorFormat = renderTarget.colorBuffer.impl.format;
    }

    this.updateKey();
  }

  destroy(device) {
    var _this$depthTexture, _this$multisampledCol;
    this.initialized = false;
    this.renderPassDescriptor = null;
    (_this$depthTexture = this.depthTexture) == null ? void 0 : _this$depthTexture.destroy();
    this.depthTexture = null;
    this.assignedColorTexture = null;
    (_this$multisampledCol = this.multisampledColorBuffer) == null ? void 0 : _this$multisampledCol.destroy();
    this.multisampledColorBuffer = null;
  }
  updateKey() {
    const rt = this.renderTarget;
    this.key = `${this.colorFormat}-${rt.depth ? this.depthFormat : ''}-${rt.samples}`;
  }

  assignColorTexture(gpuTexture) {
    Debug.assert(gpuTexture);
    this.assignedColorTexture = gpuTexture;
    const view = gpuTexture.createView();

    const colorAttachment = this.renderPassDescriptor.colorAttachments[0];
    const samples = this.renderTarget.samples;
    if (samples > 1) {
      colorAttachment.resolveTarget = view;
    } else {
      colorAttachment.view = view;
    }

    this.colorFormat = gpuTexture.format;
    this.updateKey();
  }

  init(device, renderTarget) {
    Debug.assert(!this.initialized);
    Debug.assert(!renderTarget._depthBuffer, 'WebgpuRenderTarget does not yet support options.depthBuffer');
    const wgpu = device.wgpu;
    const {
      samples,
      width,
      height,
      depth
    } = renderTarget;

    if (depth) {
      const depthTextureDesc = {
        size: [width, height, 1],
        dimension: '2d',
        sampleCount: samples,
        format: this.depthFormat,
        usage: GPUTextureUsage.RENDER_ATTACHMENT
      };

      if (samples <= 1) {
        depthTextureDesc.usage |= GPUTextureUsage.COPY_SRC;
      }

      this.depthTexture = wgpu.createTexture(depthTextureDesc);
      DebugHelper.setLabel(this.depthTexture, `${renderTarget.name}.depthTexture`);

      this.renderPassDescriptor.depthStencilAttachment = {
        view: this.depthTexture.createView()
      };
    }

    const colorAttachment = {};
    this.renderPassDescriptor.colorAttachments = [colorAttachment];
    const colorBuffer = renderTarget.colorBuffer;
    let colorView = null;
    if (colorBuffer) {
      colorView = colorBuffer.impl.getView(device);

      if (colorBuffer.cubemap) {
        colorView = colorBuffer.impl.createView({
          dimension: '2d',
          baseArrayLayer: renderTarget.face,
          arrayLayerCount: 1
        });
      }
    }

    if (samples > 1) {
      const multisampledTextureDesc = {
        size: [width, height, 1],
        dimension: '2d',
        sampleCount: samples,
        format: this.colorFormat,
        usage: GPUTextureUsage.RENDER_ATTACHMENT
      };

      this.multisampledColorBuffer = wgpu.createTexture(multisampledTextureDesc);
      colorAttachment.view = this.multisampledColorBuffer.createView();
      colorAttachment.resolveTarget = colorView;
    } else {
      colorAttachment.view = colorView;
    }
    this.initialized = true;
  }

  setupForRenderPass(renderPass) {
    Debug.assert(this.renderPassDescriptor);
    const colorAttachment = this.renderPassDescriptor.colorAttachments[0];
    if (colorAttachment) {
      colorAttachment.clearValue = renderPass.colorOps.clearValue;
      colorAttachment.loadOp = renderPass.colorOps.clear ? 'clear' : 'load';
      colorAttachment.storeOp = renderPass.colorOps.store ? 'store' : 'discard';
    }
    const depthAttachment = this.renderPassDescriptor.depthStencilAttachment;
    if (depthAttachment) {
      depthAttachment.depthClearValue = renderPass.depthStencilOps.clearDepthValue;
      depthAttachment.depthLoadOp = renderPass.depthStencilOps.clearDepth ? 'clear' : 'load';
      depthAttachment.depthStoreOp = renderPass.depthStencilOps.storeDepth ? 'store' : 'discard';
      depthAttachment.depthReadOnly = false;
      depthAttachment.stencilClearValue = renderPass.depthStencilOps.clearStencilValue;
      depthAttachment.stencilLoadOp = renderPass.depthStencilOps.clearStencil ? 'clear' : 'load';
      depthAttachment.stencilStoreOp = renderPass.depthStencilOps.storeStencil ? 'store' : 'discard';
      depthAttachment.stencilReadOnly = false;
    }
  }
  loseContext() {
    this.initialized = false;
  }
  resolve(device, target, color, depth) {}
}

export { WebgpuRenderTarget };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ3B1LXJlbmRlci10YXJnZXQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9wbGF0Zm9ybS9ncmFwaGljcy93ZWJncHUvd2ViZ3B1LXJlbmRlci10YXJnZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVidWcsIERlYnVnSGVscGVyIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9kZWJ1Zy5qcyc7XG5cbi8qKlxuICogQSBXZWJHUFUgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJlbmRlclRhcmdldC5cbiAqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFdlYmdwdVJlbmRlclRhcmdldCB7XG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICBjb2xvckZvcm1hdCA9ICdiZ3JhOHVub3JtJztcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBrZXkgdXNlZCBieSByZW5kZXIgcGlwZWxpbmUgY3JlYXRpb25cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAga2V5O1xuXG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgZGVwdGhGb3JtYXQgPSAnZGVwdGgyNHBsdXMtc3RlbmNpbDgnO1xuXG4gICAgLy8gdHlwZSB7R1BVVGV4dHVyZX1cbiAgICBtdWx0aXNhbXBsZWRDb2xvckJ1ZmZlcjtcblxuICAgIC8vIHR5cGUge0dQVVRleHR1cmV9XG4gICAgZGVwdGhUZXh0dXJlID0gbnVsbDtcblxuICAgIC8vIFRleHR1cmUgYXNzaWduZWQgZWFjaCBmcmFtZSwgYW5kIG5vdCBvd25lZCBieSB0aGlzIHJlbmRlciB0YXJnZXQuIFRoaXMgaXMgdXNlZCBvbiB0aGUgZnJhbWVidWZmZXJcbiAgICAvLyB0byBhc3NpZ24gcGVyIGZyYW1lIHRleHR1cmUgb2J0YWluZWQgZnJvbSB0aGUgY29udGV4dC5cbiAgICAvLyB0eXBlIHtHUFVUZXh0dXJlfVxuICAgIGFzc2lnbmVkQ29sb3JUZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBwYXNzIGRlc2NyaXB0b3IgdXNlZCB3aGVuIHN0YXJ0aW5nIGEgcmVuZGVyIHBhc3MgZm9yIHRoaXMgcmVuZGVyIHRhcmdldC5cbiAgICAgKlxuICAgICAqIC8vIHR5cGUge0dQVVJlbmRlclBhc3NEZXNjcmlwdG9yfVxuICAgICAqL1xuICAgIHJlbmRlclBhc3NEZXNjcmlwdG9yID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vcmVuZGVyLXRhcmdldC5qcycpLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQgb3duaW5nXG4gICAgICogdGhpcyBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgLy8gY29sb3IgZm9ybWF0IGlzIGJhc2VkIG9uIHRoZSB0ZXh0dXJlXG4gICAgICAgIGlmIChyZW5kZXJUYXJnZXQuY29sb3JCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JGb3JtYXQgPSByZW5kZXJUYXJnZXQuY29sb3JCdWZmZXIuaW1wbC5mb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgc2hhZG93IG1hcCBjYXNlIChkZXB0aCBvbmx5LCBubyBjb2xvcilcblxuICAgICAgICB0aGlzLnVwZGF0ZUtleSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi93ZWJncHUvd2ViZ3B1LWdyYXBoaWNzLWRldmljZS5qcycpLldlYmdwdUdyYXBoaWNzRGV2aWNlfSBkZXZpY2UgLSBUaGVcbiAgICAgKiBncmFwaGljcyBkZXZpY2UuXG4gICAgICovXG4gICAgZGVzdHJveShkZXZpY2UpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbmRlclBhc3NEZXNjcmlwdG9yID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZT8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hc3NpZ25lZENvbG9yVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tdWx0aXNhbXBsZWRDb2xvckJ1ZmZlcj8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm11bHRpc2FtcGxlZENvbG9yQnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICB1cGRhdGVLZXkoKSB7XG4gICAgICAgIC8vIGtleSB1c2VkIGJ5IHJlbmRlciBwaXBlbGluZSBjcmVhdGlvblxuICAgICAgICBjb25zdCBydCA9IHRoaXMucmVuZGVyVGFyZ2V0O1xuICAgICAgICB0aGlzLmtleSA9IGAke3RoaXMuY29sb3JGb3JtYXR9LSR7cnQuZGVwdGggPyB0aGlzLmRlcHRoRm9ybWF0IDogJyd9LSR7cnQuc2FtcGxlc31gO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIGNvbG9yIGJ1ZmZlci4gVGhpcyBhbGxvd3MgdGhlIGNvbG9yIGJ1ZmZlciBvZiB0aGUgbWFpbiBmcmFtZWJ1ZmZlclxuICAgICAqIHRvIGJlIHN3YXBwZWQgZWFjaCBmcmFtZSB0byBhIGJ1ZmZlciBwcm92aWRlZCBieSB0aGUgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7YW55fSBncHVUZXh0dXJlIC0gVGhlIGNvbG9yIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBhc3NpZ25Db2xvclRleHR1cmUoZ3B1VGV4dHVyZSkge1xuXG4gICAgICAgIERlYnVnLmFzc2VydChncHVUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5hc3NpZ25lZENvbG9yVGV4dHVyZSA9IGdwdVRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgdmlldyA9IGdwdVRleHR1cmUuY3JlYXRlVmlldygpO1xuXG4gICAgICAgIC8vIHVzZSBpdCBhcyByZW5kZXIgYnVmZmVyIG9yIHJlc29sdmUgdGFyZ2V0XG4gICAgICAgIGNvbnN0IGNvbG9yQXR0YWNobWVudCA9IHRoaXMucmVuZGVyUGFzc0Rlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXTtcbiAgICAgICAgY29uc3Qgc2FtcGxlcyA9IHRoaXMucmVuZGVyVGFyZ2V0LnNhbXBsZXM7XG4gICAgICAgIGlmIChzYW1wbGVzID4gMSkge1xuICAgICAgICAgICAgY29sb3JBdHRhY2htZW50LnJlc29sdmVUYXJnZXQgPSB2aWV3O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JBdHRhY2htZW50LnZpZXcgPSB2aWV3O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIG1haW4gZnJhbWVidWZmZXIsIHRoaXMgaXMgaG93IHRoZSBmb3JtYXQgaXMgb2J0YWluZWRcbiAgICAgICAgdGhpcy5jb2xvckZvcm1hdCA9IGdwdVRleHR1cmUuZm9ybWF0O1xuICAgICAgICB0aGlzLnVwZGF0ZUtleSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgcmVuZGVyIHRhcmdldCBmb3IgcmVuZGVyaW5nIG9uZSB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uL3dlYmdwdS93ZWJncHUtZ3JhcGhpY3MtZGV2aWNlLmpzJykuV2ViZ3B1R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZVxuICAgICAqIGdyYXBoaWNzIGRldmljZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vcmVuZGVyLXRhcmdldC5qcycpLlJlbmRlclRhcmdldH0gcmVuZGVyVGFyZ2V0IC0gVGhlIHJlbmRlciB0YXJnZXQuXG4gICAgICovXG4gICAgaW5pdChkZXZpY2UsIHJlbmRlclRhcmdldCkge1xuXG4gICAgICAgIERlYnVnLmFzc2VydCghdGhpcy5pbml0aWFsaXplZCk7XG4gICAgICAgIERlYnVnLmFzc2VydCghcmVuZGVyVGFyZ2V0Ll9kZXB0aEJ1ZmZlciwgJ1dlYmdwdVJlbmRlclRhcmdldCBkb2VzIG5vdCB5ZXQgc3VwcG9ydCBvcHRpb25zLmRlcHRoQnVmZmVyJyk7XG4gICAgICAgIGNvbnN0IHdncHUgPSBkZXZpY2Uud2dwdTtcblxuICAgICAgICBjb25zdCB7IHNhbXBsZXMsIHdpZHRoLCBoZWlnaHQsIGRlcHRoIH0gPSByZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgLy8gZGVwdGggYnVmZmVyIHRoYXQgd2UgcmVuZGVyIHRvIChzaW5nbGUgb3IgbXVsdGktc2FtcGxlZCkuIFdlIGRvbid0IGNyZWF0ZSByZXNvbHZlXG4gICAgICAgIC8vIGRlcHRoIGJ1ZmZlciBhcyB3ZSBkb24ndCBjdXJyZW50bHkgcmVzb2x2ZSBpdC4gVGhpcyBtaWdodCBuZWVkIHRvIGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuICAgICAgICBpZiAoZGVwdGgpIHtcblxuICAgICAgICAgICAgLy8gdHlwZSB7R1BVVGV4dHVyZURlc2NyaXB0b3J9XG4gICAgICAgICAgICBjb25zdCBkZXB0aFRleHR1cmVEZXNjID0ge1xuICAgICAgICAgICAgICAgIHNpemU6IFt3aWR0aCwgaGVpZ2h0LCAxXSxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb246ICcyZCcsXG4gICAgICAgICAgICAgICAgc2FtcGxlQ291bnQ6IHNhbXBsZXMsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiB0aGlzLmRlcHRoRm9ybWF0LFxuICAgICAgICAgICAgICAgIHVzYWdlOiBHUFVUZXh0dXJlVXNhZ2UuUkVOREVSX0FUVEFDSE1FTlRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNpbmdsZSBzYW1wbGVkIGRlcHRoIGJ1ZmZlciBjYW4gYmUgY29waWVkIG91dCAoZ3JhYiBwYXNzKSwgbXVsdGlzYW1wbGVkIGNhbm5vdFxuICAgICAgICAgICAgaWYgKHNhbXBsZXMgPD0gMSkge1xuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZURlc2MudXNhZ2UgfD0gR1BVVGV4dHVyZVVzYWdlLkNPUFlfU1JDO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSBkZXB0aCBidWZmZXJcbiAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gd2dwdS5jcmVhdGVUZXh0dXJlKGRlcHRoVGV4dHVyZURlc2MpO1xuICAgICAgICAgICAgRGVidWdIZWxwZXIuc2V0TGFiZWwodGhpcy5kZXB0aFRleHR1cmUsIGAke3JlbmRlclRhcmdldC5uYW1lfS5kZXB0aFRleHR1cmVgKTtcblxuICAgICAgICAgICAgLy8gQHR5cGUge0dQVVJlbmRlclBhc3NEZXB0aFN0ZW5jaWxBdHRhY2htZW50fVxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzRGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxBdHRhY2htZW50ID0ge1xuICAgICAgICAgICAgICAgIHZpZXc6IHRoaXMuZGVwdGhUZXh0dXJlLmNyZWF0ZVZpZXcoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpbmdsZS1zYW1wbGVkIGNvbG9yIGJ1ZmZlciBnZXRzIHBhc3NlZCBpbjpcbiAgICAgICAgLy8gLSBmb3Igbm9ybWFsIHJlbmRlciB0YXJnZXQsIGNvbnN0cnVjdGlvbiB0YWtlcyB0aGUgY29sb3IgYnVmZmVyIGFzIGFuIG9wdGlvblxuICAgICAgICAvLyAtIGZvciB0aGUgbWFpbiBmcmFtZWJ1ZmZlciwgdGhlIGRldmljZSBzdXBwbGllcyB0aGUgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgLy8gQW5kIHNvIHdlIG9ubHkgbmVlZCB0byBjcmVhdGUgbXVsdGktc2FtcGxlZCBjb2xvciBidWZmZXIgaWYgbmVlZGVkIGhlcmUuXG4gICAgICAgIC8vIHR5cGUge0dQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnR9XG4gICAgICAgIGNvbnN0IGNvbG9yQXR0YWNobWVudCA9IHt9O1xuICAgICAgICB0aGlzLnJlbmRlclBhc3NEZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHMgPSBbY29sb3JBdHRhY2htZW50XTtcblxuICAgICAgICBjb25zdCBjb2xvckJ1ZmZlciA9IHJlbmRlclRhcmdldC5jb2xvckJ1ZmZlcjtcbiAgICAgICAgbGV0IGNvbG9yVmlldyA9IG51bGw7XG4gICAgICAgIGlmIChjb2xvckJ1ZmZlcikge1xuICAgICAgICAgICAgY29sb3JWaWV3ID0gY29sb3JCdWZmZXIuaW1wbC5nZXRWaWV3KGRldmljZSk7XG5cbiAgICAgICAgICAgIC8vIGN1YmVtYXAgZmFjZSB2aWV3IC0gZmFjZSBpcyBhIHNpbmdsZSAyZCBhcnJheSBsYXllciBpbiBvcmRlciBbK1gsIC1YLCArWSwgLVksICtaLCAtWl1cbiAgICAgICAgICAgIGlmIChjb2xvckJ1ZmZlci5jdWJlbWFwKSB7XG4gICAgICAgICAgICAgICAgY29sb3JWaWV3ID0gY29sb3JCdWZmZXIuaW1wbC5jcmVhdGVWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgZGltZW5zaW9uOiAnMmQnLFxuICAgICAgICAgICAgICAgICAgICBiYXNlQXJyYXlMYXllcjogcmVuZGVyVGFyZ2V0LmZhY2UsXG4gICAgICAgICAgICAgICAgICAgIGFycmF5TGF5ZXJDb3VudDogMVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gbXVsdGktc2FtcGxlZCBjb2xvciBidWZmZXJcbiAgICAgICAgaWYgKHNhbXBsZXMgPiAxKSB7XG5cbiAgICAgICAgICAgIC8vIHR5cGUge0dQVVRleHR1cmVEZXNjcmlwdG9yfVxuICAgICAgICAgICAgY29uc3QgbXVsdGlzYW1wbGVkVGV4dHVyZURlc2MgPSB7XG4gICAgICAgICAgICAgICAgc2l6ZTogW3dpZHRoLCBoZWlnaHQsIDFdLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbjogJzJkJyxcbiAgICAgICAgICAgICAgICBzYW1wbGVDb3VudDogc2FtcGxlcyxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMuY29sb3JGb3JtYXQsXG4gICAgICAgICAgICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYWxsb2NhdGUgbXVsdGktc2FtcGxlZCBjb2xvciBidWZmZXJcbiAgICAgICAgICAgIHRoaXMubXVsdGlzYW1wbGVkQ29sb3JCdWZmZXIgPSB3Z3B1LmNyZWF0ZVRleHR1cmUobXVsdGlzYW1wbGVkVGV4dHVyZURlc2MpO1xuXG4gICAgICAgICAgICBjb2xvckF0dGFjaG1lbnQudmlldyA9IHRoaXMubXVsdGlzYW1wbGVkQ29sb3JCdWZmZXIuY3JlYXRlVmlldygpO1xuICAgICAgICAgICAgY29sb3JBdHRhY2htZW50LnJlc29sdmVUYXJnZXQgPSBjb2xvclZpZXc7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgY29sb3JBdHRhY2htZW50LnZpZXcgPSBjb2xvclZpZXc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgV2ViR1BVIHJlbmRlciBwYXNzIGRlc2NyaXB0b3IgYnkgUmVuZGVyUGFzcyBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7aW1wb3J0KCcuLi9yZW5kZXItcGFzcy5qcycpLlJlbmRlclBhc3N9IHJlbmRlclBhc3MgLSBUaGUgcmVuZGVyIHBhc3MgdG8gc3RhcnQuXG4gICAgICovXG4gICAgc2V0dXBGb3JSZW5kZXJQYXNzKHJlbmRlclBhc3MpIHtcblxuICAgICAgICBEZWJ1Zy5hc3NlcnQodGhpcy5yZW5kZXJQYXNzRGVzY3JpcHRvcik7XG5cbiAgICAgICAgY29uc3QgY29sb3JBdHRhY2htZW50ID0gdGhpcy5yZW5kZXJQYXNzRGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdO1xuICAgICAgICBpZiAoY29sb3JBdHRhY2htZW50KSB7XG4gICAgICAgICAgICBjb2xvckF0dGFjaG1lbnQuY2xlYXJWYWx1ZSA9IHJlbmRlclBhc3MuY29sb3JPcHMuY2xlYXJWYWx1ZTtcbiAgICAgICAgICAgIGNvbG9yQXR0YWNobWVudC5sb2FkT3AgPSByZW5kZXJQYXNzLmNvbG9yT3BzLmNsZWFyID8gJ2NsZWFyJyA6ICdsb2FkJztcbiAgICAgICAgICAgIGNvbG9yQXR0YWNobWVudC5zdG9yZU9wID0gcmVuZGVyUGFzcy5jb2xvck9wcy5zdG9yZSA/ICdzdG9yZScgOiAnZGlzY2FyZCc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZXB0aEF0dGFjaG1lbnQgPSB0aGlzLnJlbmRlclBhc3NEZXNjcmlwdG9yLmRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ7XG4gICAgICAgIGlmIChkZXB0aEF0dGFjaG1lbnQpIHtcbiAgICAgICAgICAgIGRlcHRoQXR0YWNobWVudC5kZXB0aENsZWFyVmFsdWUgPSByZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhckRlcHRoVmFsdWU7XG4gICAgICAgICAgICBkZXB0aEF0dGFjaG1lbnQuZGVwdGhMb2FkT3AgPSByZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhckRlcHRoID8gJ2NsZWFyJyA6ICdsb2FkJztcbiAgICAgICAgICAgIGRlcHRoQXR0YWNobWVudC5kZXB0aFN0b3JlT3AgPSByZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5zdG9yZURlcHRoID8gJ3N0b3JlJyA6ICdkaXNjYXJkJztcbiAgICAgICAgICAgIGRlcHRoQXR0YWNobWVudC5kZXB0aFJlYWRPbmx5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGRlcHRoQXR0YWNobWVudC5zdGVuY2lsQ2xlYXJWYWx1ZSA9IHJlbmRlclBhc3MuZGVwdGhTdGVuY2lsT3BzLmNsZWFyU3RlbmNpbFZhbHVlO1xuICAgICAgICAgICAgZGVwdGhBdHRhY2htZW50LnN0ZW5jaWxMb2FkT3AgPSByZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhclN0ZW5jaWwgPyAnY2xlYXInIDogJ2xvYWQnO1xuICAgICAgICAgICAgZGVwdGhBdHRhY2htZW50LnN0ZW5jaWxTdG9yZU9wID0gcmVuZGVyUGFzcy5kZXB0aFN0ZW5jaWxPcHMuc3RvcmVTdGVuY2lsID8gJ3N0b3JlJyA6ICdkaXNjYXJkJztcbiAgICAgICAgICAgIGRlcHRoQXR0YWNobWVudC5zdGVuY2lsUmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvc2VDb250ZXh0KCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzb2x2ZShkZXZpY2UsIHRhcmdldCwgY29sb3IsIGRlcHRoKSB7XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJncHVSZW5kZXJUYXJnZXQgfTtcbiJdLCJuYW1lcyI6WyJXZWJncHVSZW5kZXJUYXJnZXQiLCJjb25zdHJ1Y3RvciIsInJlbmRlclRhcmdldCIsImluaXRpYWxpemVkIiwiY29sb3JGb3JtYXQiLCJrZXkiLCJkZXB0aEZvcm1hdCIsIm11bHRpc2FtcGxlZENvbG9yQnVmZmVyIiwiZGVwdGhUZXh0dXJlIiwiYXNzaWduZWRDb2xvclRleHR1cmUiLCJyZW5kZXJQYXNzRGVzY3JpcHRvciIsImNvbG9yQnVmZmVyIiwiaW1wbCIsImZvcm1hdCIsInVwZGF0ZUtleSIsImRlc3Ryb3kiLCJkZXZpY2UiLCJydCIsImRlcHRoIiwic2FtcGxlcyIsImFzc2lnbkNvbG9yVGV4dHVyZSIsImdwdVRleHR1cmUiLCJEZWJ1ZyIsImFzc2VydCIsInZpZXciLCJjcmVhdGVWaWV3IiwiY29sb3JBdHRhY2htZW50IiwiY29sb3JBdHRhY2htZW50cyIsInJlc29sdmVUYXJnZXQiLCJpbml0IiwiX2RlcHRoQnVmZmVyIiwid2dwdSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVwdGhUZXh0dXJlRGVzYyIsInNpemUiLCJkaW1lbnNpb24iLCJzYW1wbGVDb3VudCIsInVzYWdlIiwiR1BVVGV4dHVyZVVzYWdlIiwiUkVOREVSX0FUVEFDSE1FTlQiLCJDT1BZX1NSQyIsImNyZWF0ZVRleHR1cmUiLCJEZWJ1Z0hlbHBlciIsInNldExhYmVsIiwibmFtZSIsImRlcHRoU3RlbmNpbEF0dGFjaG1lbnQiLCJjb2xvclZpZXciLCJnZXRWaWV3IiwiY3ViZW1hcCIsImJhc2VBcnJheUxheWVyIiwiZmFjZSIsImFycmF5TGF5ZXJDb3VudCIsIm11bHRpc2FtcGxlZFRleHR1cmVEZXNjIiwic2V0dXBGb3JSZW5kZXJQYXNzIiwicmVuZGVyUGFzcyIsImNsZWFyVmFsdWUiLCJjb2xvck9wcyIsImxvYWRPcCIsImNsZWFyIiwic3RvcmVPcCIsInN0b3JlIiwiZGVwdGhBdHRhY2htZW50IiwiZGVwdGhDbGVhclZhbHVlIiwiZGVwdGhTdGVuY2lsT3BzIiwiY2xlYXJEZXB0aFZhbHVlIiwiZGVwdGhMb2FkT3AiLCJjbGVhckRlcHRoIiwiZGVwdGhTdG9yZU9wIiwic3RvcmVEZXB0aCIsImRlcHRoUmVhZE9ubHkiLCJzdGVuY2lsQ2xlYXJWYWx1ZSIsImNsZWFyU3RlbmNpbFZhbHVlIiwic3RlbmNpbExvYWRPcCIsImNsZWFyU3RlbmNpbCIsInN0ZW5jaWxTdG9yZU9wIiwic3RvcmVTdGVuY2lsIiwic3RlbmNpbFJlYWRPbmx5IiwibG9zZUNvbnRleHQiLCJyZXNvbHZlIiwidGFyZ2V0IiwiY29sb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFPQSxNQUFNQSxrQkFBa0IsQ0FBQzs7RUF1Q3JCQyxXQUFXLENBQUNDLFlBQVksRUFBRTtJQUFBLElBckMxQkMsQ0FBQUEsV0FBVyxHQUFHLEtBQUssQ0FBQTtJQUFBLElBR25CQyxDQUFBQSxXQUFXLEdBQUcsWUFBWSxDQUFBO0FBQUEsSUFBQSxJQUFBLENBTzFCQyxHQUFHLEdBQUEsS0FBQSxDQUFBLENBQUE7SUFBQSxJQUdIQyxDQUFBQSxXQUFXLEdBQUcsc0JBQXNCLENBQUE7QUFBQSxJQUFBLElBQUEsQ0FHcENDLHVCQUF1QixHQUFBLEtBQUEsQ0FBQSxDQUFBO0lBQUEsSUFHdkJDLENBQUFBLFlBQVksR0FBRyxJQUFJLENBQUE7SUFBQSxJQUtuQkMsQ0FBQUEsb0JBQW9CLEdBQUcsSUFBSSxDQUFBO0lBQUEsSUFPM0JDLENBQUFBLG9CQUFvQixHQUFHLEVBQUUsQ0FBQTtJQU9yQixJQUFJLENBQUNSLFlBQVksR0FBR0EsWUFBWSxDQUFBOztJQUdoQyxJQUFJQSxZQUFZLENBQUNTLFdBQVcsRUFBRTtNQUMxQixJQUFJLENBQUNQLFdBQVcsR0FBR0YsWUFBWSxDQUFDUyxXQUFXLENBQUNDLElBQUksQ0FBQ0MsTUFBTSxDQUFBO0FBQzNELEtBQUE7O0lBSUEsSUFBSSxDQUFDQyxTQUFTLEVBQUUsQ0FBQTtBQUNwQixHQUFBOztFQU1BQyxPQUFPLENBQUNDLE1BQU0sRUFBRTtBQUFBLElBQUEsSUFBQSxrQkFBQSxFQUFBLHFCQUFBLENBQUE7SUFDWixJQUFJLENBQUNiLFdBQVcsR0FBRyxLQUFLLENBQUE7SUFDeEIsSUFBSSxDQUFDTyxvQkFBb0IsR0FBRyxJQUFJLENBQUE7QUFFaEMsSUFBQSxDQUFBLGtCQUFBLEdBQUEsSUFBSSxDQUFDRixZQUFZLEtBQWpCLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxrQkFBQSxDQUFtQk8sT0FBTyxFQUFFLENBQUE7SUFDNUIsSUFBSSxDQUFDUCxZQUFZLEdBQUcsSUFBSSxDQUFBO0lBRXhCLElBQUksQ0FBQ0Msb0JBQW9CLEdBQUcsSUFBSSxDQUFBO0FBRWhDLElBQUEsQ0FBQSxxQkFBQSxHQUFBLElBQUksQ0FBQ0YsdUJBQXVCLEtBQTVCLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBQSxxQkFBQSxDQUE4QlEsT0FBTyxFQUFFLENBQUE7SUFDdkMsSUFBSSxDQUFDUix1QkFBdUIsR0FBRyxJQUFJLENBQUE7QUFDdkMsR0FBQTtBQUVBTyxFQUFBQSxTQUFTLEdBQUc7QUFFUixJQUFBLE1BQU1HLEVBQUUsR0FBRyxJQUFJLENBQUNmLFlBQVksQ0FBQTtJQUM1QixJQUFJLENBQUNHLEdBQUcsR0FBSSxDQUFBLEVBQUUsSUFBSSxDQUFDRCxXQUFZLElBQUdhLEVBQUUsQ0FBQ0MsS0FBSyxHQUFHLElBQUksQ0FBQ1osV0FBVyxHQUFHLEVBQUcsQ0FBR1csQ0FBQUEsRUFBQUEsRUFBRSxDQUFDRSxPQUFRLENBQUMsQ0FBQSxDQUFBO0FBQ3RGLEdBQUE7O0VBUUFDLGtCQUFrQixDQUFDQyxVQUFVLEVBQUU7QUFFM0JDLElBQUFBLEtBQUssQ0FBQ0MsTUFBTSxDQUFDRixVQUFVLENBQUMsQ0FBQTtJQUN4QixJQUFJLENBQUNaLG9CQUFvQixHQUFHWSxVQUFVLENBQUE7QUFFdEMsSUFBQSxNQUFNRyxJQUFJLEdBQUdILFVBQVUsQ0FBQ0ksVUFBVSxFQUFFLENBQUE7O0lBR3BDLE1BQU1DLGVBQWUsR0FBRyxJQUFJLENBQUNoQixvQkFBb0IsQ0FBQ2lCLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3JFLElBQUEsTUFBTVIsT0FBTyxHQUFHLElBQUksQ0FBQ2pCLFlBQVksQ0FBQ2lCLE9BQU8sQ0FBQTtJQUN6QyxJQUFJQSxPQUFPLEdBQUcsQ0FBQyxFQUFFO01BQ2JPLGVBQWUsQ0FBQ0UsYUFBYSxHQUFHSixJQUFJLENBQUE7QUFDeEMsS0FBQyxNQUFNO01BQ0hFLGVBQWUsQ0FBQ0YsSUFBSSxHQUFHQSxJQUFJLENBQUE7QUFDL0IsS0FBQTs7QUFHQSxJQUFBLElBQUksQ0FBQ3BCLFdBQVcsR0FBR2lCLFVBQVUsQ0FBQ1IsTUFBTSxDQUFBO0lBQ3BDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLENBQUE7QUFDcEIsR0FBQTs7QUFTQWUsRUFBQUEsSUFBSSxDQUFDYixNQUFNLEVBQUVkLFlBQVksRUFBRTtBQUV2Qm9CLElBQUFBLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDcEIsV0FBVyxDQUFDLENBQUE7SUFDL0JtQixLQUFLLENBQUNDLE1BQU0sQ0FBQyxDQUFDckIsWUFBWSxDQUFDNEIsWUFBWSxFQUFFLDZEQUE2RCxDQUFDLENBQUE7QUFDdkcsSUFBQSxNQUFNQyxJQUFJLEdBQUdmLE1BQU0sQ0FBQ2UsSUFBSSxDQUFBO0lBRXhCLE1BQU07TUFBRVosT0FBTztNQUFFYSxLQUFLO01BQUVDLE1BQU07QUFBRWYsTUFBQUEsS0FBQUE7QUFBTSxLQUFDLEdBQUdoQixZQUFZLENBQUE7O0FBSXRELElBQUEsSUFBSWdCLEtBQUssRUFBRTtBQUdQLE1BQUEsTUFBTWdCLGdCQUFnQixHQUFHO0FBQ3JCQyxRQUFBQSxJQUFJLEVBQUUsQ0FBQ0gsS0FBSyxFQUFFQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0FBQ3hCRyxRQUFBQSxTQUFTLEVBQUUsSUFBSTtBQUNmQyxRQUFBQSxXQUFXLEVBQUVsQixPQUFPO1FBQ3BCTixNQUFNLEVBQUUsSUFBSSxDQUFDUCxXQUFXO1FBQ3hCZ0MsS0FBSyxFQUFFQyxlQUFlLENBQUNDLGlCQUFBQTtPQUMxQixDQUFBOztNQUdELElBQUlyQixPQUFPLElBQUksQ0FBQyxFQUFFO0FBQ2RlLFFBQUFBLGdCQUFnQixDQUFDSSxLQUFLLElBQUlDLGVBQWUsQ0FBQ0UsUUFBUSxDQUFBO0FBQ3RELE9BQUE7O01BR0EsSUFBSSxDQUFDakMsWUFBWSxHQUFHdUIsSUFBSSxDQUFDVyxhQUFhLENBQUNSLGdCQUFnQixDQUFDLENBQUE7QUFDeERTLE1BQUFBLFdBQVcsQ0FBQ0MsUUFBUSxDQUFDLElBQUksQ0FBQ3BDLFlBQVksRUFBRyxDQUFBLEVBQUVOLFlBQVksQ0FBQzJDLElBQUssQ0FBQSxhQUFBLENBQWMsQ0FBQyxDQUFBOztBQUc1RSxNQUFBLElBQUksQ0FBQ25DLG9CQUFvQixDQUFDb0Msc0JBQXNCLEdBQUc7QUFDL0N0QixRQUFBQSxJQUFJLEVBQUUsSUFBSSxDQUFDaEIsWUFBWSxDQUFDaUIsVUFBVSxFQUFBO09BQ3JDLENBQUE7QUFDTCxLQUFBOztJQU9BLE1BQU1DLGVBQWUsR0FBRyxFQUFFLENBQUE7QUFDMUIsSUFBQSxJQUFJLENBQUNoQixvQkFBb0IsQ0FBQ2lCLGdCQUFnQixHQUFHLENBQUNELGVBQWUsQ0FBQyxDQUFBO0FBRTlELElBQUEsTUFBTWYsV0FBVyxHQUFHVCxZQUFZLENBQUNTLFdBQVcsQ0FBQTtJQUM1QyxJQUFJb0MsU0FBUyxHQUFHLElBQUksQ0FBQTtBQUNwQixJQUFBLElBQUlwQyxXQUFXLEVBQUU7TUFDYm9DLFNBQVMsR0FBR3BDLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDb0MsT0FBTyxDQUFDaEMsTUFBTSxDQUFDLENBQUE7O01BRzVDLElBQUlMLFdBQVcsQ0FBQ3NDLE9BQU8sRUFBRTtBQUNyQkYsUUFBQUEsU0FBUyxHQUFHcEMsV0FBVyxDQUFDQyxJQUFJLENBQUNhLFVBQVUsQ0FBQztBQUNwQ1csVUFBQUEsU0FBUyxFQUFFLElBQUk7VUFDZmMsY0FBYyxFQUFFaEQsWUFBWSxDQUFDaUQsSUFBSTtBQUNqQ0MsVUFBQUEsZUFBZSxFQUFFLENBQUE7QUFDckIsU0FBQyxDQUFDLENBQUE7QUFDTixPQUFBO0FBQ0osS0FBQTs7SUFHQSxJQUFJakMsT0FBTyxHQUFHLENBQUMsRUFBRTtBQUdiLE1BQUEsTUFBTWtDLHVCQUF1QixHQUFHO0FBQzVCbEIsUUFBQUEsSUFBSSxFQUFFLENBQUNILEtBQUssRUFBRUMsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUN4QkcsUUFBQUEsU0FBUyxFQUFFLElBQUk7QUFDZkMsUUFBQUEsV0FBVyxFQUFFbEIsT0FBTztRQUNwQk4sTUFBTSxFQUFFLElBQUksQ0FBQ1QsV0FBVztRQUN4QmtDLEtBQUssRUFBRUMsZUFBZSxDQUFDQyxpQkFBQUE7T0FDMUIsQ0FBQTs7TUFHRCxJQUFJLENBQUNqQyx1QkFBdUIsR0FBR3dCLElBQUksQ0FBQ1csYUFBYSxDQUFDVyx1QkFBdUIsQ0FBQyxDQUFBO01BRTFFM0IsZUFBZSxDQUFDRixJQUFJLEdBQUcsSUFBSSxDQUFDakIsdUJBQXVCLENBQUNrQixVQUFVLEVBQUUsQ0FBQTtNQUNoRUMsZUFBZSxDQUFDRSxhQUFhLEdBQUdtQixTQUFTLENBQUE7QUFFN0MsS0FBQyxNQUFNO01BRUhyQixlQUFlLENBQUNGLElBQUksR0FBR3VCLFNBQVMsQ0FBQTtBQUNwQyxLQUFBO0lBRUEsSUFBSSxDQUFDNUMsV0FBVyxHQUFHLElBQUksQ0FBQTtBQUMzQixHQUFBOztFQU9BbUQsa0JBQWtCLENBQUNDLFVBQVUsRUFBRTtBQUUzQmpDLElBQUFBLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ2Isb0JBQW9CLENBQUMsQ0FBQTtJQUV2QyxNQUFNZ0IsZUFBZSxHQUFHLElBQUksQ0FBQ2hCLG9CQUFvQixDQUFDaUIsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckUsSUFBQSxJQUFJRCxlQUFlLEVBQUU7QUFDakJBLE1BQUFBLGVBQWUsQ0FBQzhCLFVBQVUsR0FBR0QsVUFBVSxDQUFDRSxRQUFRLENBQUNELFVBQVUsQ0FBQTtNQUMzRDlCLGVBQWUsQ0FBQ2dDLE1BQU0sR0FBR0gsVUFBVSxDQUFDRSxRQUFRLENBQUNFLEtBQUssR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBO01BQ3JFakMsZUFBZSxDQUFDa0MsT0FBTyxHQUFHTCxVQUFVLENBQUNFLFFBQVEsQ0FBQ0ksS0FBSyxHQUFHLE9BQU8sR0FBRyxTQUFTLENBQUE7QUFDN0UsS0FBQTtBQUVBLElBQUEsTUFBTUMsZUFBZSxHQUFHLElBQUksQ0FBQ3BELG9CQUFvQixDQUFDb0Msc0JBQXNCLENBQUE7QUFDeEUsSUFBQSxJQUFJZ0IsZUFBZSxFQUFFO0FBQ2pCQSxNQUFBQSxlQUFlLENBQUNDLGVBQWUsR0FBR1IsVUFBVSxDQUFDUyxlQUFlLENBQUNDLGVBQWUsQ0FBQTtNQUM1RUgsZUFBZSxDQUFDSSxXQUFXLEdBQUdYLFVBQVUsQ0FBQ1MsZUFBZSxDQUFDRyxVQUFVLEdBQUcsT0FBTyxHQUFHLE1BQU0sQ0FBQTtNQUN0RkwsZUFBZSxDQUFDTSxZQUFZLEdBQUdiLFVBQVUsQ0FBQ1MsZUFBZSxDQUFDSyxVQUFVLEdBQUcsT0FBTyxHQUFHLFNBQVMsQ0FBQTtNQUMxRlAsZUFBZSxDQUFDUSxhQUFhLEdBQUcsS0FBSyxDQUFBO0FBRXJDUixNQUFBQSxlQUFlLENBQUNTLGlCQUFpQixHQUFHaEIsVUFBVSxDQUFDUyxlQUFlLENBQUNRLGlCQUFpQixDQUFBO01BQ2hGVixlQUFlLENBQUNXLGFBQWEsR0FBR2xCLFVBQVUsQ0FBQ1MsZUFBZSxDQUFDVSxZQUFZLEdBQUcsT0FBTyxHQUFHLE1BQU0sQ0FBQTtNQUMxRlosZUFBZSxDQUFDYSxjQUFjLEdBQUdwQixVQUFVLENBQUNTLGVBQWUsQ0FBQ1ksWUFBWSxHQUFHLE9BQU8sR0FBRyxTQUFTLENBQUE7TUFDOUZkLGVBQWUsQ0FBQ2UsZUFBZSxHQUFHLEtBQUssQ0FBQTtBQUMzQyxLQUFBO0FBQ0osR0FBQTtBQUVBQyxFQUFBQSxXQUFXLEdBQUc7SUFDVixJQUFJLENBQUMzRSxXQUFXLEdBQUcsS0FBSyxDQUFBO0FBQzVCLEdBQUE7RUFFQTRFLE9BQU8sQ0FBQy9ELE1BQU0sRUFBRWdFLE1BQU0sRUFBRUMsS0FBSyxFQUFFL0QsS0FBSyxFQUFFLEVBQ3RDO0FBQ0o7Ozs7In0=
