/**
 * @license
 * PlayCanvas Engine v1.59.0-preview revision 797466563 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug, DebugHelper } from '../../../core/debug.js';
import { TRACEID_PIPELINELAYOUT_ALLOC, TRACEID_RENDERPIPELINE_ALLOC } from '../../../core/constants.js';
import { WebgpuVertexBufferLayout } from './webgpu-vertex-buffer-layout.js';

let _pipelineId = 0;
let _layoutId = 0;
const _primitiveTopology = ['point-list',
'line-list',
undefined,
'line-strip',
'triangle-list',
'triangle-strip',
undefined];

const _blendOperation = ['add',
'subtract',
'reverse-subtract',
'min',
'max'];

const _blendFactor = ['zero',
'one',
'src',
'one-minus-src',
'dst',
'one-minus-dst',
'src-alpha',
'src-alpha-saturated',
'one-minus-src-alpha',
'dst-alpha',
'one-minus-dst-alpha',
'constant',
'one-minus-constant',
undefined,
undefined];

const _bindGroupLayouts = [];

class WebgpuRenderPipeline {
  constructor(device) {
    this.device = device;

    this.vertexBufferLayout = new WebgpuVertexBufferLayout();

    this.cache = new Map();
  }
  get(primitive, vertexFormat0, vertexFormat1, shader, renderTarget, bindGroupFormats, renderState) {
    const key = this.getKey(primitive, vertexFormat0, vertexFormat1, shader, renderTarget, bindGroupFormats, renderState);

    let pipeline = this.cache.get(key);
    if (!pipeline) {
      const primitiveTopology = _primitiveTopology[primitive.type];
      Debug.assert(primitiveTopology, `Unsupported primitive topology ${primitive}`);

      const pipelineLayout = this.getPipelineLayout(bindGroupFormats);

      const vertexBufferLayout = this.vertexBufferLayout.get(vertexFormat0, vertexFormat1);

      pipeline = this.create(primitiveTopology, shader.impl, renderTarget, pipelineLayout, renderState, vertexBufferLayout);
      this.cache.set(key, pipeline);
    }
    return pipeline;
  }

  getKey(primitive, vertexFormat0, vertexFormat1, shader, renderTarget, bindGroupFormats, renderState) {
    let bindGroupKey = '';
    for (let i = 0; i < bindGroupFormats.length; i++) {
      bindGroupKey += bindGroupFormats[i].key;
    }
    const vertexBufferLayoutKey = this.vertexBufferLayout.getKey(vertexFormat0, vertexFormat1);
    const renderTargetKey = renderTarget.impl.key;
    const renderStateKey = renderState.blendKey;
    return vertexBufferLayoutKey + shader.impl.vertexCode + shader.impl.fragmentCode + renderTargetKey + renderStateKey + primitive.type + bindGroupKey;
  }

  getPipelineLayout(bindGroupFormats) {
    bindGroupFormats.forEach(format => {
      _bindGroupLayouts.push(format.bindGroupLayout);
    });
    const descr = {
      bindGroupLayouts: _bindGroupLayouts
    };
    _layoutId++;
    DebugHelper.setLabel(descr, `PipelineLayoutDescr-${_layoutId}`);

    const pipelineLayout = this.device.wgpu.createPipelineLayout(descr);
    DebugHelper.setLabel(pipelineLayout, `PipelineLayout-${_layoutId}`);
    Debug.trace(TRACEID_PIPELINELAYOUT_ALLOC, `Alloc: Id ${_layoutId}`, descr);
    _bindGroupLayouts.length = 0;
    return pipelineLayout;
  }
  getBlend(renderState) {
    const blend = {
      color: {
        operation: _blendOperation[renderState.blendEquationColor],
        srcFactor: _blendFactor[renderState.blendSrcColor],
        dstFactor: _blendFactor[renderState.blendDstColor]
      },
      alpha: {
        operation: _blendOperation[renderState.blendEquationAlpha],
        srcFactor: _blendFactor[renderState.blendSrcAlpha],
        dstFactor: _blendFactor[renderState.blendDstAlpha]
      }
    };

    Debug.assert(blend.color.srcFactor !== undefined);
    Debug.assert(blend.color.dstFactor !== undefined);
    Debug.assert(blend.alpha.srcFactor !== undefined);
    Debug.assert(blend.alpha.dstFactor !== undefined);
    return blend;
  }
  create(primitiveTopology, webgpuShader, renderTarget, pipelineLayout, renderState, vertexBufferLayout) {
    const wgpu = this.device.wgpu;

    const depthStencil = renderTarget.depth ? {
      depthWriteEnabled: true,
      depthCompare: 'less',
      format: renderTarget.impl.depthFormat
    } : undefined;

    const descr = {
      vertex: {
        module: wgpu.createShaderModule({
          code: webgpuShader.vertexCode
        }),
        entryPoint: 'main',
        buffers: vertexBufferLayout
      },
      fragment: {
        module: wgpu.createShaderModule({
          code: webgpuShader.fragmentCode
        }),
        entryPoint: 'main',
        targets: [{
          format: renderTarget.impl.colorFormat,
          writeMask: GPUColorWrite.ALL,
          blend: this.getBlend(renderState)
        }]
      },
      primitive: {
        topology: primitiveTopology,
        cullMode: "none"
      },
      depthStencil,
      multisample: {
        count: renderTarget.samples
      },
      layout: pipelineLayout
    };
    _pipelineId++;
    DebugHelper.setLabel(descr, `RenderPipelineDescr-${_pipelineId}`);
    const pipeline = wgpu.createRenderPipeline(descr);
    DebugHelper.setLabel(pipeline, `RenderPipeline-${_pipelineId}`);
    Debug.trace(TRACEID_RENDERPIPELINE_ALLOC, `Alloc: Id ${_pipelineId}`, descr);
    return pipeline;
  }
}

export { WebgpuRenderPipeline };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ3B1LXJlbmRlci1waXBlbGluZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2dyYXBoaWNzL3dlYmdwdS93ZWJncHUtcmVuZGVyLXBpcGVsaW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnLCBEZWJ1Z0hlbHBlciB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL2RlYnVnLmpzXCI7XG5pbXBvcnQgeyBUUkFDRUlEX1JFTkRFUlBJUEVMSU5FX0FMTE9DLCBUUkFDRUlEX1BJUEVMSU5FTEFZT1VUX0FMTE9DIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvY29uc3RhbnRzLmpzXCI7XG5cbmltcG9ydCB7IFdlYmdwdVZlcnRleEJ1ZmZlckxheW91dCB9IGZyb20gXCIuL3dlYmdwdS12ZXJ0ZXgtYnVmZmVyLWxheW91dC5qc1wiO1xuXG5sZXQgX3BpcGVsaW5lSWQgPSAwO1xubGV0IF9sYXlvdXRJZCA9IDA7XG5cbmNvbnN0IF9wcmltaXRpdmVUb3BvbG9neSA9IFtcbiAgICAncG9pbnQtbGlzdCcsICAgICAgIC8vIFBSSU1JVElWRV9QT0lOVFNcbiAgICAnbGluZS1saXN0JywgICAgICAgIC8vIFBSSU1JVElWRV9MSU5FU1xuICAgIHVuZGVmaW5lZCwgICAgICAgICAgLy8gUFJJTUlUSVZFX0xJTkVMT09QXG4gICAgJ2xpbmUtc3RyaXAnLCAgICAgICAvLyBQUklNSVRJVkVfTElORVNUUklQXG4gICAgJ3RyaWFuZ2xlLWxpc3QnLCAgICAvLyBQUklNSVRJVkVfVFJJQU5HTEVTXG4gICAgJ3RyaWFuZ2xlLXN0cmlwJywgICAvLyBQUklNSVRJVkVfVFJJU1RSSVBcbiAgICB1bmRlZmluZWQgICAgICAgICAgIC8vIFBSSU1JVElWRV9UUklGQU5cbl07XG5cbmNvbnN0IF9ibGVuZE9wZXJhdGlvbiA9IFtcbiAgICAnYWRkJywgICAgICAgICAgICAgIC8vIEJMRU5ERVFVQVRJT05fQUREXG4gICAgJ3N1YnRyYWN0JywgICAgICAgICAvLyBCTEVOREVRVUFUSU9OX1NVQlRSQUNUXG4gICAgJ3JldmVyc2Utc3VidHJhY3QnLCAvLyBCTEVOREVRVUFUSU9OX1JFVkVSU0VfU1VCVFJBQ1RcbiAgICAnbWluJywgICAgICAgICAgICAgIC8vIEJMRU5ERVFVQVRJT05fTUlOXG4gICAgJ21heCcgICAgICAgICAgICAgICAvLyBCTEVOREVRVUFUSU9OX01BWFxuXTtcblxuY29uc3QgX2JsZW5kRmFjdG9yID0gW1xuICAgICd6ZXJvJywgICAgICAgICAgICAgICAgIC8vIEJMRU5ETU9ERV9aRVJPXG4gICAgJ29uZScsICAgICAgICAgICAgICAgICAgLy8gQkxFTkRNT0RFX09ORVxuICAgICdzcmMnLCAgICAgICAgICAgICAgICAgIC8vIEJMRU5ETU9ERV9TUkNfQ09MT1JcbiAgICAnb25lLW1pbnVzLXNyYycsICAgICAgICAvLyBCTEVORE1PREVfT05FX01JTlVTX1NSQ19DT0xPUlxuICAgICdkc3QnLCAgICAgICAgICAgICAgICAgIC8vIEJMRU5ETU9ERV9EU1RfQ09MT1JcbiAgICAnb25lLW1pbnVzLWRzdCcsICAgICAgICAvLyBCTEVORE1PREVfT05FX01JTlVTX0RTVF9DT0xPUlxuICAgICdzcmMtYWxwaGEnLCAgICAgICAgICAgIC8vIEJMRU5ETU9ERV9TUkNfQUxQSEFcbiAgICAnc3JjLWFscGhhLXNhdHVyYXRlZCcsICAvLyBCTEVORE1PREVfU1JDX0FMUEhBX1NBVFVSQVRFXG4gICAgJ29uZS1taW51cy1zcmMtYWxwaGEnLCAgLy8gQkxFTkRNT0RFX09ORV9NSU5VU19TUkNfQUxQSEFcbiAgICAnZHN0LWFscGhhJywgICAgICAgICAgICAvLyBCTEVORE1PREVfRFNUX0FMUEhBXG4gICAgJ29uZS1taW51cy1kc3QtYWxwaGEnLCAgLy8gQkxFTkRNT0RFX09ORV9NSU5VU19EU1RfQUxQSEFcbiAgICAnY29uc3RhbnQnLCAgICAgICAgICAgICAvLyBCTEVORE1PREVfQ09OU1RBTlRfQ09MT1JcbiAgICAnb25lLW1pbnVzLWNvbnN0YW50JywgICAvLyBCTEVORE1PREVfT05FX01JTlVTX0NPTlNUQU5UX0NPTE9SXG4gICAgdW5kZWZpbmVkLCAgICAgICAgICAgICAgLy8gQkxFTkRNT0RFX0NPTlNUQU5UX0FMUEhBXG4gICAgdW5kZWZpbmVkICAgICAgICAgICAgICAgLy8gQkxFTkRNT0RFX09ORV9NSU5VU19DT05TVEFOVF9BTFBIQVxuXTtcblxuLy8gdGVtcCBhcnJheSB0byBhdm9pZCBhbGxvY2F0aW9uXG5jb25zdCBfYmluZEdyb3VwTGF5b3V0cyA9IFtdO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgV2ViZ3B1UmVuZGVyUGlwZWxpbmUge1xuICAgIGNvbnN0cnVjdG9yKGRldmljZSkge1xuICAgICAgICAvKiogQHR5cGUge2ltcG9ydCgnLi93ZWJncHUtZ3JhcGhpY3MtZGV2aWNlLmpzJykuV2ViZ3B1R3JhcGhpY3NEZXZpY2V9ICovXG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FjaGUgb2YgdmVydGV4IGJ1ZmZlciBsYXlvdXRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtXZWJncHVWZXJ0ZXhCdWZmZXJMYXlvdXR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlckxheW91dCA9IG5ldyBXZWJncHVWZXJ0ZXhCdWZmZXJMYXlvdXQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhY2hlIG9mIHJlbmRlciBwaXBlbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge01hcDxzdHJpbmcsIG9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGdldChwcmltaXRpdmUsIHZlcnRleEZvcm1hdDAsIHZlcnRleEZvcm1hdDEsIHNoYWRlciwgcmVuZGVyVGFyZ2V0LCBiaW5kR3JvdXBGb3JtYXRzLCByZW5kZXJTdGF0ZSkge1xuXG4gICAgICAgIC8vIHJlbmRlciBwaXBlbGluZSB1bmlxdWUga2V5XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0S2V5KHByaW1pdGl2ZSwgdmVydGV4Rm9ybWF0MCwgdmVydGV4Rm9ybWF0MSwgc2hhZGVyLCByZW5kZXJUYXJnZXQsIGJpbmRHcm91cEZvcm1hdHMsIHJlbmRlclN0YXRlKTtcblxuICAgICAgICAvLyBjYWNoZWQgcGlwZWxpbmVcbiAgICAgICAgbGV0IHBpcGVsaW5lID0gdGhpcy5jYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFwaXBlbGluZSkge1xuXG4gICAgICAgICAgICBjb25zdCBwcmltaXRpdmVUb3BvbG9neSA9IF9wcmltaXRpdmVUb3BvbG9neVtwcmltaXRpdmUudHlwZV07XG4gICAgICAgICAgICBEZWJ1Zy5hc3NlcnQocHJpbWl0aXZlVG9wb2xvZ3ksIGBVbnN1cHBvcnRlZCBwcmltaXRpdmUgdG9wb2xvZ3kgJHtwcmltaXRpdmV9YCk7XG5cbiAgICAgICAgICAgIC8vIHBpcGVsaW5lIGxheW91dFxuICAgICAgICAgICAgY29uc3QgcGlwZWxpbmVMYXlvdXQgPSB0aGlzLmdldFBpcGVsaW5lTGF5b3V0KGJpbmRHcm91cEZvcm1hdHMpO1xuXG4gICAgICAgICAgICAvLyB2ZXJ0ZXggYnVmZmVyIGxheW91dFxuICAgICAgICAgICAgY29uc3QgdmVydGV4QnVmZmVyTGF5b3V0ID0gdGhpcy52ZXJ0ZXhCdWZmZXJMYXlvdXQuZ2V0KHZlcnRleEZvcm1hdDAsIHZlcnRleEZvcm1hdDEpO1xuXG4gICAgICAgICAgICAvLyBwaXBlbGluZVxuICAgICAgICAgICAgcGlwZWxpbmUgPSB0aGlzLmNyZWF0ZShwcmltaXRpdmVUb3BvbG9neSwgc2hhZGVyLmltcGwsIHJlbmRlclRhcmdldCwgcGlwZWxpbmVMYXlvdXQsIHJlbmRlclN0YXRlLCB2ZXJ0ZXhCdWZmZXJMYXlvdXQpO1xuICAgICAgICAgICAgdGhpcy5jYWNoZS5zZXQoa2V5LCBwaXBlbGluZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGlwZWxpbmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSB1bmlxdWUga2V5IGZvciB0aGUgcmVuZGVyIHBpcGVsaW5lLiBLZWVwIHRoaXMgZnVuY3Rpb24gYXMgbGVhbiBhcyBwb3NzaWJsZSxcbiAgICAgKiBhcyBpdCBleGVjdXRlcyBmb3IgZWFjaCBkcmF3IGNhbGwuXG4gICAgICovXG4gICAgZ2V0S2V5KHByaW1pdGl2ZSwgdmVydGV4Rm9ybWF0MCwgdmVydGV4Rm9ybWF0MSwgc2hhZGVyLCByZW5kZXJUYXJnZXQsIGJpbmRHcm91cEZvcm1hdHMsIHJlbmRlclN0YXRlKSB7XG5cbiAgICAgICAgbGV0IGJpbmRHcm91cEtleSA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbmRHcm91cEZvcm1hdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJpbmRHcm91cEtleSArPSBiaW5kR3JvdXBGb3JtYXRzW2ldLmtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZlcnRleEJ1ZmZlckxheW91dEtleSA9IHRoaXMudmVydGV4QnVmZmVyTGF5b3V0LmdldEtleSh2ZXJ0ZXhGb3JtYXQwLCB2ZXJ0ZXhGb3JtYXQxKTtcbiAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0S2V5ID0gcmVuZGVyVGFyZ2V0LmltcGwua2V5O1xuICAgICAgICBjb25zdCByZW5kZXJTdGF0ZUtleSA9IHJlbmRlclN0YXRlLmJsZW5kS2V5O1xuXG4gICAgICAgIHJldHVybiB2ZXJ0ZXhCdWZmZXJMYXlvdXRLZXkgKyBzaGFkZXIuaW1wbC52ZXJ0ZXhDb2RlICsgc2hhZGVyLmltcGwuZnJhZ21lbnRDb2RlICtcbiAgICAgICAgICAgIHJlbmRlclRhcmdldEtleSArIHJlbmRlclN0YXRlS2V5ICsgcHJpbWl0aXZlLnR5cGUgKyBiaW5kR3JvdXBLZXk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogdGhpcyBjb3VsZCBiZSBjYWNoZWQgdXNpbmcgYmluZEdyb3VwS2V5XG4gICAgZ2V0UGlwZWxpbmVMYXlvdXQoYmluZEdyb3VwRm9ybWF0cykge1xuXG4gICAgICAgIGJpbmRHcm91cEZvcm1hdHMuZm9yRWFjaCgoZm9ybWF0KSA9PiB7XG4gICAgICAgICAgICBfYmluZEdyb3VwTGF5b3V0cy5wdXNoKGZvcm1hdC5iaW5kR3JvdXBMYXlvdXQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkZXNjciA9IHtcbiAgICAgICAgICAgIGJpbmRHcm91cExheW91dHM6IF9iaW5kR3JvdXBMYXlvdXRzXG4gICAgICAgIH07XG5cbiAgICAgICAgX2xheW91dElkKys7XG4gICAgICAgIERlYnVnSGVscGVyLnNldExhYmVsKGRlc2NyLCBgUGlwZWxpbmVMYXlvdXREZXNjci0ke19sYXlvdXRJZH1gKTtcblxuICAgICAgICAvLyB0eXBlIHtHUFVQaXBlbGluZUxheW91dH1cbiAgICAgICAgY29uc3QgcGlwZWxpbmVMYXlvdXQgPSB0aGlzLmRldmljZS53Z3B1LmNyZWF0ZVBpcGVsaW5lTGF5b3V0KGRlc2NyKTtcbiAgICAgICAgRGVidWdIZWxwZXIuc2V0TGFiZWwocGlwZWxpbmVMYXlvdXQsIGBQaXBlbGluZUxheW91dC0ke19sYXlvdXRJZH1gKTtcbiAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9QSVBFTElORUxBWU9VVF9BTExPQywgYEFsbG9jOiBJZCAke19sYXlvdXRJZH1gLCBkZXNjcik7XG5cbiAgICAgICAgX2JpbmRHcm91cExheW91dHMubGVuZ3RoID0gMDtcblxuICAgICAgICByZXR1cm4gcGlwZWxpbmVMYXlvdXQ7XG4gICAgfVxuXG4gICAgZ2V0QmxlbmQocmVuZGVyU3RhdGUpIHtcbiAgICAgICAgLy8gdHlwZSB7R1BVQmxlbmRTdGF0ZX1cbiAgICAgICAgY29uc3QgYmxlbmQgPSB7XG4gICAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogX2JsZW5kT3BlcmF0aW9uW3JlbmRlclN0YXRlLmJsZW5kRXF1YXRpb25Db2xvcl0sXG4gICAgICAgICAgICAgICAgc3JjRmFjdG9yOiBfYmxlbmRGYWN0b3JbcmVuZGVyU3RhdGUuYmxlbmRTcmNDb2xvcl0sXG4gICAgICAgICAgICAgICAgZHN0RmFjdG9yOiBfYmxlbmRGYWN0b3JbcmVuZGVyU3RhdGUuYmxlbmREc3RDb2xvcl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbHBoYToge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogX2JsZW5kT3BlcmF0aW9uW3JlbmRlclN0YXRlLmJsZW5kRXF1YXRpb25BbHBoYV0sXG4gICAgICAgICAgICAgICAgc3JjRmFjdG9yOiBfYmxlbmRGYWN0b3JbcmVuZGVyU3RhdGUuYmxlbmRTcmNBbHBoYV0sXG4gICAgICAgICAgICAgICAgZHN0RmFjdG9yOiBfYmxlbmRGYWN0b3JbcmVuZGVyU3RhdGUuYmxlbmREc3RBbHBoYV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyB1bnN1cHBvcnRlZCBibGVuZCBmYWN0b3JzXG4gICAgICAgIERlYnVnLmFzc2VydChibGVuZC5jb2xvci5zcmNGYWN0b3IgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIERlYnVnLmFzc2VydChibGVuZC5jb2xvci5kc3RGYWN0b3IgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIERlYnVnLmFzc2VydChibGVuZC5hbHBoYS5zcmNGYWN0b3IgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIERlYnVnLmFzc2VydChibGVuZC5hbHBoYS5kc3RGYWN0b3IgIT09IHVuZGVmaW5lZCk7XG5cbiAgICAgICAgcmV0dXJuIGJsZW5kO1xuICAgIH1cblxuICAgIGNyZWF0ZShwcmltaXRpdmVUb3BvbG9neSwgd2ViZ3B1U2hhZGVyLCByZW5kZXJUYXJnZXQsIHBpcGVsaW5lTGF5b3V0LCByZW5kZXJTdGF0ZSwgdmVydGV4QnVmZmVyTGF5b3V0KSB7XG5cbiAgICAgICAgY29uc3Qgd2dwdSA9IHRoaXMuZGV2aWNlLndncHU7XG5cbiAgICAgICAgLy8gdHlwZSB7R1BVRGVwdGhTdGVuY2lsU3RhdGV9XG4gICAgICAgIGNvbnN0IGRlcHRoU3RlbmNpbCA9IHJlbmRlclRhcmdldC5kZXB0aCA/IHtcbiAgICAgICAgICAgIGRlcHRoV3JpdGVFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGVwdGhDb21wYXJlOiAnbGVzcycsXG4gICAgICAgICAgICBmb3JtYXQ6IHJlbmRlclRhcmdldC5pbXBsLmRlcHRoRm9ybWF0XG4gICAgICAgIH0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gdHlwZSB7R1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yfVxuICAgICAgICBjb25zdCBkZXNjciA9IHtcbiAgICAgICAgICAgIHZlcnRleDoge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogd2dwdS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB3ZWJncHVTaGFkZXIudmVydGV4Q29kZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGVudHJ5UG9pbnQ6ICdtYWluJyxcbiAgICAgICAgICAgICAgICBidWZmZXJzOiB2ZXJ0ZXhCdWZmZXJMYXlvdXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcmFnbWVudDoge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogd2dwdS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB3ZWJncHVTaGFkZXIuZnJhZ21lbnRDb2RlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgICAgICAgICAgIHRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogcmVuZGVyVGFyZ2V0LmltcGwuY29sb3JGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlTWFzazogR1BVQ29sb3JXcml0ZS5BTEwsXG4gICAgICAgICAgICAgICAgICAgIGJsZW5kOiB0aGlzLmdldEJsZW5kKHJlbmRlclN0YXRlKVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJpbWl0aXZlOiB7XG4gICAgICAgICAgICAgICAgdG9wb2xvZ3k6IHByaW1pdGl2ZVRvcG9sb2d5LFxuICAgICAgICAgICAgICAgIGN1bGxNb2RlOiBcIm5vbmVcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsLFxuXG4gICAgICAgICAgICBtdWx0aXNhbXBsZToge1xuICAgICAgICAgICAgICAgIGNvdW50OiByZW5kZXJUYXJnZXQuc2FtcGxlc1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gdW5pZm9ybSAvIHRleHR1cmUgYmluZGluZyBsYXlvdXRcbiAgICAgICAgICAgIGxheW91dDogcGlwZWxpbmVMYXlvdXRcbiAgICAgICAgfTtcblxuICAgICAgICBfcGlwZWxpbmVJZCsrO1xuICAgICAgICBEZWJ1Z0hlbHBlci5zZXRMYWJlbChkZXNjciwgYFJlbmRlclBpcGVsaW5lRGVzY3ItJHtfcGlwZWxpbmVJZH1gKTtcblxuICAgICAgICBjb25zdCBwaXBlbGluZSA9IHdncHUuY3JlYXRlUmVuZGVyUGlwZWxpbmUoZGVzY3IpO1xuXG4gICAgICAgIERlYnVnSGVscGVyLnNldExhYmVsKHBpcGVsaW5lLCBgUmVuZGVyUGlwZWxpbmUtJHtfcGlwZWxpbmVJZH1gKTtcbiAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9SRU5ERVJQSVBFTElORV9BTExPQywgYEFsbG9jOiBJZCAke19waXBlbGluZUlkfWAsIGRlc2NyKTtcblxuICAgICAgICByZXR1cm4gcGlwZWxpbmU7XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJncHVSZW5kZXJQaXBlbGluZSB9O1xuIl0sIm5hbWVzIjpbIl9waXBlbGluZUlkIiwiX2xheW91dElkIiwiX3ByaW1pdGl2ZVRvcG9sb2d5IiwidW5kZWZpbmVkIiwiX2JsZW5kT3BlcmF0aW9uIiwiX2JsZW5kRmFjdG9yIiwiX2JpbmRHcm91cExheW91dHMiLCJXZWJncHVSZW5kZXJQaXBlbGluZSIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwidmVydGV4QnVmZmVyTGF5b3V0IiwiV2ViZ3B1VmVydGV4QnVmZmVyTGF5b3V0IiwiY2FjaGUiLCJNYXAiLCJnZXQiLCJwcmltaXRpdmUiLCJ2ZXJ0ZXhGb3JtYXQwIiwidmVydGV4Rm9ybWF0MSIsInNoYWRlciIsInJlbmRlclRhcmdldCIsImJpbmRHcm91cEZvcm1hdHMiLCJyZW5kZXJTdGF0ZSIsImtleSIsImdldEtleSIsInBpcGVsaW5lIiwicHJpbWl0aXZlVG9wb2xvZ3kiLCJ0eXBlIiwiRGVidWciLCJhc3NlcnQiLCJwaXBlbGluZUxheW91dCIsImdldFBpcGVsaW5lTGF5b3V0IiwiY3JlYXRlIiwiaW1wbCIsInNldCIsImJpbmRHcm91cEtleSIsImkiLCJsZW5ndGgiLCJ2ZXJ0ZXhCdWZmZXJMYXlvdXRLZXkiLCJyZW5kZXJUYXJnZXRLZXkiLCJyZW5kZXJTdGF0ZUtleSIsImJsZW5kS2V5IiwidmVydGV4Q29kZSIsImZyYWdtZW50Q29kZSIsImZvckVhY2giLCJmb3JtYXQiLCJwdXNoIiwiYmluZEdyb3VwTGF5b3V0IiwiZGVzY3IiLCJiaW5kR3JvdXBMYXlvdXRzIiwiRGVidWdIZWxwZXIiLCJzZXRMYWJlbCIsIndncHUiLCJjcmVhdGVQaXBlbGluZUxheW91dCIsInRyYWNlIiwiVFJBQ0VJRF9QSVBFTElORUxBWU9VVF9BTExPQyIsImdldEJsZW5kIiwiYmxlbmQiLCJjb2xvciIsIm9wZXJhdGlvbiIsImJsZW5kRXF1YXRpb25Db2xvciIsInNyY0ZhY3RvciIsImJsZW5kU3JjQ29sb3IiLCJkc3RGYWN0b3IiLCJibGVuZERzdENvbG9yIiwiYWxwaGEiLCJibGVuZEVxdWF0aW9uQWxwaGEiLCJibGVuZFNyY0FscGhhIiwiYmxlbmREc3RBbHBoYSIsIndlYmdwdVNoYWRlciIsImRlcHRoU3RlbmNpbCIsImRlcHRoIiwiZGVwdGhXcml0ZUVuYWJsZWQiLCJkZXB0aENvbXBhcmUiLCJkZXB0aEZvcm1hdCIsInZlcnRleCIsIm1vZHVsZSIsImNyZWF0ZVNoYWRlck1vZHVsZSIsImNvZGUiLCJlbnRyeVBvaW50IiwiYnVmZmVycyIsImZyYWdtZW50IiwidGFyZ2V0cyIsImNvbG9yRm9ybWF0Iiwid3JpdGVNYXNrIiwiR1BVQ29sb3JXcml0ZSIsIkFMTCIsInRvcG9sb2d5IiwiY3VsbE1vZGUiLCJtdWx0aXNhbXBsZSIsImNvdW50Iiwic2FtcGxlcyIsImxheW91dCIsImNyZWF0ZVJlbmRlclBpcGVsaW5lIiwiVFJBQ0VJRF9SRU5ERVJQSVBFTElORV9BTExPQyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBS0EsSUFBSUEsV0FBVyxHQUFHLENBQUMsQ0FBQTtBQUNuQixJQUFJQyxTQUFTLEdBQUcsQ0FBQyxDQUFBO0FBRWpCLE1BQU1DLGtCQUFrQixHQUFHLENBQ3ZCLFlBQVk7QUFDWixXQUFXO0FBQ1hDLFNBQVM7QUFDVCxZQUFZO0FBQ1osZUFBZTtBQUNmLGdCQUFnQjtBQUNoQkEsU0FBUyxDQUNaLENBQUE7O0FBRUQsTUFBTUMsZUFBZSxHQUFHLENBQ3BCLEtBQUs7QUFDTCxVQUFVO0FBQ1Ysa0JBQWtCO0FBQ2xCLEtBQUs7QUFDTCxLQUFLLENBQ1IsQ0FBQTs7QUFFRCxNQUFNQyxZQUFZLEdBQUcsQ0FDakIsTUFBTTtBQUNOLEtBQUs7QUFDTCxLQUFLO0FBQ0wsZUFBZTtBQUNmLEtBQUs7QUFDTCxlQUFlO0FBQ2YsV0FBVztBQUNYLHFCQUFxQjtBQUNyQixxQkFBcUI7QUFDckIsV0FBVztBQUNYLHFCQUFxQjtBQUNyQixVQUFVO0FBQ1Ysb0JBQW9CO0FBQ3BCRixTQUFTO0FBQ1RBLFNBQVMsQ0FDWixDQUFBOztBQUdELE1BQU1HLGlCQUFpQixHQUFHLEVBQUUsQ0FBQTs7QUFLNUIsTUFBTUMsb0JBQW9CLENBQUM7RUFDdkJDLFdBQVcsQ0FBQ0MsTUFBTSxFQUFFO0lBRWhCLElBQUksQ0FBQ0EsTUFBTSxHQUFH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
