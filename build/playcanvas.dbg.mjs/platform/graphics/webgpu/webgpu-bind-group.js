import { Debug, DebugHelper } from '../../../core/debug.js';
import { WebgpuDebug } from './webgpu-debug.js';

/**
 * A WebGPU implementation of the BindGroup, which is a wrapper over GPUBindGroup.
 *
 * @ignore
 */
class WebgpuBindGroup {
  constructor() {
    /**
     * @type {GPUBindGroup}
     * @private
     */
    this.bindGroup = void 0;
  }
  update(bindGroup) {
    this.destroy();
    const device = bindGroup.device;

    /** @type {GPUBindGroupDescriptor} */
    const descr = this.createDescriptor(device, bindGroup);
    WebgpuDebug.validate(device);
    this.bindGroup = device.wgpu.createBindGroup(descr);
    WebgpuDebug.end(device, {
      debugFormat: this.debugFormat,
      descr: descr,
      format: bindGroup.format,
      bindGroup: bindGroup
    });
  }
  destroy() {
    // this.bindGroup?.destroy();
    this.bindGroup = null;
  }

  /**
   * Creates a bind group descriptor in WebGPU format
   *
   * @param {import('./webgpu-graphics-device.js').WebgpuGraphicsDevice} device - Graphics device.
   * @param {import('../bind-group.js').BindGroup} bindGroup - Bind group to create the
   * descriptor for.
   * @returns {object} - Returns the generated descriptor of type
   * GPUBindGroupDescriptor, which can be used to create a GPUBindGroup
   */
  createDescriptor(device, bindGroup) {
    // Note: This needs to match WebgpuBindGroupFormat.createDescriptor
    const entries = [];
    const format = bindGroup.format;
    Debug.call(() => {
      this.debugFormat = '';
    });

    // uniform buffers
    let index = 0;
    bindGroup.uniformBuffers.forEach(ub => {
      const buffer = ub.persistent ? ub.impl.buffer : ub.allocation.gpuBuffer.buffer;
      Debug.assert(buffer, 'NULL uniform buffer cannot be used by the bind group');
      Debug.call(() => {
        this.debugFormat += `${index}: UB\n`;
      });
      entries.push({
        binding: index++,
        resource: {
          buffer: buffer,
          offset: 0,
          size: ub.format.byteSize
        }
      });
    });

    // textures
    bindGroup.textures.forEach((tex, textureIndex) => {
      /** @type {import('./webgpu-texture.js').WebgpuTexture} */
      const wgpuTexture = tex.impl;
      const textureFormat = format.textureFormats[textureIndex];

      // texture
      const view = wgpuTexture.getView(device);
      Debug.assert(view, 'NULL texture view cannot be used by the bind group');
      Debug.call(() => {
        this.debugFormat += `${index}: ${bindGroup.format.textureFormats[textureIndex].name}\n`;
      });
      entries.push({
        binding: index++,
        resource: view
      });

      // sampler
      const sampler = wgpuTexture.getSampler(device, textureFormat.sampleType);
      Debug.assert(sampler, 'NULL sampler cannot be used by the bind group');
      Debug.call(() => {
        this.debugFormat += `${index}: ${sampler.label}\n`;
      });
      entries.push({
        binding: index++,
        resource: sampler
      });
    });
    const descr = {
      layout: bindGroup.format.impl.bindGroupLayout,
      entries: entries
    };
    DebugHelper.setLabel(descr, bindGroup.name);
    return descr;
  }
}

export { WebgpuBindGroup };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ3B1LWJpbmQtZ3JvdXAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9wbGF0Zm9ybS9ncmFwaGljcy93ZWJncHUvd2ViZ3B1LWJpbmQtZ3JvdXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVidWcsIERlYnVnSGVscGVyIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9kZWJ1Zy5qcyc7XG5pbXBvcnQgeyBXZWJncHVEZWJ1ZyB9IGZyb20gJy4vd2ViZ3B1LWRlYnVnLmpzJztcblxuLyoqXG4gKiBBIFdlYkdQVSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQmluZEdyb3VwLCB3aGljaCBpcyBhIHdyYXBwZXIgb3ZlciBHUFVCaW5kR3JvdXAuXG4gKlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBXZWJncHVCaW5kR3JvdXAge1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtHUFVCaW5kR3JvdXB9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBiaW5kR3JvdXA7XG5cbiAgICB1cGRhdGUoYmluZEdyb3VwKSB7XG5cbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIGNvbnN0IGRldmljZSA9IGJpbmRHcm91cC5kZXZpY2U7XG5cbiAgICAgICAgLyoqIEB0eXBlIHtHUFVCaW5kR3JvdXBEZXNjcmlwdG9yfSAqL1xuICAgICAgICBjb25zdCBkZXNjciA9IHRoaXMuY3JlYXRlRGVzY3JpcHRvcihkZXZpY2UsIGJpbmRHcm91cCk7XG5cbiAgICAgICAgV2ViZ3B1RGVidWcudmFsaWRhdGUoZGV2aWNlKTtcblxuICAgICAgICB0aGlzLmJpbmRHcm91cCA9IGRldmljZS53Z3B1LmNyZWF0ZUJpbmRHcm91cChkZXNjcik7XG5cbiAgICAgICAgV2ViZ3B1RGVidWcuZW5kKGRldmljZSwge1xuICAgICAgICAgICAgZGVidWdGb3JtYXQ6IHRoaXMuZGVidWdGb3JtYXQsXG4gICAgICAgICAgICBkZXNjcjogZGVzY3IsXG4gICAgICAgICAgICBmb3JtYXQ6IGJpbmRHcm91cC5mb3JtYXQsXG4gICAgICAgICAgICBiaW5kR3JvdXA6IGJpbmRHcm91cFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICAvLyB0aGlzLmJpbmRHcm91cD8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmJpbmRHcm91cCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJpbmQgZ3JvdXAgZGVzY3JpcHRvciBpbiBXZWJHUFUgZm9ybWF0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi93ZWJncHUtZ3JhcGhpY3MtZGV2aWNlLmpzJykuV2ViZ3B1R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIEdyYXBoaWNzIGRldmljZS5cbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vYmluZC1ncm91cC5qcycpLkJpbmRHcm91cH0gYmluZEdyb3VwIC0gQmluZCBncm91cCB0byBjcmVhdGUgdGhlXG4gICAgICogZGVzY3JpcHRvciBmb3IuXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgZGVzY3JpcHRvciBvZiB0eXBlXG4gICAgICogR1BVQmluZEdyb3VwRGVzY3JpcHRvciwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEgR1BVQmluZEdyb3VwXG4gICAgICovXG4gICAgY3JlYXRlRGVzY3JpcHRvcihkZXZpY2UsIGJpbmRHcm91cCkge1xuXG4gICAgICAgIC8vIE5vdGU6IFRoaXMgbmVlZHMgdG8gbWF0Y2ggV2ViZ3B1QmluZEdyb3VwRm9ybWF0LmNyZWF0ZURlc2NyaXB0b3JcbiAgICAgICAgY29uc3QgZW50cmllcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGJpbmRHcm91cC5mb3JtYXQ7XG5cbiAgICAgICAgRGVidWcuY2FsbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnRm9ybWF0ID0gJyc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVuaWZvcm0gYnVmZmVyc1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBiaW5kR3JvdXAudW5pZm9ybUJ1ZmZlcnMuZm9yRWFjaCgodWIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHViLnBlcnNpc3RlbnQgPyB1Yi5pbXBsLmJ1ZmZlciA6IHViLmFsbG9jYXRpb24uZ3B1QnVmZmVyLmJ1ZmZlcjtcbiAgICAgICAgICAgIERlYnVnLmFzc2VydChidWZmZXIsICdOVUxMIHVuaWZvcm0gYnVmZmVyIGNhbm5vdCBiZSB1c2VkIGJ5IHRoZSBiaW5kIGdyb3VwJyk7XG4gICAgICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnRm9ybWF0ICs9IGAke2luZGV4fTogVUJcXG5gO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgYmluZGluZzogaW5kZXgrKyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiB1Yi5mb3JtYXQuYnl0ZVNpemVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdGV4dHVyZXNcbiAgICAgICAgYmluZEdyb3VwLnRleHR1cmVzLmZvckVhY2goKHRleCwgdGV4dHVyZUluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuL3dlYmdwdS10ZXh0dXJlLmpzJykuV2ViZ3B1VGV4dHVyZX0gKi9cbiAgICAgICAgICAgIGNvbnN0IHdncHVUZXh0dXJlID0gdGV4LmltcGw7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlRm9ybWF0ID0gZm9ybWF0LnRleHR1cmVGb3JtYXRzW3RleHR1cmVJbmRleF07XG5cbiAgICAgICAgICAgIC8vIHRleHR1cmVcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB3Z3B1VGV4dHVyZS5nZXRWaWV3KGRldmljZSk7XG4gICAgICAgICAgICBEZWJ1Zy5hc3NlcnQodmlldywgJ05VTEwgdGV4dHVyZSB2aWV3IGNhbm5vdCBiZSB1c2VkIGJ5IHRoZSBiaW5kIGdyb3VwJyk7XG4gICAgICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnRm9ybWF0ICs9IGAke2luZGV4fTogJHtiaW5kR3JvdXAuZm9ybWF0LnRleHR1cmVGb3JtYXRzW3RleHR1cmVJbmRleF0ubmFtZX1cXG5gO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVudHJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgYmluZGluZzogaW5kZXgrKyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZTogdmlld1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNhbXBsZXJcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZXIgPSB3Z3B1VGV4dHVyZS5nZXRTYW1wbGVyKGRldmljZSwgdGV4dHVyZUZvcm1hdC5zYW1wbGVUeXBlKTtcbiAgICAgICAgICAgIERlYnVnLmFzc2VydChzYW1wbGVyLCAnTlVMTCBzYW1wbGVyIGNhbm5vdCBiZSB1c2VkIGJ5IHRoZSBiaW5kIGdyb3VwJyk7XG4gICAgICAgICAgICBEZWJ1Zy5jYWxsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYnVnRm9ybWF0ICs9IGAke2luZGV4fTogJHtzYW1wbGVyLmxhYmVsfVxcbmA7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZW50cmllcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nOiBpbmRleCsrLFxuICAgICAgICAgICAgICAgIHJlc291cmNlOiBzYW1wbGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZGVzY3IgPSB7XG4gICAgICAgICAgICBsYXlvdXQ6IGJpbmRHcm91cC5mb3JtYXQuaW1wbC5iaW5kR3JvdXBMYXlvdXQsXG4gICAgICAgICAgICBlbnRyaWVzOiBlbnRyaWVzXG4gICAgICAgIH07XG5cbiAgICAgICAgRGVidWdIZWxwZXIuc2V0TGFiZWwoZGVzY3IsIGJpbmRHcm91cC5uYW1lKTtcblxuICAgICAgICByZXR1cm4gZGVzY3I7XG4gICAgfVxufVxuXG5leHBvcnQgeyBXZWJncHVCaW5kR3JvdXAgfTtcbiJdLCJuYW1lcyI6WyJXZWJncHVCaW5kR3JvdXAiLCJjb25zdHJ1Y3RvciIsImJpbmRHcm91cCIsInVwZGF0ZSIsImRlc3Ryb3kiLCJkZXZpY2UiLCJkZXNjciIsImNyZWF0ZURlc2NyaXB0b3IiLCJXZWJncHVEZWJ1ZyIsInZhbGlkYXRlIiwid2dwdSIsImNyZWF0ZUJpbmRHcm91cCIsImVuZCIsImRlYnVnRm9ybWF0IiwiZm9ybWF0IiwiZW50cmllcyIsIkRlYnVnIiwiY2FsbCIsImluZGV4IiwidW5pZm9ybUJ1ZmZlcnMiLCJmb3JFYWNoIiwidWIiLCJidWZmZXIiLCJwZXJzaXN0ZW50IiwiaW1wbCIsImFsbG9jYXRpb24iLCJncHVCdWZmZXIiLCJhc3NlcnQiLCJwdXNoIiwiYmluZGluZyIsInJlc291cmNlIiwib2Zmc2V0Iiwic2l6ZSIsImJ5dGVTaXplIiwidGV4dHVyZXMiLCJ0ZXgiLCJ0ZXh0dXJlSW5kZXgiLCJ3Z3B1VGV4dHVyZSIsInRleHR1cmVGb3JtYXQiLCJ0ZXh0dXJlRm9ybWF0cyIsInZpZXciLCJnZXRWaWV3IiwibmFtZSIsInNhbXBsZXIiLCJnZXRTYW1wbGVyIiwic2FtcGxlVHlwZSIsImxhYmVsIiwibGF5b3V0IiwiYmluZEdyb3VwTGF5b3V0IiwiRGVidWdIZWxwZXIiLCJzZXRMYWJlbCJdLCJtYXBwaW5ncyI6Ijs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU1BLGVBQWUsQ0FBQztF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
