import { DebugHelper } from '../../../core/debug.js';

/**
 * @ignore
 */
class WebgpuQuerySet {
  constructor(device, isTimestamp, capacity) {
    this.activeStagingBuffer = null;
    this.device = device;
    this.capacity = capacity;

    // give those buffers labels, and also buffers in dynamic buffers

    const wgpu = device.wgpu;
    this.querySet = wgpu.createQuerySet({
      type: isTimestamp ? 'timestamp' : 'occlusion',
      count: capacity
    });
    const bufferSise = 8 * capacity;
    this.queryBuffer = wgpu.createBuffer({
      size: bufferSise,
      usage: GPUBufferUsage.QUERY_RESOLVE | GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC | GPUBufferUsage.COPY_DST
    });
    this.stagingBuffers = [];
  }
  destroy() {
    var _this$querySet, _this$queryBuffer;
    (_this$querySet = this.querySet) == null ? void 0 : _this$querySet.destroy();
    this.querySet = null;
    (_this$queryBuffer = this.queryBuffer) == null ? void 0 : _this$queryBuffer.destroy();
    this.queryBuffer = null;
    this.activeStagingBuffer = null;

    // this.stagingBuffer?.destroy();
    // this.stagingBuffer = null;
  }

  getStagingBuffer() {
    let stagingBuffer = this.stagingBuffers.pop();
    if (!stagingBuffer) {
      console.log("allocating staging buffer");
      stagingBuffer = this.device.wgpu.createBuffer({
        size: this.queryBuffer.size,
        usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ
      });
    }
    return stagingBuffer;
  }
  resolve() {
    const device = this.device;
    const commandEncoder = device.wgpu.createCommandEncoder();
    DebugHelper.setLabel(commandEncoder, 'ResolveQuerySet-Encoder');

    // copy times to the gpu buffer
    commandEncoder.resolveQuerySet(this.querySet, 0, this.capacity, this.queryBuffer, 0);

    // copy the gpu buffer to the staging buffer
    const activeStagingBuffer = this.getStagingBuffer();
    this.activeStagingBuffer = activeStagingBuffer;
    commandEncoder.copyBufferToBuffer(this.queryBuffer, 0, activeStagingBuffer, 0, this.queryBuffer.size);
    const cb = commandEncoder.finish();
    DebugHelper.setLabel(cb, 'ResolveQuerySet');
    device.addCommandBuffer(cb);
  }
  request(count, renderVersion) {
    const stagingBuffer = this.activeStagingBuffer;
    this.activeStagingBuffer = null;
    return stagingBuffer.mapAsync(GPUMapMode.READ).then(() => {
      // timestamps in nanoseconds. Note that this array is valid only till we unmap the staging buffer.
      const srcTimings = new BigInt64Array(stagingBuffer.getMappedRange());

      // convert to ms per sample pair
      const timings = [];
      for (let i = 0; i < count; i++) {
        timings.push(Number(srcTimings[i * 2 + 1] - srcTimings[i * 2]) * 0.000001);
      }
      stagingBuffer.unmap();
      this.stagingBuffers.push(stagingBuffer);
      return {
        renderVersion,
        timings
      };
    });
  }
}

export { WebgpuQuerySet };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViZ3B1LXF1ZXJ5LXNldC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2dyYXBoaWNzL3dlYmdwdS93ZWJncHUtcXVlcnktc2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlYnVnSGVscGVyIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvZGVidWcuanNcIjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmNsYXNzIFdlYmdwdVF1ZXJ5U2V0IHtcbiAgICBhY3RpdmVTdGFnaW5nQnVmZmVyID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKGRldmljZSwgaXNUaW1lc3RhbXAsIGNhcGFjaXR5KSB7XG4gICAgICAgIHRoaXMuZGV2aWNlID0gZGV2aWNlO1xuICAgICAgICB0aGlzLmNhcGFjaXR5ID0gY2FwYWNpdHk7XG5cblxuICAgICAgICAvLyBnaXZlIHRob3NlIGJ1ZmZlcnMgbGFiZWxzLCBhbmQgYWxzbyBidWZmZXJzIGluIGR5bmFtaWMgYnVmZmVyc1xuXG5cbiAgICAgICAgY29uc3Qgd2dwdSA9IGRldmljZS53Z3B1O1xuICAgICAgICB0aGlzLnF1ZXJ5U2V0ID0gd2dwdS5jcmVhdGVRdWVyeVNldCh7XG4gICAgICAgICAgICB0eXBlOiBpc1RpbWVzdGFtcCA/ICd0aW1lc3RhbXAnIDogJ29jY2x1c2lvbicsXG4gICAgICAgICAgICBjb3VudDogY2FwYWNpdHlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyU2lzZSA9IDggKiBjYXBhY2l0eTtcbiAgICAgICAgdGhpcy5xdWVyeUJ1ZmZlciA9IHdncHUuY3JlYXRlQnVmZmVyKHtcbiAgICAgICAgICAgIHNpemU6IGJ1ZmZlclNpc2UsXG4gICAgICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuUVVFUllfUkVTT0xWRSB8IEdQVUJ1ZmZlclVzYWdlLlNUT1JBR0UgfCBHUFVCdWZmZXJVc2FnZS5DT1BZX1NSQyB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhZ2luZ0J1ZmZlcnMgPSBbXTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnF1ZXJ5U2V0Py5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMucXVlcnlTZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucXVlcnlCdWZmZXI/LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5xdWVyeUJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGFnaW5nQnVmZmVyID0gbnVsbDtcblxuICAgICAgICAvLyB0aGlzLnN0YWdpbmdCdWZmZXI/LmRlc3Ryb3koKTtcbiAgICAgICAgLy8gdGhpcy5zdGFnaW5nQnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXRTdGFnaW5nQnVmZmVyKCkge1xuICAgICAgICBsZXQgc3RhZ2luZ0J1ZmZlciA9IHRoaXMuc3RhZ2luZ0J1ZmZlcnMucG9wKCk7XG4gICAgICAgIGlmICghc3RhZ2luZ0J1ZmZlcikge1xuXG5cblxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFsbG9jYXRpbmcgc3RhZ2luZyBidWZmZXJcIik7XG5cbiAgICAgICAgICAgIHN0YWdpbmdCdWZmZXIgPSB0aGlzLmRldmljZS53Z3B1LmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5xdWVyeUJ1ZmZlci5zaXplLFxuICAgICAgICAgICAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCB8IEdQVUJ1ZmZlclVzYWdlLk1BUF9SRUFEXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhZ2luZ0J1ZmZlcjtcbiAgICB9XG5cbiAgICByZXNvbHZlKCkge1xuICAgICAgICBjb25zdCBkZXZpY2UgPSB0aGlzLmRldmljZTtcbiAgICAgICAgY29uc3QgY29tbWFuZEVuY29kZXIgPSBkZXZpY2Uud2dwdS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuICAgICAgICBEZWJ1Z0hlbHBlci5zZXRMYWJlbChjb21tYW5kRW5jb2RlciwgJ1Jlc29sdmVRdWVyeVNldC1FbmNvZGVyJyk7XG5cbiAgICAgICAgLy8gY29weSB0aW1lcyB0byB0aGUgZ3B1IGJ1ZmZlclxuICAgICAgICBjb21tYW5kRW5jb2Rlci5yZXNvbHZlUXVlcnlTZXQodGhpcy5xdWVyeVNldCwgMCwgdGhpcy5jYXBhY2l0eSwgdGhpcy5xdWVyeUJ1ZmZlciwgMCk7XG5cbiAgICAgICAgLy8gY29weSB0aGUgZ3B1IGJ1ZmZlciB0byB0aGUgc3RhZ2luZyBidWZmZXJcbiAgICAgICAgY29uc3QgYWN0aXZlU3RhZ2luZ0J1ZmZlciA9IHRoaXMuZ2V0U3RhZ2luZ0J1ZmZlcigpO1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YWdpbmdCdWZmZXIgPSBhY3RpdmVTdGFnaW5nQnVmZmVyO1xuICAgICAgICBjb21tYW5kRW5jb2Rlci5jb3B5QnVmZmVyVG9CdWZmZXIodGhpcy5xdWVyeUJ1ZmZlciwgMCwgYWN0aXZlU3RhZ2luZ0J1ZmZlciwgMCwgdGhpcy5xdWVyeUJ1ZmZlci5zaXplKTtcblxuICAgICAgICBjb25zdCBjYiA9IGNvbW1hbmRFbmNvZGVyLmZpbmlzaCgpO1xuICAgICAgICBEZWJ1Z0hlbHBlci5zZXRMYWJlbChjYiwgJ1Jlc29sdmVRdWVyeVNldCcpO1xuICAgICAgICBkZXZpY2UuYWRkQ29tbWFuZEJ1ZmZlcihjYik7XG4gICAgfVxuXG4gICAgcmVxdWVzdChjb3VudCwgcmVuZGVyVmVyc2lvbikge1xuICAgICAgICBjb25zdCBzdGFnaW5nQnVmZmVyID0gdGhpcy5hY3RpdmVTdGFnaW5nQnVmZmVyO1xuICAgICAgICB0aGlzLmFjdGl2ZVN0YWdpbmdCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBzdGFnaW5nQnVmZmVyLm1hcEFzeW5jKEdQVU1hcE1vZGUuUkVBRCkudGhlbigoKSA9PiB7XG5cbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcHMgaW4gbmFub3NlY29uZHMuIE5vdGUgdGhhdCB0aGlzIGFycmF5IGlzIHZhbGlkIG9ubHkgdGlsbCB3ZSB1bm1hcCB0aGUgc3RhZ2luZyBidWZmZXIuXG4gICAgICAgICAgICBjb25zdCBzcmNUaW1pbmdzID0gbmV3IEJpZ0ludDY0QXJyYXkoc3RhZ2luZ0J1ZmZlci5nZXRNYXBwZWRSYW5nZSgpKTtcblxuICAgICAgICAgICAgLy8gY29udmVydCB0byBtcyBwZXIgc2FtcGxlIHBhaXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWluZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHRpbWluZ3MucHVzaChOdW1iZXIoc3JjVGltaW5nc1tpICogMiArIDFdIC0gc3JjVGltaW5nc1tpICogMl0pICogMC4wMDAwMDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzdGFnaW5nQnVmZmVyLnVubWFwKCk7XG4gICAgICAgICAgICB0aGlzLnN0YWdpbmdCdWZmZXJzLnB1c2goc3RhZ2luZ0J1ZmZlcik7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVmVyc2lvbixcbiAgICAgICAgICAgICAgICB0aW1pbmdzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFdlYmdwdVF1ZXJ5U2V0IH07XG4iXSwibmFtZXMiOlsiV2ViZ3B1UXVlcnlTZXQiLCJjb25zdHJ1Y3RvciIsImRldmljZSIsImlzVGltZXN0YW1wIiwiY2FwYWNpdHkiLCJhY3RpdmVTdGFnaW5nQnVmZmVyIiwid2dwdSIsInF1ZXJ5U2V0IiwiY3JlYXRlUXVlcnlTZXQiLCJ0eXBlIiwiY291bnQiLCJidWZmZXJTaXNlIiwicXVlcnlCdWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJzaXplIiwidXNhZ2UiLCJHUFVCdWZmZXJVc2FnZSIsIlFVRVJZX1JFU09MVkUiLCJTVE9SQUdFIiwiQ09QWV9TUkMiLCJDT1BZX0RTVCIsInN0YWdpbmdCdWZmZXJzIiwiZGVzdHJveSIsIl90aGlzJHF1ZXJ5U2V0IiwiX3RoaXMkcXVlcnlCdWZmZXIiLCJnZXRTdGFnaW5nQnVmZmVyIiwic3RhZ2luZ0J1ZmZlciIsInBvcCIsImNvbnNvbGUiLCJsb2ciLCJNQVBfUkVBRCIsInJlc29sdmUiLCJjb21tYW5kRW5jb2RlciIsImNyZWF0ZUNvbW1hbmRFbmNvZGVyIiwiRGVidWdIZWxwZXIiLCJzZXRMYWJlbCIsInJlc29sdmVRdWVyeVNldCIsImNvcHlCdWZmZXJUb0J1ZmZlciIsImNiIiwiZmluaXNoIiwiYWRkQ29tbWFuZEJ1ZmZlciIsInJlcXVlc3QiLCJyZW5kZXJWZXJzaW9uIiwibWFwQXN5bmMiLCJHUFVNYXBNb2RlIiwiUkVBRCIsInRoZW4iLCJzcmNUaW1pbmdzIiwiQmlnSW50NjRBcnJheSIsImdldE1hcHBlZFJhbmdlIiwidGltaW5ncyIsImkiLCJwdXNoIiwiTnVtYmVyIiwidW5tYXAiXSwibWFwcGluZ3MiOiI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTUEsY0FBYyxDQUFDO0FBR2pCQyxFQUFBQSxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsUUFBUSxFQUFFO0lBQUEsSUFGM0NDLENBQUFBLG1CQUFtQixHQUFHLElBQUksQ0FBQTtJQUd0QixJQUFJLENBQUNILE1BQU0sR0FBR0EsTUFBTSxDQUFBO0lBQ3BCLElBQUksQ0FBQ0UsUUFBUSxHQUFHQSxRQUFRLENBQUE7O0FBR3hCOztBQUdBLElBQUEsTUFBTUUsSUFBSSxHQUFHSixNQUFNLENBQUNJLElBQUksQ0FBQTtBQUN4QixJQUFBLElBQUksQ0FBQ0MsUUFBUSxHQUFHRCxJQUFJLENBQUNFLGNBQWMsQ0FBQztBQUNoQ0MsTUFBQUEsSUFBSSxFQUFFTixXQUFXLEdBQUcsV0FBVyxHQUFHLFdBQVc7QUFDN0NPLE1BQUFBLEtBQUssRUFBRU4sUUFBQUE7QUFDWCxLQUFDLENBQUMsQ0FBQTtBQUVGLElBQUEsTUFBTU8sVUFBVSxHQUFH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
