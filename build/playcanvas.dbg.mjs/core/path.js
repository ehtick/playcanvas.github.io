/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { isDefined } from './core.js';

const path = {
  delimiter: '/',
  join: function () {
    const num = arguments.length;
    let result = arguments[0];

    for (let index = 0; index < num - 1; ++index) {
      const one = arguments[index];
      const two = arguments[index + 1];

      if (!isDefined(one) || !isDefined(two)) {
        throw new Error('undefined argument to pc.path.join');
      }

      if (two[0] === path.delimiter) {
        result = two;
        continue;
      }

      if (one && two && one[one.length - 1] !== path.delimiter && two[0] !== path.delimiter) {
        result += path.delimiter + two;
      } else {
        result += two;
      }
    }

    return result;
  },
  normalize: function (pathname) {
    const lead = pathname.startsWith(path.delimiter);
    const trail = pathname.endsWith(path.delimiter);
    const parts = pathname.split('/');
    let result = '';
    let cleaned = [];

    for (let i = 0; i < parts.length; i++) {
      if (parts[i] === '') continue;
      if (parts[i] === '.') continue;

      if (parts[i] === '..' && cleaned.length > 0) {
        cleaned = cleaned.slice(0, cleaned.length - 2);
        continue;
      }

      if (i > 0) cleaned.push(path.delimiter);
      cleaned.push(parts[i]);
    }

    result = cleaned.join('');

    if (!lead && result[0] === path.delimiter) {
      result = result.slice(1);
    }

    if (trail && result[result.length - 1] !== path.delimiter) {
      result += path.delimiter;
    }

    return result;
  },
  split: function (pathname) {
    const parts = pathname.split(path.delimiter);
    const tail = parts.slice(parts.length - 1)[0];
    const head = parts.slice(0, parts.length - 1).join(path.delimiter);
    return [head, tail];
  },
  getBasename: function (pathname) {
    return path.split(pathname)[1];
  },
  getDirectory: function (pathname) {
    const parts = pathname.split(path.delimiter);
    return parts.slice(0, parts.length - 1).join(path.delimiter);
  },
  getExtension: function (pathname) {
    const ext = pathname.split('?')[0].split('.').pop();

    if (ext !== pathname) {
      return '.' + ext;
    }

    return '';
  },
  isRelativePath: function (pathname) {
    return pathname.charAt(0) !== '/' && pathname.match(/:\/\//) === null;
  },
  extractPath: function (pathname) {
    let result = '';
    const parts = pathname.split('/');
    let i = 0;

    if (parts.length > 1) {
      if (path.isRelativePath(pathname)) {
        if (parts[0] === '.') {
          for (i = 0; i < parts.length - 1; ++i) {
            result += i === 0 ? parts[i] : '/' + parts[i];
          }
        } else if (parts[0] === '..') {
          for (i = 0; i < parts.length - 1; ++i) {
            result += i === 0 ? parts[i] : '/' + parts[i];
          }
        } else {
          result = '.';

          for (i = 0; i < parts.length - 1; ++i) {
            result += '/' + parts[i];
          }
        }
      } else {
        for (i = 0; i < parts.length - 1; ++i) {
          result += i === 0 ? parts[i] : '/' + parts[i];
        }
      }
    }

    return result;
  }
};

export { path };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGF0aC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvcmUvcGF0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RlZmluZWQgfSBmcm9tICcuL2NvcmUuanMnO1xuXG4vKipcbiAqIEZpbGUgcGF0aCBBUEkuXG4gKlxuICogQG5hbWVzcGFjZVxuICovXG5jb25zdCBwYXRoID0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGFyYWN0ZXIgdGhhdCBzZXBhcmF0ZXMgcGF0aCBzZWdtZW50cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgZGVsaW1pdGVyOiAnLycsXG5cbiAgICAvKipcbiAgICAgKiBKb2luIHR3byBvciBtb3JlIHNlY3Rpb25zIG9mIGZpbGUgcGF0aCB0b2dldGhlciwgaW5zZXJ0aW5nIGEgZGVsaW1pdGVyIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfSBzZWN0aW9uIC0gU2VjdGlvbiBvZiBwYXRoIHRvIGpvaW4uIDIgb3IgbW9yZSBjYW4gYmUgcHJvdmlkZWQgYXMgcGFyYW1ldGVycy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgam9pbmVkIGZpbGUgcGF0aC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwYXRoID0gcGMucGF0aC5qb2luKCdmb28nLCAnYmFyJyk7XG4gICAgICogY29uc29sZS5sb2cocGF0aCk7IC8vIFByaW50cyAnZm9vL2JhcidcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHZhciBwYXRoID0gcGMucGF0aC5qb2luKCdhbHBoYScsICdiZXRhJywgJ2dhbW1hJyk7XG4gICAgICogY29uc29sZS5sb2cocGF0aCk7IC8vIFByaW50cyAnYWxwaGEvYmV0YS9nYW1tYSdcbiAgICAgKi9cbiAgICBqb2luOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCByZXN1bHQgPSBhcmd1bWVudHNbMF07XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG51bSAtIDE7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0d28gPSBhcmd1bWVudHNbaW5kZXggKyAxXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKG9uZSkgfHwgIWlzRGVmaW5lZCh0d28pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmRlZmluZWQgYXJndW1lbnQgdG8gcGMucGF0aC5qb2luJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHdvWzBdID09PSBwYXRoLmRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHR3bztcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9uZSAmJiB0d28gJiYgb25lW29uZS5sZW5ndGggLSAxXSAhPT0gcGF0aC5kZWxpbWl0ZXIgJiYgdHdvWzBdICE9PSBwYXRoLmRlbGltaXRlcikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAocGF0aC5kZWxpbWl0ZXIgKyB0d28pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gKHR3byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIHBhdGggYnkgcmVtb3ZpbmcgJy4nIGFuZCAnLi4nIGluc3RhbmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAtIFRoZSBwYXRoIHRvIG5vcm1hbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgbm9ybWFsaXplZCBwYXRoLlxuICAgICAqL1xuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIGNvbnN0IGxlYWQgPSBwYXRobmFtZS5zdGFydHNXaXRoKHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgY29uc3QgdHJhaWwgPSBwYXRobmFtZS5lbmRzV2l0aChwYXRoLmRlbGltaXRlcik7XG5cbiAgICAgICAgY29uc3QgcGFydHMgPSBwYXRobmFtZS5zcGxpdCgnLycpO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgICAgICBsZXQgY2xlYW5lZCA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gJycpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSAnLicpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldID09PSAnLi4nICYmIGNsZWFuZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNsZWFuZWQgPSBjbGVhbmVkLnNsaWNlKDAsIGNsZWFuZWQubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpID4gMCkgY2xlYW5lZC5wdXNoKHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgICAgIGNsZWFuZWQucHVzaChwYXJ0c1tpXSk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlc3VsdCA9IGNsZWFuZWQuam9pbignJyk7XG4gICAgICAgIGlmICghbGVhZCAmJiByZXN1bHRbMF0gPT09IHBhdGguZGVsaW1pdGVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc2xpY2UoMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhaWwgJiYgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSAhPT0gcGF0aC5kZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBwYXRoLmRlbGltaXRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNwbGl0IHRoZSBwYXRobmFtZSBwYXRoIGludG8gYSBwYWlyIFtoZWFkLCB0YWlsXSB3aGVyZSB0YWlsIGlzIHRoZSBmaW5hbCBwYXJ0IG9mIHRoZSBwYXRoXG4gICAgICogYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGFuZCBoZWFkIGlzIGV2ZXJ5dGhpbmcgbGVhZGluZyB1cCB0byB0aGF0LiB0YWlsIHdpbGwgbmV2ZXIgY29udGFpblxuICAgICAqIGEgc2xhc2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBzcGxpdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IFRoZSBzcGxpdCBwYXRoIHdoaWNoIGlzIGFuIGFycmF5IG9mIHR3byBzdHJpbmdzLCB0aGUgcGF0aCBhbmQgdGhlXG4gICAgICogZmlsZW5hbWUuXG4gICAgICovXG4gICAgc3BsaXQ6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgY29uc3QgdGFpbCA9IHBhcnRzLnNsaWNlKHBhcnRzLmxlbmd0aCAtIDEpWzBdO1xuICAgICAgICBjb25zdCBoZWFkID0gcGFydHMuc2xpY2UoMCwgcGFydHMubGVuZ3RoIC0gMSkuam9pbihwYXRoLmRlbGltaXRlcik7XG4gICAgICAgIHJldHVybiBbaGVhZCwgdGFpbF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGguIFRoYXQgaXMgdGhlIHNlY29uZCBlbGVtZW50IG9mIHRoZSBwYWlyIHJldHVybmVkIGJ5IHBhc3NpbmdcbiAgICAgKiBwYXRoIGludG8ge0BsaW5rIHBhdGguc3BsaXR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhuYW1lIC0gVGhlIHBhdGggdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgYmFzZW5hbWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmdldEJhc2VuYW1lKFwiL3BhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgXCJmaWxlLnR4dFwiXG4gICAgICogcGMucGF0aC5nZXRCYXNlbmFtZShcIi9wYXRoL3RvL2RpclwiKTsgLy8gcmV0dXJucyBcImRpclwiXG4gICAgICovXG4gICAgZ2V0QmFzZW5hbWU6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICByZXR1cm4gcGF0aC5zcGxpdChwYXRobmFtZSlbMV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlyZWN0b3J5IG5hbWUgZnJvbSB0aGUgcGF0aC4gVGhpcyBpcyBldmVyeXRoaW5nIHVwIHRvIHRoZSBmaW5hbCBpbnN0YW5jZSBvZlxuICAgICAqIHtAbGluayBwYXRoLmRlbGltaXRlcn0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBnZXQgdGhlIGRpcmVjdG9yeSBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkaXJlY3RvcnkgcGFydCBvZiB0aGUgcGF0aC5cbiAgICAgKi9cbiAgICBnZXREaXJlY3Rvcnk6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KHBhdGguZGVsaW1pdGVyKTtcbiAgICAgICAgcmV0dXJuIHBhcnRzLnNsaWNlKDAsIHBhcnRzLmxlbmd0aCAtIDEpLmpvaW4ocGF0aC5kZWxpbWl0ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGV4dGVuc2lvbiBvZiB0aGUgcGF0aC4gUG9wIHRoZSBsYXN0IHZhbHVlIG9mIGEgbGlzdCBhZnRlciBwYXRoIGlzIHNwbGl0IGJ5XG4gICAgICogcXVlc3Rpb24gbWFyayBhbmQgY29tbWEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgcGF0aCB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmdldEV4dGVuc2lvbihcIi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAvLyByZXR1cm5zIFwiLnR4dFwiXG4gICAgICogcGMucGF0aC5nZXRFeHRlbnNpb24oXCIvcGF0aC90by9maWxlLmpwZ1wiKTsgLy8gcmV0dXJucyBcIi5qcGdcIlxuICAgICAqIHBjLnBhdGguZ2V0RXh0ZW5zaW9uKFwiL3BhdGgvdG8vZmlsZS50eHQ/ZnVuY3Rpb249Z2V0RXh0ZW5zaW9uXCIpOyAvLyByZXR1cm5zIFwiLnR4dFwiXG4gICAgICovXG4gICAgZ2V0RXh0ZW5zaW9uOiBmdW5jdGlvbiAocGF0aG5hbWUpIHtcbiAgICAgICAgY29uc3QgZXh0ID0gcGF0aG5hbWUuc3BsaXQoJz8nKVswXS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICBpZiAoZXh0ICE9PSBwYXRobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuICcuJyArIGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgc3RyaW5nIHMgaXMgcmVsYXRpdmUgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRobmFtZSAtIFRoZSBwYXRoIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgcyBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2ggYW5kIGRvZXNuJ3QgaW5jbHVkZSBjb2xvbiBhbmQgZG91YmxlXG4gICAgICogc2xhc2guXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCJmaWxlLnR4dFwiKTsgLy8gcmV0dXJucyB0cnVlXG4gICAgICogcGMucGF0aC5pc1JlbGF0aXZlUGF0aChcInBhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCIuL3BhdGgvdG8vZmlsZS50eHRcIik7IC8vIHJldHVybnMgdHJ1ZVxuICAgICAqIHBjLnBhdGguaXNSZWxhdGl2ZVBhdGgoXCIuLi9wYXRoL3RvL2ZpbGUuanBnXCIpOyAvLyByZXR1cm5zIHRydWVcbiAgICAgKiBwYy5wYXRoLmlzUmVsYXRpdmVQYXRoKFwiL3BhdGgvdG8vZmlsZS5qcGdcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKiBwYy5wYXRoLmlzUmVsYXRpdmVQYXRoKFwiaHR0cDovL3BhdGgvdG8vZmlsZS5qcGdcIik7IC8vIHJldHVybnMgZmFsc2VcbiAgICAgKi9cbiAgICBpc1JlbGF0aXZlUGF0aDogZnVuY3Rpb24gKHBhdGhuYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJyAmJiBwYXRobmFtZS5tYXRjaCgvOlxcL1xcLy8pID09PSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBhdGggd2l0aG91dCBmaWxlIG5hbWUuIElmIHBhdGggaXMgcmVsYXRpdmUgcGF0aCwgc3RhcnQgd2l0aCBwZXJpb2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWUgLSBUaGUgZnVsbCBwYXRoIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHBhdGggd2l0aG91dCBhIGxhc3QgZWxlbWVudCBmcm9tIGxpc3Qgc3BsaXQgYnkgc2xhc2guXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBwYy5wYXRoLmV4dHJhY3RQYXRoKFwicGF0aC90by9maWxlLnR4dFwiKTsgICAgLy8gcmV0dXJucyBcIi4vcGF0aC90b1wiXG4gICAgICogcGMucGF0aC5leHRyYWN0UGF0aChcIi4vcGF0aC90by9maWxlLnR4dFwiKTsgIC8vIHJldHVybnMgXCIuL3BhdGgvdG9cIlxuICAgICAqIHBjLnBhdGguZXh0cmFjdFBhdGgoXCIuLi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAvLyByZXR1cm5zIFwiLi4vcGF0aC90b1wiXG4gICAgICogcGMucGF0aC5leHRyYWN0UGF0aChcIi9wYXRoL3RvL2ZpbGUudHh0XCIpOyAgIC8vIHJldHVybnMgXCIvcGF0aC90b1wiXG4gICAgICovXG4gICAgZXh0cmFjdFBhdGg6IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBpZiAocGF0aC5pc1JlbGF0aXZlUGF0aChwYXRobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbMF0gPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gKGkgPT09IDApID8gcGFydHNbaV0gOiAnLycgKyBwYXJ0c1tpXTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJ0c1swXSA9PT0gJy4uJykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gKGkgPT09IDApID8gcGFydHNbaV0gOiAnLycgKyBwYXJ0c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICcuJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcvJyArIHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAoaSA9PT0gMCkgPyBwYXJ0c1tpXSA6ICcvJyArIHBhcnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IHBhdGggfTtcbiJdLCJuYW1lcyI6WyJwYXRoIiwiZGVsaW1pdGVyIiwiam9pbiIsIm51bSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlc3VsdCIsImluZGV4Iiwib25lIiwidHdvIiwiaXNEZWZpbmVkIiwiRXJyb3IiLCJub3JtYWxpemUiLCJwYXRobmFtZSIsImxlYWQiLCJzdGFydHNXaXRoIiwidHJhaWwiLCJlbmRzV2l0aCIsInBhcnRzIiwic3BsaXQiLCJjbGVhbmVkIiwiaSIsInNsaWNlIiwicHVzaCIsInRhaWwiLCJoZWFkIiwiZ2V0QmFzZW5hbWUiLCJnZXREaXJlY3RvcnkiLCJnZXRFeHRlbnNpb24iLCJleHQiLCJwb3AiLCJpc1JlbGF0aXZlUGF0aCIsImNoYXJBdCIsIm1hdGNoIiwiZXh0cmFjdFBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFPQSxNQUFNQSxJQUFJLEdBQUc7QUFNVEMsRUFBQUEsU0FBUyxFQUFFLEdBTkY7QUFvQlRDLEVBQUFBLElBQUksRUFBRSxZQUFZO0FBQ2QsSUFBQSxNQUFNQyxHQUFHLEdB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
