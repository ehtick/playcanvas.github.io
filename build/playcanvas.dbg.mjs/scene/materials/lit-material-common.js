import { LIGHTTYPE_DIRECTIONAL } from '../constants.js';

const collectLights = (lType, lights, lightsFiltered, mask, staticLightList) => {
  for (let i = 0; i < lights.length; i++) {
    const light = lights[i];
    if (light.enabled) {
      if (light.mask & mask) {
        if (lType !== LIGHTTYPE_DIRECTIONAL) {
          if (light.isStatic) {
            continue;
          }
        }
        lightsFiltered.push(light);
      }
    }
  }
  if (staticLightList) {
    for (let i = 0; i < staticLightList.length; i++) {
      const light = staticLightList[i];
      if (light._type === lType) {
        lightsFiltered.push(light);
      }
    }
  }
};

export { collectLights };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGl0LW1hdGVyaWFsLWNvbW1vbi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3NjZW5lL21hdGVyaWFscy9saXQtbWF0ZXJpYWwtY29tbW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExJR0hUVFlQRV9ESVJFQ1RJT05BTCB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcblxuY29uc3QgY29sbGVjdExpZ2h0cyA9IChsVHlwZSwgbGlnaHRzLCBsaWdodHNGaWx0ZXJlZCwgbWFzaywgc3RhdGljTGlnaHRMaXN0KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbGlnaHQgPSBsaWdodHNbaV07XG4gICAgICAgIGlmIChsaWdodC5lbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAobGlnaHQubWFzayAmIG1hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAobFR5cGUgIT09IExJR0hUVFlQRV9ESVJFQ1RJT05BTCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHQuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpZ2h0c0ZpbHRlcmVkLnB1c2gobGlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRpY0xpZ2h0TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGlnaHQgPSBzdGF0aWNMaWdodExpc3RbaV07XG4gICAgICAgICAgICBpZiAobGlnaHQuX3R5cGUgPT09IGxUeXBlKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRzRmlsdGVyZWQucHVzaChsaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgeyBjb2xsZWN0TGlnaHRzIH07XG4iXSwibmFtZXMiOlsiY29sbGVjdExpZ2h0cyIsImxUeXBlIiwibGlnaHRzIiwibGlnaHRzRmlsdGVyZWQiLCJtYXNrIiwic3RhdGljTGlnaHRMaXN0IiwiaSIsImxlbmd0aCIsImxpZ2h0IiwiZW5hYmxlZCIsIkxJR0hUVFlQRV9ESVJFQ1RJT05BTCIsImlzU3RhdGljIiwicHVzaCIsIl90eXBlIl0sIm1hcHBpbmdzIjoiOztBQUVBLE1BQU1BLGFBQWEsR0FBR0EsQ0FBQ0MsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsSUFBSSxFQUFFQyxlQUFlLEtBQUs7QUFDNUUsRUFBQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0osTUFBTSxDQUFDSyxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO0FBQ3BDLElBQUEsTUFBTUUsS0FBSyxHQUFHTixNQUFNLENBQUNJLENBQUMsQ0FBQyxDQUFBO0lBQ3ZCLElBQUlFLEtBQUssQ0FBQ0MsT0FBTyxFQUFFO0FBQ2YsTUFBQSxJQUFJRCxLQUFLLENBQUNKLElBQUksR0FBR0EsSUFBSSxFQUFFO1FBQ25CLElBQUlILEtBQUssS0FBS1MscUJBQXFCLEVBQUU7VUFDakMsSUFBSUYsS0FBSyxDQUFDRyxRQUFRLEVBQUU7QUFDaEIsWUFBQSxTQUFBO0FBQ0osV0FBQTtBQUNKLFNBQUE7QUFDQVIsUUFBQUEsY0FBYyxDQUFDUyxJQUFJLENBQUNKLEtBQUssQ0FBQyxDQUFBO0FBQzlCLE9BQUE7QUFDSixLQUFBO0FBQ0osR0FBQTtBQUVBLEVBQUEsSUFBSUgsZUFBZSxFQUFFO0FBQ2pCLElBQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdELGVBQWUsQ0FBQ0UsTUFBTSxFQUFFRCxDQUFDLEVBQUUsRUFBRTtBQUM3QyxNQUFBLE1BQU1FLEtBQUssR0FBR0gsZUFBZSxDQUFDQyxDQUFDLENBQUMsQ0FBQTtBQUNoQyxNQUFBLElBQUlFLEtBQUssQ0FBQ0ssS0FBSyxLQUFLWixLQUFLLEVBQUU7QUFDdkJFLFFBQUFBLGNBQWMsQ0FBQ1MsSUFBSSxDQUFDSixLQUFLLENBQUMsQ0FBQTtBQUM5QixPQUFBO0FBQ0osS0FBQTtBQUNKLEdBQUE7QUFDSjs7OzsifQ==
