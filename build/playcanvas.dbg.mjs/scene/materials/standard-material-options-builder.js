/**
 * @license
 * PlayCanvas Engine v1.59.0-preview revision 797466563 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Quat } from '../../core/math/quat.js';
import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, GAMMA_NONE, SPECULAR_PHONG, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  updateMinRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
    options.litOptions.chunks = options.chunks;
  }
  updateRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList);
    this._updateUVOptions(options, stdMat, objDefs, false);
    options.litOptions.chunks = options.chunks;
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;
    options.chunks = stdMat.chunks || '';
    options.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.forceFragmentPrecision = stdMat.forceFragmentPrecision || '';
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.separateAmbient = false;
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.useLightMapVertexColors = options.lightVertexColors;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.heightMapEnabled = options.heightMap;
    options.litOptions.normalMapEnabled = options.normalMap;
    options.litOptions.clearCoatNormalMapEnabled = options.clearCoatNormalMap;
    options.litOptions.aoMapEnabled = options.aoMap;
    options.litOptions.useAoVertexColors = options.aoVertexColors;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const mname = p + 'Map';
    const vname = p + 'VertexColor';
    const vcname = p + 'VertexColorChannel';
    const cname = mname + 'Channel';
    const tname = mname + 'Transform';
    const uname = mname + 'Uv';
    const iname = mname + 'Identifier';

    if (p !== 'light') {
      options[mname] = false;
      options[iname] = undefined;
      options[cname] = '';
      options[tname] = 0;
      options[uname] = 0;
    }
    options[vname] = false;
    options[vcname] = '';
    const isOpacity = p === 'opacity';
    if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {
      return;
    }
    if (!minimalOptions || isOpacity) {
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet;
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGlossiness = !!stdMat.clearCoatGlossiness;
    options.clearCoatGlossTint = stdMat.clearCoatGlossiness !== 1.0 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossinessTint = 1;

    options.litOptions.useAmbientTint = options.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.useClearCoatNormalMap = !!stdMat.clearCoatNormalMap;
    options.litOptions.useDiffuseMap = !!stdMat.diffuseMap;
    options.litOptions.useAoMap = !!stdMat.aoMap;
    options.litOptions.detailModes = !!options.diffuseDetail;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.useSpecularColor = useSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene.skyboxRotation && !scene.skyboxRotation.equals(Quat.IDENTITY);
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        this._collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        this._collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask, staticLightList);
        this._collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask, staticLightList);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _collectLights(lType, lights, lightsFiltered, mask, staticLightList) {
    for (let i = 0; i < lights.length; i++) {
      const light = lights[i];
      if (light.enabled) {
        if (light.mask & mask) {
          if (lType !== LIGHTTYPE_DIRECTIONAL) {
            if (light.isStatic) {
              continue;
            }
          }
          lightsFiltered.push(light);
        }
      }
    }
    if (staticLightList) {
      for (let i = 0; i < staticLightList.length; i++) {
        const light = staticLightList[i];
        if (light._type === lType) {
          lightsFiltered.push(light);
        }
      }
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL3F1YXQuanMnO1xuXG5pbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9OR1xufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5cbmNvbnN0IGFycmF5c0VxdWFsID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBub3RXaGl0ZSA9IChjb2xvcikgPT4ge1xuICAgIHJldHVybiBjb2xvci5yICE9PSAxIHx8IGNvbG9yLmcgIT09IDEgfHwgY29sb3IuYiAhPT0gMTtcbn07XG5cbmNvbnN0IG5vdEJsYWNrID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDAgfHwgY29sb3IuZyAhPT0gMCB8fCBjb2xvci5iICE9PSAwO1xufTtcblxuY2xhc3MgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBNaW5pbWFsIG9wdGlvbnMgZm9yIERlcHRoIGFuZCBTaGFkb3cgcGFzc2VzXG4gICAgdXBkYXRlTWluUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHN0YXRpY0xpZ2h0TGlzdCwgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jaHVua3MgPSBvcHRpb25zLmNodW5rcztcbiAgICB9XG5cbiAgICB1cGRhdGVSZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc3RhdGljTGlnaHRMaXN0LCBwYXNzLCBzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2hhcmVkT3B0aW9ucyhvcHRpb25zLCBzY2VuZSwgc3RkTWF0LCBvYmpEZWZzLCBwYXNzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCk7XG4gICAgICAgIGlmIChwYXNzID09PSBTSEFERVJfRk9SV0FSREhEUikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5nYW1tYSkgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gR0FNTUFfU1JHQkhEUjtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gVE9ORU1BUF9MSU5FQVI7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmhhc1RhbmdlbnRzID0gb2JqRGVmcyAmJiAoKG9iakRlZnMgJiBTSEFERVJERUZfVEFOR0VOVFMpICE9PSAwKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2h1bmtzID0gb3B0aW9ucy5jaHVua3M7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcykge1xuICAgICAgICBvcHRpb25zLmZvcmNlVXYxID0gc3RkTWF0LmZvcmNlVXYxO1xuICAgICAgICBvcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwgJyc7XG5cbiAgICAgICAgb3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9yY2VGcmFnbWVudFByZWNpc2lvbiA9IHN0ZE1hdC5mb3JjZUZyYWdtZW50UHJlY2lzaW9uIHx8ICcnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNlcGFyYXRlQW1iaWVudCA9IGZhbHNlOyAgICAvLyBzdG9yZSBhbWJpZW50IGxpZ2h0IGNvbG9yIGluIHNlcGFyYXRlIHZhcmlhYmxlLCBpbnN0ZWFkIG9mIGFkZGluZyBpdCB0byBkaWZmdXNlIGRpcmVjdGx5XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zY3JlZW5TcGFjZSA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0NSRUVOU1BBQ0UpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2tpbiA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0tJTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJbnN0YW5jaW5nID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9JTlNUQU5DSU5HKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoUG9zaXRpb24gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoTm9ybWFsID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9OT1JNQUwpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTW9ycGhUZXh0dXJlQmFzZWQgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1RFWFRVUkVfQkFTRUQpICE9PSAwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5uaW5lU2xpY2VkTW9kZSA9IHN0ZE1hdC5uaW5lU2xpY2VkTW9kZSB8fCAwO1xuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZyBmZWF0dXJlcyAoaW4gc2hhcmVkIG9wdGlvbnMgYXMgc2hhZG93IHBhc3MgbmVlZHMgdGhpcyB0b28pXG4gICAgICAgIGlmIChzY2VuZS5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gc2NlbmUubGlnaHRpbmcuY29va2llc0VuYWJsZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd3NFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd1R5cGU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmFyZWFMaWdodHNFbmFibGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVVWT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIG9iakRlZnMsIG1pbmltYWxPcHRpb25zKSB7XG4gICAgICAgIGxldCBoYXNVdjAgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1V2MSA9IGZhbHNlO1xuICAgICAgICBsZXQgaGFzVmNvbG9yID0gZmFsc2U7XG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBoYXNVdjAgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9VVjApICE9PSAwO1xuICAgICAgICAgICAgaGFzVXYxID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYxKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1Zjb2xvciA9IChvYmpEZWZzICYgU0hBREVSREVGX1ZDT0xPUikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcFhGb3JtcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHVuaXF1ZVRleHR1cmVNYXAgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwIGluIF9tYXRUZXgyRCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuXG4gICAgICAgIC8vIEFsbCB0ZXh0dXJlIHJlbGF0ZWQgbGl0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMubGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycyA9IG9wdGlvbnMubGlnaHRWZXJ0ZXhDb2xvcnM7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaXJMaWdodE1hcEVuYWJsZWQgPSBvcHRpb25zLmRpckxpZ2h0TWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuaGVpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMuaGVpZ2h0TWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9ybWFsTWFwRW5hYmxlZCA9IG9wdGlvbnMubm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2xlYXJDb2F0Tm9ybWFsTWFwRW5hYmxlZCA9IG9wdGlvbnMuY2xlYXJDb2F0Tm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW9NYXBFbmFibGVkID0gb3B0aW9ucy5hb01hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFvVmVydGV4Q29sb3JzID0gb3B0aW9ucy5hb1ZlcnRleENvbG9ycztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRpZmZ1c2VNYXBFbmFibGVkID0gb3B0aW9ucy5kaWZmdXNlTWFwO1xuICAgIH1cblxuICAgIF91cGRhdGVUZXhPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgcCwgaGFzVXYwLCBoYXNVdjEsIGhhc1Zjb2xvciwgbWluaW1hbE9wdGlvbnMsIHVuaXF1ZVRleHR1cmVNYXApIHtcbiAgICAgICAgY29uc3QgbW5hbWUgPSBwICsgJ01hcCc7XG4gICAgICAgIGNvbnN0IHZuYW1lID0gcCArICdWZXJ0ZXhDb2xvcic7XG4gICAgICAgIGNvbnN0IHZjbmFtZSA9IHAgKyAnVmVydGV4Q29sb3JDaGFubmVsJztcbiAgICAgICAgY29uc3QgY25hbWUgPSBtbmFtZSArICdDaGFubmVsJztcbiAgICAgICAgY29uc3QgdG5hbWUgPSBtbmFtZSArICdUcmFuc2Zvcm0nO1xuICAgICAgICBjb25zdCB1bmFtZSA9IG1uYW1lICsgJ1V2JztcbiAgICAgICAgY29uc3QgaW5hbWUgPSBtbmFtZSArICdJZGVudGlmaWVyJztcblxuICAgICAgICAvLyBBdm9pZCBvdmVycmlkaW5nIHByZXZpb3VzIGxpZ2h0TWFwIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKHAgIT09ICdsaWdodCcpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbbW5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zW2luYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG9wdGlvbnNbY25hbWVdID0gJyc7XG4gICAgICAgICAgICBvcHRpb25zW3RuYW1lXSA9IDA7XG4gICAgICAgICAgICBvcHRpb25zW3VuYW1lXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9uc1t2bmFtZV0gPSBmYWxzZTtcbiAgICAgICAgb3B0aW9uc1t2Y25hbWVdID0gJyc7XG5cbiAgICAgICAgY29uc3QgaXNPcGFjaXR5ID0gcCA9PT0gJ29wYWNpdHknO1xuICAgICAgICBpZiAoaXNPcGFjaXR5ICYmIHN0ZE1hdC5ibGVuZFR5cGUgPT09IEJMRU5EX05PTkUgJiYgc3RkTWF0LmFscGhhVGVzdCA9PT0gMC4wICYmICFzdGRNYXQuYWxwaGFUb0NvdmVyYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1pbmltYWxPcHRpb25zIHx8IGlzT3BhY2l0eSkge1xuICAgICAgICAgICAgaWYgKHAgIT09ICdoZWlnaHQnICYmIHN0ZE1hdFt2bmFtZV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzVmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdm5hbWVdID0gc3RkTWF0W3ZuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t2Y25hbWVdID0gc3RkTWF0W3ZjbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy52ZXJ0ZXhDb2xvcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGRNYXRbbW5hbWVdKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFsbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RkTWF0W3VuYW1lXSA9PT0gMCAmJiAhaGFzVXYwKSBhbGxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzdGRNYXRbdW5hbWVdID09PSAxICYmICFoYXNVdjEpIGFsbG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGludGVybWVkaWF0ZSBtYXAgYmV0d2VlbiB0aGUgdGV4dHVyZXMgYW5kIHRoZWlyIHNsb3RzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB0aGUgdW5pcXVlIHRleHR1cmUgbWFwcGluZyBpc24ndCBkZXBlbmRlbnQgb24gdGhlIHRleHR1cmUgaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgdGhhdCB3aWxsIGNoYW5nZSB3aGVuIHRleHR1cmVzIGFyZSBjaGFuZ2VkLCBldmVuIGlmIHRoZSBzaGFyaW5nIGlzIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcElkID0gc3RkTWF0W21uYW1lXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkZW50aWZpZXIgPSB1bmlxdWVUZXh0dXJlTWFwW21hcElkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlVGV4dHVyZU1hcFttYXBJZF0gPSBwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpZmllciA9IHA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW21uYW1lXSA9ICEhc3RkTWF0W21uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSBpZGVudGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3RuYW1lXSA9IHRoaXMuX2dldE1hcFRyYW5zZm9ybUlEKHN0ZE1hdC5nZXRVbmlmb3JtKHRuYW1lKSwgc3RkTWF0W3VuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbY25hbWVdID0gc3RkTWF0W2NuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSBzdGRNYXRbdW5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVNaW5PcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCkge1xuICAgICAgICBvcHRpb25zLm9wYWNpdHlUaW50ID0gc3RkTWF0Lm9wYWNpdHkgIT09IDEgJiYgc3RkTWF0LmJsZW5kVHlwZSAhPT0gQkxFTkRfTk9ORTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IFtdO1xuICAgIH1cblxuICAgIF91cGRhdGVNYXRlcmlhbE9wdGlvbnMob3B0aW9ucywgc3RkTWF0KSB7XG4gICAgICAgIGNvbnN0IGRpZmZ1c2VUaW50ID0gKHN0ZE1hdC5kaWZmdXNlVGludCB8fCAoIXN0ZE1hdC5kaWZmdXNlTWFwICYmICFzdGRNYXQuZGlmZnVzZVZlcnRleENvbG9yKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RXaGl0ZShzdGRNYXQuZGlmZnVzZSk7XG5cbiAgICAgICAgY29uc3QgdXNlU3BlY3VsYXIgPSAhIShzdGRNYXQudXNlTWV0YWxuZXNzIHx8IHN0ZE1hdC5zcGVjdWxhck1hcCB8fCBzdGRNYXQuc3BoZXJlTWFwIHx8IHN0ZE1hdC5jdWJlTWFwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QmxhY2soc3RkTWF0LnNwZWN1bGFyKSB8fCAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yID4gMCAmJiBzdGRNYXQudXNlTWV0YWxuZXNzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZE1hdC5lbmFibGVHR1hTcGVjdWxhciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRNYXQuY2xlYXJDb2F0ID4gMCkpO1xuXG4gICAgICAgIGNvbnN0IHVzZVNwZWN1bGFyQ29sb3IgPSAoIXN0ZE1hdC51c2VNZXRhbG5lc3MgfHwgc3RkTWF0LnVzZU1ldGFsbmVzc1NwZWN1bGFyQ29sb3IpO1xuICAgICAgICBjb25zdCBzcGVjdWxhclRpbnQgPSB1c2VTcGVjdWxhciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LnNwZWN1bGFyVGludCB8fCAoIXN0ZE1hdC5zcGVjdWxhck1hcCAmJiAhc3RkTWF0LnNwZWN1bGFyVmVydGV4Q29sb3IpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RXaGl0ZShzdGRNYXQuc3BlY3VsYXIpO1xuXG4gICAgICAgIGNvbnN0IHNwZWN1bGFyaXR5RmFjdG9yVGludCA9IHVzZVNwZWN1bGFyICYmIHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JUaW50IHx8IChzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3IgPCAxICYmICFzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JNYXApKTtcblxuICAgICAgICBjb25zdCBlbWlzc2l2ZVRpbnRDb2xvciA9ICFzdGRNYXQuZW1pc3NpdmVNYXAgfHwgKG5vdFdoaXRlKHN0ZE1hdC5lbWlzc2l2ZSkgJiYgc3RkTWF0LmVtaXNzaXZlVGludCk7XG4gICAgICAgIGNvbnN0IGVtaXNzaXZlVGludEludGVuc2l0eSA9IChzdGRNYXQuZW1pc3NpdmVJbnRlbnNpdHkgIT09IDEpO1xuXG4gICAgICAgIGNvbnN0IGlzUGFja2VkTm9ybWFsTWFwID0gc3RkTWF0Lm5vcm1hbE1hcCA/IChzdGRNYXQubm9ybWFsTWFwLmZvcm1hdCA9PT0gUElYRUxGT1JNQVRfRFhUNSB8fCBzdGRNYXQubm9ybWFsTWFwLnR5cGUgPT09IFRFWFRVUkVUWVBFX1NXSVpaTEVHR0dSKSA6IGZhbHNlO1xuXG4gICAgICAgIG9wdGlvbnMub3BhY2l0eVRpbnQgPSAoc3RkTWF0Lm9wYWNpdHkgIT09IDEgJiYgc3RkTWF0LmJsZW5kVHlwZSAhPT0gQkxFTkRfTk9ORSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5hbWJpZW50VGludCA9IHN0ZE1hdC5hbWJpZW50VGludDtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlVGludCA9IGRpZmZ1c2VUaW50ID8gMiA6IDA7XG4gICAgICAgIG9wdGlvbnMuc3BlY3VsYXJUaW50ID0gc3BlY3VsYXJUaW50ID8gMiA6IDA7XG4gICAgICAgIG9wdGlvbnMuc3BlY3VsYXJpdHlGYWN0b3JUaW50ID0gc3BlY3VsYXJpdHlGYWN0b3JUaW50ID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMubWV0YWxuZXNzVGludCA9IChzdGRNYXQudXNlTWV0YWxuZXNzICYmIHN0ZE1hdC5tZXRhbG5lc3MgPCAxKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLmdsb3NzVGludCA9IDE7XG4gICAgICAgIG9wdGlvbnMuZW1pc3NpdmVUaW50ID0gKGVtaXNzaXZlVGludENvbG9yID8gMiA6IDApICsgKGVtaXNzaXZlVGludEludGVuc2l0eSA/IDEgOiAwKTtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRW5jb2RpbmcgPSBzdGRNYXQuZGlmZnVzZU1hcD8uZW5jb2Rpbmc7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbEVuY29kaW5nID0gc3RkTWF0LmRpZmZ1c2VEZXRhaWxNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmVtaXNzaXZlRW5jb2RpbmcgPSBzdGRNYXQuZW1pc3NpdmVNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwRW5jb2RpbmcgPSBzdGRNYXQubGlnaHRNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLnBhY2tlZE5vcm1hbCA9IGlzUGFja2VkTm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLnJlZnJhY3Rpb25UaW50ID0gKHN0ZE1hdC5yZWZyYWN0aW9uICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMucmVmcmFjdGlvbkluZGV4VGludCA9IChzdGRNYXQucmVmcmFjdGlvbkluZGV4ICE9PSAxLjAgLyAxLjUpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMudGhpY2tuZXNzVGludCA9IChzdGRNYXQudXNlRHluYW1pY1JlZnJhY3Rpb24gJiYgc3RkTWF0LnRoaWNrbmVzcyAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyRW5jb2RpbmcgPSBzdGRNYXQuc3BlY3VsYXJFbmNvZGluZyB8fCAnbGluZWFyJztcbiAgICAgICAgb3B0aW9ucy5zaGVlbkVuY29kaW5nID0gc3RkTWF0LnNoZWVuRW5jb2RpbmcgfHwgJ2xpbmVhcic7XG4gICAgICAgIG9wdGlvbnMuYW9NYXBVdiA9IHN0ZE1hdC5hb1V2U2V0OyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWwgPSAhIXN0ZE1hdC5kaWZmdXNlTWFwO1xuICAgICAgICBvcHRpb25zLm5vcm1hbERldGFpbCA9ICEhc3RkTWF0Lm5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsTW9kZSA9IHN0ZE1hdC5kaWZmdXNlRGV0YWlsTW9kZTtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRUaW50ID0gKHN0ZE1hdC5jbGVhckNvYXQgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc2luZXNzID0gISFzdGRNYXQuY2xlYXJDb2F0R2xvc3NpbmVzcztcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc1RpbnQgPSAoc3RkTWF0LmNsZWFyQ29hdEdsb3NzaW5lc3MgIT09IDEuMCkgPyAxIDogMDtcblxuICAgICAgICBvcHRpb25zLmlyaWRlc2NlbmNlVGludCA9IHN0ZE1hdC5pcmlkZXNjZW5jZSAhPT0gMS4wID8gMSA6IDA7XG5cbiAgICAgICAgb3B0aW9ucy5zaGVlblRpbnQgPSAoc3RkTWF0LnVzZVNoZWVuICYmIG5vdFdoaXRlKHN0ZE1hdC5zaGVlbikpID8gMiA6IDA7XG4gICAgICAgIG9wdGlvbnMuc2hlZW5HbG9zc2luZXNzVGludCA9IDE7XG5cbiAgICAgICAgLy8gTElUIE9QVElPTlNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFtYmllbnRUaW50ID0gb3B0aW9ucy5hbWJpZW50VGludDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmN1c3RvbUZyYWdtZW50U2hhZGVyID0gc3RkTWF0LmN1c3RvbUZyYWdtZW50U2hhZGVyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucGl4ZWxTbmFwID0gc3RkTWF0LnBpeGVsU25hcDtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ2xlYXJDb2F0Tm9ybWFsTWFwID0gISFzdGRNYXQuY2xlYXJDb2F0Tm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlRGlmZnVzZU1hcCA9ICEhc3RkTWF0LmRpZmZ1c2VNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VBb01hcCA9ICEhc3RkTWF0LmFvTWFwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kZXRhaWxNb2RlcyA9ICEhb3B0aW9ucy5kaWZmdXNlRGV0YWlsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2hhZGluZ01vZGVsID0gc3RkTWF0LnNoYWRpbmdNb2RlbDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTSCA9ICEhc3RkTWF0LmFtYmllbnRTSDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZhc3RUYm4gPSBzdGRNYXQuZmFzdFRibjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnR3b1NpZGVkTGlnaHRpbmcgPSBzdGRNYXQudHdvU2lkZWRMaWdodGluZztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9jY2x1ZGVTcGVjdWxhciA9IHN0ZE1hdC5vY2NsdWRlU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vY2NsdWRlU3BlY3VsYXJGbG9hdCA9IChzdGRNYXQub2NjbHVkZVNwZWN1bGFySW50ZW5zaXR5ICE9PSAxLjApO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNc2RmID0gISFzdGRNYXQubXNkZk1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm1zZGZUZXh0QXR0cmlidXRlID0gISFzdGRNYXQubXNkZlRleHRBdHRyaWJ1dGU7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVG9Db3ZlcmFnZSA9IHN0ZE1hdC5hbHBoYVRvQ292ZXJhZ2U7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vcGFjaXR5RmFkZXNTcGVjdWxhciA9IHN0ZE1hdC5vcGFjaXR5RmFkZXNTcGVjdWxhcjtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY3ViZU1hcFByb2plY3Rpb24gPSBzdGRNYXQuY3ViZU1hcFByb2plY3Rpb247XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9jY2x1ZGVEaXJlY3QgPSBzdGRNYXQub2NjbHVkZURpcmVjdDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNvbnNlcnZlRW5lcmd5ID0gc3RkTWF0LmNvbnNlcnZlRW5lcmd5O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU3BlY3VsYXIgPSB1c2VTcGVjdWxhcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNwZWN1bGFyaXR5RmFjdG9yID0gKHNwZWN1bGFyaXR5RmFjdG9yVGludCB8fCAhIXN0ZE1hdC5zcGVjdWxhcml0eUZhY3Rvck1hcCkgJiYgc3RkTWF0LnVzZU1ldGFsbmVzc1NwZWN1bGFyQ29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhckNvbG9yID0gdXNlU3BlY3VsYXJDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmVuYWJsZUdHWFNwZWN1bGFyID0gc3RkTWF0LmVuYWJsZUdHWFNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZnJlc25lbE1vZGVsID0gc3RkTWF0LmZyZXNuZWxNb2RlbDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVJlZnJhY3Rpb24gPSAoc3RkTWF0LnJlZnJhY3Rpb24gfHwgISFzdGRNYXQucmVmcmFjdGlvbk1hcCkgJiYgKHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbiB8fCAhIW9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlKTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUNsZWFyQ29hdCA9ICEhc3RkTWF0LmNsZWFyQ29hdDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNoZWVuID0gc3RkTWF0LnVzZVNoZWVuO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlSXJpZGVzY2VuY2UgPSBzdGRNYXQudXNlSXJpZGVzY2VuY2UgJiYgc3RkTWF0LmlyaWRlc2NlbmNlICE9PSAwLjA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VNZXRhbG5lc3MgPSBzdGRNYXQudXNlTWV0YWxuZXNzO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlRHluYW1pY1JlZnJhY3Rpb24gPSBzdGRNYXQudXNlRHluYW1pY1JlZnJhY3Rpb247XG4gICAgfVxuXG4gICAgX3VwZGF0ZUVudk9wdGlvbnMob3B0aW9ucywgc3RkTWF0LCBzY2VuZSkge1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9nID0gc3RkTWF0LnVzZUZvZyA/IHNjZW5lLmZvZyA6ICdub25lJztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gc3RkTWF0LnVzZUdhbW1hVG9uZW1hcCA/IHNjZW5lLmdhbW1hQ29ycmVjdGlvbiA6IEdBTU1BX05PTkU7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gc3RkTWF0LnVzZUdhbW1hVG9uZW1hcCA/IHNjZW5lLnRvbmVNYXBwaW5nIDogLTE7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5maXhTZWFtcyA9IChzdGRNYXQuY3ViZU1hcCA/IHN0ZE1hdC5jdWJlTWFwLmZpeEN1YmVtYXBTZWFtcyA6IGZhbHNlKTtcblxuICAgICAgICBjb25zdCBpc1Bob25nID0gc3RkTWF0LnNoYWRpbmdNb2RlbCA9PT0gU1BFQ1VMQVJfUEhPTkc7XG5cbiAgICAgICAgbGV0IHVzaW5nU2NlbmVFbnYgPSBmYWxzZTtcblxuICAgICAgICAvLyBzb3VyY2Ugb2YgZW52aXJvbm1lbnQgcmVmbGVjdGlvbnMgaXMgYXMgZm9sbG93czpcbiAgICAgICAgaWYgKHN0ZE1hdC5lbnZBdGxhcyAmJiBzdGRNYXQuY3ViZU1hcCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXNIUSc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5lbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuY3ViZU1hcCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnY3ViZU1hcCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmN1YmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnNwaGVyZU1hcCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnc3BoZXJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuc3BoZXJlTWFwLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgJiYgc2NlbmUuc2t5Ym94ICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhc0hRJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuc2t5Ym94KSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdjdWJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzY2VuZS5za3lib3guZW5jb2Rpbmc7XG4gICAgICAgICAgICB1c2luZ1NjZW5lRW52ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gbnVsbDtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc291cmNlIG9mIGVudmlyb25tZW50IGFtYmllbnQgaXMgYXMgZm9sbG93czpcbiAgICAgICAgaWYgKHN0ZE1hdC5hbWJpZW50U0ggJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2FtYmllbnRTSCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGVudkF0bGFzID0gc3RkTWF0LmVudkF0bGFzIHx8IChzdGRNYXQudXNlU2t5Ym94ICYmIHNjZW5lLmVudkF0bGFzID8gc2NlbmUuZW52QXRsYXMgOiBudWxsKTtcbiAgICAgICAgICAgIGlmIChlbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2VudkF0bGFzJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U291cmNlID0gJ2NvbnN0YW50JztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudEVuY29kaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGFkZCBhIHRlc3QgZm9yIGlmIG5vbiBza3lib3ggY3ViZW1hcHMgaGF2ZSByb3RhdGlvbiAod2hlbiB0aGlzIGlzIHN1cHBvcnRlZCkgLSBmb3Igbm93IGFzc3VtZSBubyBub24tc2t5Ym94IGN1YmVtYXAgcm90YXRpb25cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNreWJveEludGVuc2l0eSA9IHVzaW5nU2NlbmVFbnYgJiYgKHNjZW5lLnNreWJveEludGVuc2l0eSAhPT0gMSB8fCBzY2VuZS5waHlzaWNhbFVuaXRzKTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUN1YmVNYXBSb3RhdGlvbiA9IHVzaW5nU2NlbmVFbnYgJiYgc2NlbmUuc2t5Ym94Um90YXRpb24gJiYgIXNjZW5lLnNreWJveFJvdGF0aW9uLmVxdWFscyhRdWF0LklERU5USVRZKTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cywgc3RhdGljTGlnaHRMaXN0KSB7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXAgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcENoYW5uZWwgPSAnJztcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcFV2ID0gMDtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcFRyYW5zZm9ybSA9IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMuZGlyTGlnaHRNYXAgPSBmYWxzZTtcblxuICAgICAgICBpZiAob2JqRGVmcykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm5vU2hhZG93ID0gKG9iakRlZnMgJiBTSEFERVJERUZfTk9TSEFET1cpICE9PSAwO1xuXG4gICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfTE0pICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcEVuY29kaW5nID0gc2NlbmUubGlnaHRtYXBQaXhlbEZvcm1hdCA9PT0gUElYRUxGT1JNQVRfUkdCQTggPyAncmdibScgOiAnbGluZWFyJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwQ2hhbm5lbCA9ICdyZ2InO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBVdiA9IDE7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcFRyYW5zZm9ybSA9IDA7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSAhc3RkTWF0LmxpZ2h0TWFwO1xuICAgICAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9ESVJMTSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kaXJMaWdodE1hcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgbGlnaHRtYXBzIGNvbnRhaW4gYmFrZWQgYW1iaWVudCBsaWdodCwgZGlzYWJsZSByZWFsLXRpbWUgYW1iaWVudCBsaWdodFxuICAgICAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9MTUFNQklFTlQpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0ZE1hdC51c2VMaWdodGluZykge1xuICAgICAgICAgICAgY29uc3QgbGlnaHRzRmlsdGVyZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBvYmpEZWZzID8gKG9iakRlZnMgPj4gMTYpIDogTUFTS19BRkZFQ1RfRFlOQU1JQztcblxuICAgICAgICAgICAgLy8gbWFzayB0byBzZWxlY3QgbGlnaHRzIChkeW5hbWljIHZzIGxpZ2h0bWFwcGVkKSB3aGVuIHVzaW5nIGNsdXN0ZXJlZCBsaWdodGluZ1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFza0R5bmFtaWMgPSAhIShtYXNrICYgTUFTS19BRkZFQ1RfRFlOQU1JQyk7XG5cbiAgICAgICAgICAgIGlmIChzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0TGlnaHRzKExJR0hUVFlQRV9ESVJFQ1RJT05BTCwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9ESVJFQ1RJT05BTF0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0TGlnaHRzKExJR0hUVFlQRV9PTU5JLCBzb3J0ZWRMaWdodHNbTElHSFRUWVBFX09NTkldLCBsaWdodHNGaWx0ZXJlZCwgbWFzaywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb2xsZWN0TGlnaHRzKExJR0hUVFlQRV9TUE9ULCBzb3J0ZWRMaWdodHNbTElHSFRUWVBFX1NQT1RdLCBsaWdodHNGaWx0ZXJlZCwgbWFzaywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBsaWdodHNGaWx0ZXJlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm5vU2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jb2xsZWN0TGlnaHRzKGxUeXBlLCBsaWdodHMsIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrLCBzdGF0aWNMaWdodExpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaWdodHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpZ2h0ID0gbGlnaHRzW2ldO1xuICAgICAgICAgICAgaWYgKGxpZ2h0LmVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQubWFzayAmIG1hc2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxUeXBlICE9PSBMSUdIVFRZUEVfRElSRUNUSU9OQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaWdodC5pc1N0YXRpYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0c0ZpbHRlcmVkLnB1c2gobGlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0aWNMaWdodExpc3QpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGljTGlnaHRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGlnaHQgPSBzdGF0aWNMaWdodExpc3RbaV07XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0Ll90eXBlID09PSBsVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodHNGaWx0ZXJlZC5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0TWFwVHJhbnNmb3JtSUQoeGZvcm0sIHV2KSB7XG4gICAgICAgIGlmICgheGZvcm0pIHJldHVybiAwO1xuXG4gICAgICAgIGxldCB4Zm9ybXMgPSB0aGlzLl9tYXBYRm9ybXNbdXZdO1xuICAgICAgICBpZiAoIXhmb3Jtcykge1xuICAgICAgICAgICAgeGZvcm1zID0gW107XG4gICAgICAgICAgICB0aGlzLl9tYXBYRm9ybXNbdXZdID0geGZvcm1zO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4Zm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJheXNFcXVhbCh4Zm9ybXNbaV1bMF0udmFsdWUsIHhmb3JtWzBdLnZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIGFycmF5c0VxdWFsKHhmb3Jtc1tpXVsxXS52YWx1ZSwgeGZvcm1bMV0udmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHhmb3Jtcy5wdXNoKHhmb3JtKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWxPcHRpb25zQnVpbGRlciB9O1xuIl0sIm5hbWVzIjpbImFycmF5c0VxdWFsIiwiYSIsImIiLCJsZW5ndGgiLCJpIiwibm90V2hpdGUiLCJjb2xvciIsInIiLCJnIiwibm90QmxhY2siLCJTdGFuZGFyZE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIiLCJjb25zdHJ1Y3RvciIsIl9tYXBYRm9ybXMiLCJ1cGRhdGVNaW5SZWYiLCJvcHRpb25zIiwic2NlbmUiLCJzdGRNYXQiLCJvYmpEZWZzIiwic3RhdGljTGlnaHRMaXN0IiwicGFzcyIsInNvcnRlZExpZ2h0cyIsIl91cGRhdGVTaGFyZWRPcHRpb25zIiwiX3VwZGF0ZU1pbk9wdGlvbnMiLCJfdXBkYXRlVVZPcHRpb25zIiwibGl0T3B0aW9ucyIsImNodW5rcyIsInVwZGF0ZVJlZiIsIl91cGRhdGVFbnZPcHRpb25zIiwiX3VwZGF0ZU1hdGVyaWFsT3B0aW9ucyIsIlNIQURFUl9GT1JXQVJESERSIiwiZ2FtbWEiLCJHQU1NQV9TUkdCSERSIiwidG9uZU1hcCIsIlRPTkVNQVBfTElORUFSIiwiaGFzVGFuZ2VudHMiLCJTSEFERVJERUZfVEFOR0VOVFMiLCJfdXBkYXRlTGlnaHRPcHRpb25zIiwiZm9yY2VVdjEiLCJhbHBoYVRlc3QiLCJmb3JjZUZyYWdtZW50UHJlY2lzaW9uIiwiYmxlbmRUeXBlIiwic2VwYXJhdGVBbWJpZW50Iiwic2NyZWVuU3BhY2UiLCJTSEFERVJERUZfU0NSRUVOU1BBQ0UiLCJza2luIiwiU0hBREVSREVGX1NLSU4iLCJ1c2VJbnN0YW5jaW5nIiwiU0hBREVSREVGX0lOU1RBTkNJTkciLCJ1c2VNb3JwaFBvc2l0aW9uIiwiU0hBREVSREVGX01PUlBIX1BPU0lUSU9OIiwidXNlTW9ycGhOb3JtYWwiLCJTSEFERVJERUZfTU9SUEhfTk9STUFMIiwidXNlTW9ycGhUZXh0dXJlQmFzZWQiLCJTSEFERVJERUZfTU9SUEhfVEVYVFVSRV9CQVNFRCIsIm5pbmVTbGljZWRNb2RlIiwiY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkIiwidXNlTGlnaHRpbmciLCJjbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkIiwibGlnaHRpbmciLCJjb29raWVzRW5hYmxlZCIsImNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93c0VuYWJsZWQiLCJzaGFkb3dzRW5hYmxlZCIsImNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSIsInNoYWRvd1R5cGUiLCJjbHVzdGVyZWRMaWdodGluZ0FyZWFMaWdodHNFbmFibGVkIiwiYXJlYUxpZ2h0c0VuYWJsZWQiLCJtaW5pbWFsT3B0aW9ucyIsImhhc1V2MCIsImhhc1V2MSIsImhhc1Zjb2xvciIsIlNIQURFUkRFRl9VVjAiLCJTSEFERVJERUZfVVYxIiwiU0hBREVSREVGX1ZDT0xPUiIsInZlcnRleENvbG9ycyIsInVuaXF1ZVRleHR1cmVNYXAiLCJwIiwiX21hdFRleDJEIiwiX3VwZGF0ZVRleE9wdGlvbnMiLCJsaWdodE1hcEVuYWJsZWQiLCJsaWdodE1hcCIsInVzZUxpZ2h0TWFwVmVydGV4Q29sb3JzIiwibGlnaHRWZXJ0ZXhDb2xvcnMiLCJkaXJMaWdodE1hcEVuYWJsZWQiLCJkaXJMaWdodE1hcCIsImhlaWdodE1hcEVuYWJsZWQiLCJoZWlnaHRNYXAiLCJub3JtYWxNYXBFbmFibGVkIiwibm9ybWFsTWFwIiwiY2xlYXJDb2F0Tm9ybWFsTWFwRW5hYmxlZCIsImNsZWFyQ29hdE5vcm1hbE1hcCIsImFvTWFwRW5hYmxlZCIsImFvTWFwIiwidXNlQW9WZXJ0ZXhDb2xvcnMiLCJhb1ZlcnRleENvbG9ycyIsImRpZmZ1c2VNYXBFbmFibGVkIiwiZGlmZnVzZU1hcCIsIm1uYW1lIiwidm5hbWUiLCJ2Y25hbWUiLCJjbmFtZSIsInRuYW1lIiwidW5hbWUiLCJpbmFtZSIsInVuZGVmaW5lZCIsImlzT3BhY2l0eSIsIkJMRU5EX05PTkUiLCJhbHBoYVRvQ292ZXJhZ2UiLCJhbGxvdyIsIm1hcElkIiwiaWQiLCJpZGVudGlmaWVyIiwiX2dldE1hcFRyYW5zZm9ybUlEIiwiZ2V0VW5pZm9ybSIsIm9wYWNpdHlUaW50Iiwib3BhY2l0eSIsImxpZ2h0cyIsImRpZmZ1c2VUaW50IiwiZGlmZnVzZVZlcnRleENvbG9yIiwiZGlmZnVzZSIsInVzZVNwZWN1bGFyIiwidXNlTWV0YWxuZXNzIiwic3BlY3VsYXJNYXAiLCJzcGhlcmVNYXAiLCJjdWJlTWFwIiwic3BlY3VsYXIiLCJzcGVjdWxhcml0eUZhY3RvciIsImVuYWJsZUdHWFNwZWN1bGFyIiwiY2xlYXJDb2F0IiwidXNlU3BlY3VsYXJDb2xvciIsInVzZU1ldGFsbmVzc1NwZWN1bGFyQ29sb3IiLCJzcGVjdWxhclRpbnQiLCJzcGVjdWxhclZlcnRleENvbG9yIiwic3BlY3VsYXJpdHlGYWN0b3JUaW50Iiwic3BlY3VsYXJpdHlGYWN0b3JNYXAiLCJlbWlzc2l2ZVRpbnRDb2xvciIsImVtaXNzaXZlTWFwIiwiZW1pc3NpdmUiLCJlbWlzc2l2ZVRpbnQiLCJlbWlzc2l2ZVRpbnRJbnRlbnNpdHkiLCJlbWlzc2l2ZUludGVuc2l0eSIsImlzUGFja2VkTm9ybWFsTWFwIiwiZm9ybWF0IiwiUElYRUxGT1JNQVRfRFhUNSIsInR5cGUiLCJURVhUVVJFVFlQRV9TV0laWkxFR0dHUiIsImFtYmllbnRUaW50IiwibWV0YWxuZXNzVGludCIsIm1ldGFsbmVzcyIsImdsb3NzVGludCIsImRpZmZ1c2VFbmNvZGluZyIsImVuY29kaW5nIiwiZGlmZnVzZURldGFpbEVuY29kaW5nIiwiZGlmZnVzZURldGFpbE1hcCIsImVtaXNzaXZlRW5jb2RpbmciLCJsaWdodE1hcEVuY29kaW5nIiwicGFja2VkTm9ybWFsIiwicmVmcmFjdGlvblRpbnQiLCJyZWZyYWN0aW9uIiwicmVmcmFjdGlvbkluZGV4VGludCIsInJlZnJhY3Rpb25JbmRleCIsInRoaWNrbmVzc1RpbnQiLCJ1c2VEeW5hbWljUmVmcmFjdGlvbiIsInRoaWNrbmVzcyIsInNwZWN1bGFyRW5jb2RpbmciLCJzaGVlbkVuY29kaW5nIiwiYW9NYXBVdiIsImFvVXZTZXQiLCJkaWZmdXNlRGV0YWlsIiwibm9ybWFsRGV0YWlsIiwiZGlmZnVzZURldGFpbE1vZGUiLCJjbGVhckNvYXRUaW50IiwiY2xlYXJDb2F0R2xvc3NpbmVzcyIsImNsZWFyQ29hdEdsb3NzVGludCIsImlyaWRlc2NlbmNlVGludCIsImlyaWRlc2NlbmNlIiwic2hlZW5UaW50IiwidXNlU2hlZW4iLCJzaGVlbiIsInNoZWVuR2xvc3NpbmVzc1RpbnQiLCJ1c2VBbWJpZW50VGludCIsImN1c3RvbUZyYWdtZW50U2hhZGVyIiwicGl4ZWxTbmFwIiwidXNlQ2xlYXJDb2F0Tm9ybWFsTWFwIiwidXNlRGlmZnVzZU1hcCIsInVzZUFvTWFwIiwiZGV0YWlsTW9kZXMiLCJzaGFkaW5nTW9kZWwiLCJhbWJpZW50U0giLCJmYXN0VGJuIiwidHdvU2lkZWRMaWdodGluZyIsIm9jY2x1ZGVTcGVjdWxhciIsIm9jY2x1ZGVTcGVjdWxhckZsb2F0Iiwib2NjbHVkZVNwZWN1bGFySW50ZW5zaXR5IiwidXNlTXNkZiIsIm1zZGZNYXAiLCJtc2RmVGV4dEF0dHJpYnV0ZSIsIm9wYWNpdHlGYWRlc1NwZWN1bGFyIiwiY3ViZU1hcFByb2plY3Rpb24iLCJvY2NsdWRlRGlyZWN0IiwiY29uc2VydmVFbmVyZ3kiLCJ1c2VTcGVjdWxhcml0eUZhY3RvciIsImZyZXNuZWxNb2RlbCIsInVzZVJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uTWFwIiwicmVmbGVjdGlvblNvdXJjZSIsInVzZUNsZWFyQ29hdCIsInVzZUlyaWRlc2NlbmNlIiwiZm9nIiwidXNlRm9nIiwidXNlR2FtbWFUb25lbWFwIiwiZ2FtbWFDb3JyZWN0aW9uIiwiR0FNTUFfTk9ORSIsInRvbmVNYXBwaW5nIiwiZml4U2VhbXMiLCJmaXhDdWJlbWFwU2VhbXMiLCJpc1Bob25nIiwiU1BFQ1VMQVJfUEhPTkciLCJ1c2luZ1NjZW5lRW52IiwiZW52QXRsYXMiLCJyZWZsZWN0aW9uRW5jb2RpbmciLCJ1c2VTa3lib3giLCJza3lib3giLCJhbWJpZW50U291cmNlIiwiYW1iaWVudEVuY29kaW5nIiwic2t5Ym94SW50ZW5zaXR5IiwicGh5c2ljYWxVbml0cyIsInVzZUN1YmVNYXBSb3RhdGlvbiIsInNreWJveFJvdGF0aW9uIiwiZXF1YWxzIiwiUXVhdCIsIklERU5USVRZIiwibGlnaHRNYXBDaGFubmVsIiwibGlnaHRNYXBVdiIsImxpZ2h0TWFwVHJhbnNmb3JtIiwibGlnaHRNYXBXaXRob3V0QW1iaWVudCIsIm5vU2hhZG93IiwiU0hBREVSREVGX05PU0hBRE9XIiwiU0hBREVSREVGX0xNIiwibGlnaHRtYXBQaXhlbEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkE4IiwiU0hBREVSREVGX0RJUkxNIiwiU0hBREVSREVGX0xNQU1CSUVOVCIsImxpZ2h0c0ZpbHRlcmVkIiwibWFzayIsIk1BU0tfQUZGRUNUX0RZTkFNSUMiLCJsaWdodE1hc2tEeW5hbWljIiwiX2NvbGxlY3RMaWdodHMiLCJMSUdIVFRZUEVfRElSRUNUSU9OQUwiLCJMSUdIVFRZUEVfT01OSSIsIkxJR0hUVFlQRV9TUE9UIiwibFR5cGUiLCJsaWdodCIsImVuYWJsZWQiLCJpc1N0YXRpYyIsInB1c2giLCJfdHlwZSIsInhmb3JtIiwidXYiLCJ4Zm9ybXMiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQW1CQSxNQUFNQSxXQUFXLEdBQUcsQ0FBQ0MsQ0FBQyxFQUFFQyxDQUFDLEtBQUs7QUFDMUIsRUFBQSxJQUFJRCxDQUFDLENBQUNFLE1BQU0sS0FBS0QsQ0FBQyxDQUFDQyxNQUFNLEVBQUU7QUFDdkIsSUFBQSxPQUFPLEtBQUssQ0FBQTtBQUNoQixHQUFBO0FBQ0EsRUFBQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0gsQ0FBQyxDQUFDRSxNQUFNLEVBQUUsRUFBRUMsQ0FBQyxFQUFFO0lBQy9CLElBQUlILENBQUMsQ0FBQ0csQ0FBQyxDQUFDLEtBQUtGLENBQUMsQ0FBQ0UsQ0FBQyxDQUFDLEVBQUU7QUFDZixNQUFBLE9BQU8sS0FBSyxDQUFBO0FBQ2hCLEtBQUE7QUFDSixHQUFBO0FBQ0EsRUFBQSxPQUFPLElBQUksQ0FBQTtBQUNmLENBQUMsQ0FBQTtBQUVELE1BQU1DLFFBQVEsR0FBSUMsS0FBSyxJQUFLO0FBQ3hCLEVBQUEsT0FBT0EsS0FBSyxDQUFDQyxDQUFDLEtBQUssQ0FBQyxJQUFJRCxLQUFLLENBQUNFLENBQUMsS0FBSyxDQUFDLElBQUlGLEtBQUssQ0FBQ0os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
