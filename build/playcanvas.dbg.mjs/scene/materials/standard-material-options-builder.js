import { Quat } from '../../core/math/quat.js';
import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, SPECULAR_PHONG, GAMMA_NONE, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  // Minimal options for Depth and Shadow passes
  updateMinRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
    options.litOptions.chunks = options.chunks;
  }
  updateRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList);
    this._updateUVOptions(options, stdMat, objDefs, false);
    options.litOptions.chunks = options.chunks;
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;
    options.chunks = stdMat.chunks || '';
    options.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.forceFragmentPrecision = stdMat.forceFragmentPrecision || '';
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.separateAmbient = false; // store ambient light color in separate variable, instead of adding it to diffuse directly
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    // clustered lighting features (in shared options as shadow pass needs this too)
    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    // All texture related lit options
    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.useLightMapVertexColors = options.lightVertexColor;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.heightMapEnabled = options.heightMap;
    options.litOptions.normalMapEnabled = options.normalMap;
    options.litOptions.clearCoatNormalMapEnabled = options.clearCoatNormalMap;
    options.litOptions.aoMapEnabled = options.aoMap;
    options.litOptions.useAoVertexColors = options.aoVertexColor;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const mname = p + 'Map';
    const vname = p + 'VertexColor';
    const vcname = p + 'VertexColorChannel';
    const cname = mname + 'Channel';
    const tname = mname + 'Transform';
    const uname = mname + 'Uv';
    const iname = mname + 'Identifier';

    // Avoid overriding previous lightMap properties
    if (p !== 'light') {
      options[mname] = false;
      options[iname] = undefined;
      options[cname] = '';
      options[tname] = 0;
      options[uname] = 0;
    }
    options[vname] = false;
    options[vcname] = '';
    const isOpacity = p === 'opacity';
    if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {
      return;
    }
    if (!minimalOptions || isOpacity) {
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          // create an intermediate map between the textures and their slots
          // to ensure the unique texture mapping isn't dependent on the texture id
          // as that will change when textures are changed, even if the sharing is the same
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet; // backwards compatibility
    options.aoDetail = !!stdMat.aoMap;
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.aoDetailMode = stdMat.aoDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGloss = !!stdMat.clearCoatGloss;
    options.clearCoatGlossTint = stdMat.clearCoatGloss !== 1.0 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossTint = 1;
    options.glossInvert = stdMat.glossInvert;
    options.sheenGlossInvert = stdMat.sheenGlossInvert;
    options.clearCoatGlossInvert = stdMat.clearCoatGlossInvert;

    // LIT OPTIONS
    options.litOptions.useAmbientTint = options.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.useClearCoatNormalMap = !!stdMat.clearCoatNormalMap;
    options.litOptions.useDiffuseMap = !!stdMat.diffuseMap;
    options.litOptions.useAoMap = !!stdMat.aoMap;
    options.litOptions.detailModes = !!options.diffuseDetail || !!options.aoDetail;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy && stdMat.shadingModel !== SPECULAR_PHONG;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.useSpecularColor = useSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    // source of environment reflections is as follows:
    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      options.litOptions.reflectionCubemapEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    // source of environment ambient is as follows:
    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    // TODO: add a test for if non skybox cubemaps have rotation (when this is supported) - for now assume no non-skybox cubemap rotation
    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene.skyboxRotation && !scene.skyboxRotation.equals(Quat.IDENTITY);
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        // if lightmaps contain baked ambient light, disable real-time ambient light
        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      // mask to select lights (dynamic vs lightmapped) when using clustered lighting
      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        this._collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        this._collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask, staticLightList);
        this._collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask, staticLightList);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _collectLights(lType, lights, lightsFiltered, mask, staticLightList) {
    for (let i = 0; i < lights.length; i++) {
      const light = lights[i];
      if (light.enabled) {
        if (light.mask & mask) {
          if (lType !== LIGHTTYPE_DIRECTIONAL) {
            if (light.isStatic) {
              continue;
            }
          }
          lightsFiltered.push(light);
        }
      }
    }
    if (staticLightList) {
      for (let i = 0; i < staticLightList.length; i++) {
        const light = staticLightList[i];
        if (light._type === lType) {
          lightsFiltered.push(light);
        }
      }
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL3F1YXQuanMnO1xuXG5pbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9OR1xufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5cbmNvbnN0IGFycmF5c0VxdWFsID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBub3RXaGl0ZSA9IChjb2xvcikgPT4ge1xuICAgIHJldHVybiBjb2xvci5yICE9PSAxIHx8IGNvbG9yLmcgIT09IDEgfHwgY29sb3IuYiAhPT0gMTtcbn07XG5cbmNvbnN0IG5vdEJsYWNrID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDAgfHwgY29sb3IuZyAhPT0gMCB8fCBjb2xvci5iICE9PSAwO1xufTtcblxuY2xhc3MgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBNaW5pbWFsIG9wdGlvbnMgZm9yIERlcHRoIGFuZCBTaGFkb3cgcGFzc2VzXG4gICAgdXBkYXRlTWluUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHN0YXRpY0xpZ2h0TGlzdCwgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jaHVua3MgPSBvcHRpb25zLmNodW5rcztcbiAgICB9XG5cbiAgICB1cGRhdGVSZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc3RhdGljTGlnaHRMaXN0LCBwYXNzLCBzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2hhcmVkT3B0aW9ucyhvcHRpb25zLCBzY2VuZSwgc3RkTWF0LCBvYmpEZWZzLCBwYXNzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCk7XG4gICAgICAgIGlmIChwYXNzID09PSBTSEFERVJfRk9SV0FSREhEUikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5nYW1tYSkgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gR0FNTUFfU1JHQkhEUjtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gVE9ORU1BUF9MSU5FQVI7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmhhc1RhbmdlbnRzID0gb2JqRGVmcyAmJiAoKG9iakRlZnMgJiBTSEFERVJERUZfVEFOR0VOVFMpICE9PSAwKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2h1bmtzID0gb3B0aW9ucy5jaHVua3M7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcykge1xuICAgICAgICBvcHRpb25zLmZvcmNlVXYxID0gc3RkTWF0LmZvcmNlVXYxO1xuICAgICAgICBvcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwgJyc7XG5cbiAgICAgICAgb3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9yY2VGcmFnbWVudFByZWNpc2lvbiA9IHN0ZE1hdC5mb3JjZUZyYWdtZW50UHJlY2lzaW9uIHx8ICcnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNlcGFyYXRlQW1iaWVudCA9IGZhbHNlOyAgICAvLyBzdG9yZSBhbWJpZW50IGxpZ2h0IGNvbG9yIGluIHNlcGFyYXRlIHZhcmlhYmxlLCBpbnN0ZWFkIG9mIGFkZGluZyBpdCB0byBkaWZmdXNlIGRpcmVjdGx5XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zY3JlZW5TcGFjZSA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0NSRUVOU1BBQ0UpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2tpbiA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0tJTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJbnN0YW5jaW5nID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9JTlNUQU5DSU5HKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoUG9zaXRpb24gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoTm9ybWFsID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9OT1JNQUwpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTW9ycGhUZXh0dXJlQmFzZWQgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1RFWFRVUkVfQkFTRUQpICE9PSAwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5uaW5lU2xpY2VkTW9kZSA9IHN0ZE1hdC5uaW5lU2xpY2VkTW9kZSB8fCAwO1xuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZyBmZWF0dXJlcyAoaW4gc2hhcmVkIG9wdGlvbnMgYXMgc2hhZG93IHBhc3MgbmVlZHMgdGhpcyB0b28pXG4gICAgICAgIGlmIChzY2VuZS5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gc2NlbmUubGlnaHRpbmcuY29va2llc0VuYWJsZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd3NFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd1R5cGU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmFyZWFMaWdodHNFbmFibGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVVWT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIG9iakRlZnMsIG1pbmltYWxPcHRpb25zKSB7XG4gICAgICAgIGxldCBoYXNVdjAgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1V2MSA9IGZhbHNlO1xuICAgICAgICBsZXQgaGFzVmNvbG9yID0gZmFsc2U7XG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBoYXNVdjAgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9VVjApICE9PSAwO1xuICAgICAgICAgICAgaGFzVXYxID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYxKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1Zjb2xvciA9IChvYmpEZWZzICYgU0hBREVSREVGX1ZDT0xPUikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcFhGb3JtcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHVuaXF1ZVRleHR1cmVNYXAgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwIGluIF9tYXRUZXgyRCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuXG4gICAgICAgIC8vIEFsbCB0ZXh0dXJlIHJlbGF0ZWQgbGl0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMubGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycyA9IG9wdGlvbnMubGlnaHRWZXJ0ZXhDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRpckxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlyTGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkID0gb3B0aW9ucy5oZWlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hb01hcEVuYWJsZWQgPSBvcHRpb25zLmFvTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW9WZXJ0ZXhDb2xvcnMgPSBvcHRpb25zLmFvVmVydGV4Q29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaWZmdXNlTWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlmZnVzZU1hcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKSB7XG4gICAgICAgIGNvbnN0IG1uYW1lID0gcCArICdNYXAnO1xuICAgICAgICBjb25zdCB2bmFtZSA9IHAgKyAnVmVydGV4Q29sb3InO1xuICAgICAgICBjb25zdCB2Y25hbWUgPSBwICsgJ1ZlcnRleENvbG9yQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IGNuYW1lID0gbW5hbWUgKyAnQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IHRuYW1lID0gbW5hbWUgKyAnVHJhbnNmb3JtJztcbiAgICAgICAgY29uc3QgdW5hbWUgPSBtbmFtZSArICdVdic7XG4gICAgICAgIGNvbnN0IGluYW1lID0gbW5hbWUgKyAnSWRlbnRpZmllcic7XG5cbiAgICAgICAgLy8gQXZvaWQgb3ZlcnJpZGluZyBwcmV2aW91cyBsaWdodE1hcCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChwICE9PSAnbGlnaHQnKSB7XG4gICAgICAgICAgICBvcHRpb25zW21uYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9ICcnO1xuICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSAwO1xuICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnNbdm5hbWVdID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGlzT3BhY2l0eSA9IHAgPT09ICdvcGFjaXR5JztcbiAgICAgICAgaWYgKGlzT3BhY2l0eSAmJiBzdGRNYXQuYmxlbmRUeXBlID09PSBCTEVORF9OT05FICYmIHN0ZE1hdC5hbHBoYVRlc3QgPT09IDAuMCAmJiAhc3RkTWF0LmFscGhhVG9Db3ZlcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtaW5pbWFsT3B0aW9ucyB8fCBpc09wYWNpdHkpIHtcbiAgICAgICAgICAgIGlmIChwICE9PSAnaGVpZ2h0JyAmJiBzdGRNYXRbdm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1Zjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3ZuYW1lXSA9IHN0ZE1hdFt2bmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9IHN0ZE1hdFt2Y25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RkTWF0W21uYW1lXSkge1xuICAgICAgICAgICAgICAgIGxldCBhbGxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZE1hdFt1bmFtZV0gPT09IDAgJiYgIWhhc1V2MCkgYWxsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RkTWF0W3VuYW1lXSA9PT0gMSAmJiAhaGFzVXYxKSBhbGxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChhbGxvdykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBpbnRlcm1lZGlhdGUgbWFwIGJldHdlZW4gdGhlIHRleHR1cmVzIGFuZCB0aGVpciBzbG90c1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgdGhlIHVuaXF1ZSB0ZXh0dXJlIG1hcHBpbmcgaXNuJ3QgZGVwZW5kZW50IG9uIHRoZSB0ZXh0dXJlIGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0ZXh0dXJlcyBhcmUgY2hhbmdlZCwgZXZlbiBpZiB0aGUgc2hhcmluZyBpcyB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXBJZCA9IHN0ZE1hdFttbmFtZV0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZGVudGlmaWVyID0gdW5pcXVlVGV4dHVyZU1hcFttYXBJZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGVudGlmaWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZVRleHR1cmVNYXBbbWFwSWRdID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1ttbmFtZV0gPSAhIXN0ZE1hdFttbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaW5hbWVdID0gaWRlbnRpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSB0aGlzLl9nZXRNYXBUcmFuc2Zvcm1JRChzdGRNYXQuZ2V0VW5pZm9ybSh0bmFtZSksIHN0ZE1hdFt1bmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9IHN0ZE1hdFtjbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdW5hbWVdID0gc3RkTWF0W3VuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlTWluT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQpIHtcbiAgICAgICAgb3B0aW9ucy5vcGFjaXR5VGludCA9IHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkU7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBbXTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCkge1xuICAgICAgICBjb25zdCBkaWZmdXNlVGludCA9IChzdGRNYXQuZGlmZnVzZVRpbnQgfHwgKCFzdGRNYXQuZGlmZnVzZU1hcCAmJiAhc3RkTWF0LmRpZmZ1c2VWZXJ0ZXhDb2xvcikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LmRpZmZ1c2UpO1xuXG4gICAgICAgIGNvbnN0IHVzZVNwZWN1bGFyID0gISEoc3RkTWF0LnVzZU1ldGFsbmVzcyB8fCBzdGRNYXQuc3BlY3VsYXJNYXAgfHwgc3RkTWF0LnNwaGVyZU1hcCB8fCBzdGRNYXQuY3ViZU1hcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEJsYWNrKHN0ZE1hdC5zcGVjdWxhcikgfHwgKHN0ZE1hdC5zcGVjdWxhcml0eUZhY3RvciA+IDAgJiYgc3RkTWF0LnVzZU1ldGFsbmVzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LmNsZWFyQ29hdCA+IDApKTtcblxuICAgICAgICBjb25zdCB1c2VTcGVjdWxhckNvbG9yID0gKCFzdGRNYXQudXNlTWV0YWxuZXNzIHx8IHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yKTtcbiAgICAgICAgY29uc3Qgc3BlY3VsYXJUaW50ID0gdXNlU3BlY3VsYXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0ZE1hdC5zcGVjdWxhclRpbnQgfHwgKCFzdGRNYXQuc3BlY3VsYXJNYXAgJiYgIXN0ZE1hdC5zcGVjdWxhclZlcnRleENvbG9yKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LnNwZWN1bGFyKTtcblxuICAgICAgICBjb25zdCBzcGVjdWxhcml0eUZhY3RvclRpbnQgPSB1c2VTcGVjdWxhciAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yVGludCB8fCAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yIDwgMSAmJiAhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSk7XG5cbiAgICAgICAgY29uc3QgZW1pc3NpdmVUaW50Q29sb3IgPSAhc3RkTWF0LmVtaXNzaXZlTWFwIHx8IChub3RXaGl0ZShzdGRNYXQuZW1pc3NpdmUpICYmIHN0ZE1hdC5lbWlzc2l2ZVRpbnQpO1xuICAgICAgICBjb25zdCBlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPSAoc3RkTWF0LmVtaXNzaXZlSW50ZW5zaXR5ICE9PSAxKTtcblxuICAgICAgICBjb25zdCBpc1BhY2tlZE5vcm1hbE1hcCA9IHN0ZE1hdC5ub3JtYWxNYXAgPyAoc3RkTWF0Lm5vcm1hbE1hcC5mb3JtYXQgPT09IFBJWEVMRk9STUFUX0RYVDUgfHwgc3RkTWF0Lm5vcm1hbE1hcC50eXBlID09PSBURVhUVVJFVFlQRV9TV0laWkxFR0dHUikgOiBmYWxzZTtcblxuICAgICAgICBvcHRpb25zLm9wYWNpdHlUaW50ID0gKHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkUpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuYW1iaWVudFRpbnQgPSBzdGRNYXQuYW1iaWVudFRpbnQ7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZVRpbnQgPSBkaWZmdXNlVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyVGludCA9IHNwZWN1bGFyVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyaXR5RmFjdG9yVGludCA9IHNwZWN1bGFyaXR5RmFjdG9yVGludCA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLm1ldGFsbmVzc1RpbnQgPSAoc3RkTWF0LnVzZU1ldGFsbmVzcyAmJiBzdGRNYXQubWV0YWxuZXNzIDwgMSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5nbG9zc1RpbnQgPSAxO1xuICAgICAgICBvcHRpb25zLmVtaXNzaXZlVGludCA9IChlbWlzc2l2ZVRpbnRDb2xvciA/IDIgOiAwKSArIChlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPyAxIDogMCk7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZUVuY29kaW5nID0gc3RkTWF0LmRpZmZ1c2VNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWxFbmNvZGluZyA9IHN0ZE1hdC5kaWZmdXNlRGV0YWlsTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5lbWlzc2l2ZUVuY29kaW5nID0gc3RkTWF0LmVtaXNzaXZlTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcEVuY29kaW5nID0gc3RkTWF0LmxpZ2h0TWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5wYWNrZWROb3JtYWwgPSBpc1BhY2tlZE5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5yZWZyYWN0aW9uVGludCA9IChzdGRNYXQucmVmcmFjdGlvbiAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnJlZnJhY3Rpb25JbmRleFRpbnQgPSAoc3RkTWF0LnJlZnJhY3Rpb25JbmRleCAhPT0gMS4wIC8gMS41KSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnRoaWNrbmVzc1RpbnQgPSAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uICYmIHN0ZE1hdC50aGlja25lc3MgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5zcGVjdWxhckVuY29kaW5nID0gc3RkTWF0LnNwZWN1bGFyRW5jb2RpbmcgfHwgJ2xpbmVhcic7XG4gICAgICAgIG9wdGlvbnMuc2hlZW5FbmNvZGluZyA9IHN0ZE1hdC5zaGVlbkVuY29kaW5nIHx8ICdsaW5lYXInO1xuICAgICAgICBvcHRpb25zLmFvTWFwVXYgPSBzdGRNYXQuYW9VdlNldDsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgb3B0aW9ucy5hb0RldGFpbCA9ICEhc3RkTWF0LmFvTWFwO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWwgPSAhIXN0ZE1hdC5kaWZmdXNlTWFwO1xuICAgICAgICBvcHRpb25zLm5vcm1hbERldGFpbCA9ICEhc3RkTWF0Lm5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsTW9kZSA9IHN0ZE1hdC5kaWZmdXNlRGV0YWlsTW9kZTtcbiAgICAgICAgb3B0aW9ucy5hb0RldGFpbE1vZGUgPSBzdGRNYXQuYW9EZXRhaWxNb2RlO1xuICAgICAgICBvcHRpb25zLmNsZWFyQ29hdFRpbnQgPSAoc3RkTWF0LmNsZWFyQ29hdCAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLmNsZWFyQ29hdEdsb3NzID0gISFzdGRNYXQuY2xlYXJDb2F0R2xvc3M7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3NUaW50ID0gKHN0ZE1hdC5jbGVhckNvYXRHbG9zcyAhPT0gMS4wKSA/IDEgOiAwO1xuXG4gICAgICAgIG9wdGlvbnMuaXJpZGVzY2VuY2VUaW50ID0gc3RkTWF0LmlyaWRlc2NlbmNlICE9PSAxLjAgPyAxIDogMDtcblxuICAgICAgICBvcHRpb25zLnNoZWVuVGludCA9IChzdGRNYXQudXNlU2hlZW4gJiYgbm90V2hpdGUoc3RkTWF0LnNoZWVuKSkgPyAyIDogMDtcbiAgICAgICAgb3B0aW9ucy5zaGVlbkdsb3NzVGludCA9IDE7XG5cbiAgICAgICAgb3B0aW9ucy5nbG9zc0ludmVydCA9IHN0ZE1hdC5nbG9zc0ludmVydDtcbiAgICAgICAgb3B0aW9ucy5zaGVlbkdsb3NzSW52ZXJ0ID0gc3RkTWF0LnNoZWVuR2xvc3NJbnZlcnQ7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3NJbnZlcnQgPSBzdGRNYXQuY2xlYXJDb2F0R2xvc3NJbnZlcnQ7XG5cbiAgICAgICAgLy8gTElUIE9QVElPTlNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFtYmllbnRUaW50ID0gb3B0aW9ucy5hbWJpZW50VGludDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmN1c3RvbUZyYWdtZW50U2hhZGVyID0gc3RkTWF0LmN1c3RvbUZyYWdtZW50U2hhZGVyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucGl4ZWxTbmFwID0gc3RkTWF0LnBpeGVsU25hcDtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ2xlYXJDb2F0Tm9ybWFsTWFwID0gISFzdGRNYXQuY2xlYXJDb2F0Tm9ybWFsTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlRGlmZnVzZU1hcCA9ICEhc3RkTWF0LmRpZmZ1c2VNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VBb01hcCA9ICEhc3RkTWF0LmFvTWFwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kZXRhaWxNb2RlcyA9ICEhb3B0aW9ucy5kaWZmdXNlRGV0YWlsIHx8ICEhb3B0aW9ucy5hb0RldGFpbDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNoYWRpbmdNb2RlbCA9IHN0ZE1hdC5zaGFkaW5nTW9kZWw7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50U0ggPSAhIXN0ZE1hdC5hbWJpZW50U0g7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mYXN0VGJuID0gc3RkTWF0LmZhc3RUYm47XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50d29TaWRlZExpZ2h0aW5nID0gc3RkTWF0LnR3b1NpZGVkTGlnaHRpbmc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vY2NsdWRlU3BlY3VsYXIgPSBzdGRNYXQub2NjbHVkZVNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZVNwZWN1bGFyRmxvYXQgPSAoc3RkTWF0Lm9jY2x1ZGVTcGVjdWxhckludGVuc2l0eSAhPT0gMS4wKTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTXNkZiA9ICEhc3RkTWF0Lm1zZGZNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5tc2RmVGV4dEF0dHJpYnV0ZSA9ICEhc3RkTWF0Lm1zZGZUZXh0QXR0cmlidXRlO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbHBoYVRvQ292ZXJhZ2UgPSBzdGRNYXQuYWxwaGFUb0NvdmVyYWdlO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub3BhY2l0eUZhZGVzU3BlY3VsYXIgPSBzdGRNYXQub3BhY2l0eUZhZGVzU3BlY3VsYXI7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmN1YmVNYXBQcm9qZWN0aW9uID0gc3RkTWF0LmN1YmVNYXBQcm9qZWN0aW9uO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5vY2NsdWRlRGlyZWN0ID0gc3RkTWF0Lm9jY2x1ZGVEaXJlY3Q7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jb25zZXJ2ZUVuZXJneSA9IHN0ZE1hdC5jb25zZXJ2ZUVuZXJneSAmJiBzdGRNYXQuc2hhZGluZ01vZGVsICE9PSBTUEVDVUxBUl9QSE9ORztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNwZWN1bGFyID0gdXNlU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhcml0eUZhY3RvciA9IChzcGVjdWxhcml0eUZhY3RvclRpbnQgfHwgISFzdGRNYXQuc3BlY3VsYXJpdHlGYWN0b3JNYXApICYmIHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU3BlY3VsYXJDb2xvciA9IHVzZVNwZWN1bGFyQ29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5lbmFibGVHR1hTcGVjdWxhciA9IHN0ZE1hdC5lbmFibGVHR1hTcGVjdWxhcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZyZXNuZWxNb2RlbCA9IHN0ZE1hdC5mcmVzbmVsTW9kZWw7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VSZWZyYWN0aW9uID0gKHN0ZE1hdC5yZWZyYWN0aW9uIHx8ICEhc3RkTWF0LnJlZnJhY3Rpb25NYXApICYmIChzdGRNYXQudXNlRHluYW1pY1JlZnJhY3Rpb24gfHwgISFvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VDbGVhckNvYXQgPSAhIXN0ZE1hdC5jbGVhckNvYXQ7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTaGVlbiA9IHN0ZE1hdC51c2VTaGVlbjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUlyaWRlc2NlbmNlID0gc3RkTWF0LnVzZUlyaWRlc2NlbmNlICYmIHN0ZE1hdC5pcmlkZXNjZW5jZSAhPT0gMC4wO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTWV0YWxuZXNzID0gc3RkTWF0LnVzZU1ldGFsbmVzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUR5bmFtaWNSZWZyYWN0aW9uID0gc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uO1xuICAgIH1cblxuICAgIF91cGRhdGVFbnZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgc2NlbmUpIHtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZvZyA9IHN0ZE1hdC51c2VGb2cgPyBzY2VuZS5mb2cgOiAnbm9uZSc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5nYW1tYSA9IHN0ZE1hdC51c2VHYW1tYVRvbmVtYXAgPyBzY2VuZS5nYW1tYUNvcnJlY3Rpb24gOiBHQU1NQV9OT05FO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudG9uZU1hcCA9IHN0ZE1hdC51c2VHYW1tYVRvbmVtYXAgPyBzY2VuZS50b25lTWFwcGluZyA6IC0xO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZml4U2VhbXMgPSAoc3RkTWF0LmN1YmVNYXAgPyBzdGRNYXQuY3ViZU1hcC5maXhDdWJlbWFwU2VhbXMgOiBmYWxzZSk7XG5cbiAgICAgICAgY29uc3QgaXNQaG9uZyA9IHN0ZE1hdC5zaGFkaW5nTW9kZWwgPT09IFNQRUNVTEFSX1BIT05HO1xuXG4gICAgICAgIGxldCB1c2luZ1NjZW5lRW52ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gc291cmNlIG9mIGVudmlyb25tZW50IHJlZmxlY3Rpb25zIGlzIGFzIGZvbGxvd3M6XG4gICAgICAgIGlmIChzdGRNYXQuZW52QXRsYXMgJiYgc3RkTWF0LmN1YmVNYXAgJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzSFEnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5lbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uQ3ViZW1hcEVuY29kaW5nID0gc3RkTWF0LmN1YmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LmVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhcyc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5jdWJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdjdWJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuY3ViZU1hcC5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuc3BoZXJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdzcGhlcmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5zcGhlcmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiBzY2VuZS5za3lib3ggJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzSFEnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25DdWJlbWFwRW5jb2RpbmcgPSBzY2VuZS5za3lib3guZW5jb2Rpbmc7XG4gICAgICAgICAgICB1c2luZ1NjZW5lRW52ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQudXNlU2t5Ym94ICYmIHNjZW5lLmVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhcyc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc2NlbmUuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgICAgICB1c2luZ1NjZW5lRW52ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQudXNlU2t5Ym94ICYmIHNjZW5lLnNreWJveCkge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnY3ViZU1hcCc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc2NlbmUuc2t5Ym94LmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNvdXJjZSBvZiBlbnZpcm9ubWVudCBhbWJpZW50IGlzIGFzIGZvbGxvd3M6XG4gICAgICAgIGlmIChzdGRNYXQuYW1iaWVudFNIICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNvdXJjZSA9ICdhbWJpZW50U0gnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRFbmNvZGluZyA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlbnZBdGxhcyA9IHN0ZE1hdC5lbnZBdGxhcyB8fCAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyA/IHNjZW5lLmVudkF0bGFzIDogbnVsbCk7XG4gICAgICAgICAgICBpZiAoZW52QXRsYXMgJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNvdXJjZSA9ICdlbnZBdGxhcyc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRFbmNvZGluZyA9IGVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNvdXJjZSA9ICdjb25zdGFudCc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRFbmNvZGluZyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBhZGQgYSB0ZXN0IGZvciBpZiBub24gc2t5Ym94IGN1YmVtYXBzIGhhdmUgcm90YXRpb24gKHdoZW4gdGhpcyBpcyBzdXBwb3J0ZWQpIC0gZm9yIG5vdyBhc3N1bWUgbm8gbm9uLXNreWJveCBjdWJlbWFwIHJvdGF0aW9uXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5za3lib3hJbnRlbnNpdHkgPSB1c2luZ1NjZW5lRW52ICYmIChzY2VuZS5za3lib3hJbnRlbnNpdHkgIT09IDEgfHwgc2NlbmUucGh5c2ljYWxVbml0cyk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VDdWJlTWFwUm90YXRpb24gPSB1c2luZ1NjZW5lRW52ICYmIHNjZW5lLnNreWJveFJvdGF0aW9uICYmICFzY2VuZS5za3lib3hSb3RhdGlvbi5lcXVhbHMoUXVhdC5JREVOVElUWSk7XG4gICAgfVxuXG4gICAgX3VwZGF0ZUxpZ2h0T3B0aW9ucyhvcHRpb25zLCBzY2VuZSwgc3RkTWF0LCBvYmpEZWZzLCBzb3J0ZWRMaWdodHMsIHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBDaGFubmVsID0gJyc7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBVdiA9IDA7XG4gICAgICAgIG9wdGlvbnMubGlnaHRNYXBUcmFuc2Zvcm0gPSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9IGZhbHNlO1xuICAgICAgICBvcHRpb25zLmRpckxpZ2h0TWFwID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG9iakRlZnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub1NoYWRvdyA9IChvYmpEZWZzICYgU0hBREVSREVGX05PU0hBRE9XKSAhPT0gMDtcblxuICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0xNKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBFbmNvZGluZyA9IHNjZW5lLmxpZ2h0bWFwUGl4ZWxGb3JtYXQgPT09IFBJWEVMRk9STUFUX1JHQkE4ID8gJ3JnYm0nIDogJ2xpbmVhcic7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcENoYW5uZWwgPSAncmdiJztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVXYgPSAxO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBUcmFuc2Zvcm0gPSAwO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hcFdpdGhvdXRBbWJpZW50ID0gIXN0ZE1hdC5saWdodE1hcDtcbiAgICAgICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfRElSTE0pICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGlyTGlnaHRNYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGxpZ2h0bWFwcyBjb250YWluIGJha2VkIGFtYmllbnQgbGlnaHQsIGRpc2FibGUgcmVhbC10aW1lIGFtYmllbnQgbGlnaHRcbiAgICAgICAgICAgICAgICBpZiAoKG9iakRlZnMgJiBTSEFERVJERUZfTE1BTUJJRU5UKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGRNYXQudXNlTGlnaHRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpZ2h0c0ZpbHRlcmVkID0gW107XG4gICAgICAgICAgICBjb25zdCBtYXNrID0gb2JqRGVmcyA/IChvYmpEZWZzID4+IDE2KSA6IE1BU0tfQUZGRUNUX0RZTkFNSUM7XG5cbiAgICAgICAgICAgIC8vIG1hc2sgdG8gc2VsZWN0IGxpZ2h0cyAoZHluYW1pYyB2cyBsaWdodG1hcHBlZCkgd2hlbiB1c2luZyBjbHVzdGVyZWQgbGlnaHRpbmdcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodE1hc2tEeW5hbWljID0gISEobWFzayAmIE1BU0tfQUZGRUNUX0RZTkFNSUMpO1xuXG4gICAgICAgICAgICBpZiAoc29ydGVkTGlnaHRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdExpZ2h0cyhMSUdIVFRZUEVfRElSRUNUSU9OQUwsIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfRElSRUNUSU9OQUxdLCBsaWdodHNGaWx0ZXJlZCwgbWFzayk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdExpZ2h0cyhMSUdIVFRZUEVfT01OSSwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9PTU5JXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2ssIHN0YXRpY0xpZ2h0TGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29sbGVjdExpZ2h0cyhMSUdIVFRZUEVfU1BPVCwgc29ydGVkTGlnaHRzW0xJR0hUVFlQRV9TUE9UXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2ssIHN0YXRpY0xpZ2h0TGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRzID0gbGlnaHRzRmlsdGVyZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub1NoYWRvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29sbGVjdExpZ2h0cyhsVHlwZSwgbGlnaHRzLCBsaWdodHNGaWx0ZXJlZCwgbWFzaywgc3RhdGljTGlnaHRMaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaWdodCA9IGxpZ2h0c1tpXTtcbiAgICAgICAgICAgIGlmIChsaWdodC5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0Lm1hc2sgJiBtYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsVHlwZSAhPT0gTElHSFRUWVBFX0RJUkVDVElPTkFMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlnaHQuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsaWdodHNGaWx0ZXJlZC5wdXNoKGxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdGljTGlnaHRMaXN0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRpY0xpZ2h0TGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpZ2h0ID0gc3RhdGljTGlnaHRMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChsaWdodC5fdHlwZSA9PT0gbFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzRmlsdGVyZWQucHVzaChsaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldE1hcFRyYW5zZm9ybUlEKHhmb3JtLCB1dikge1xuICAgICAgICBpZiAoIXhmb3JtKSByZXR1cm4gMDtcblxuICAgICAgICBsZXQgeGZvcm1zID0gdGhpcy5fbWFwWEZvcm1zW3V2XTtcbiAgICAgICAgaWYgKCF4Zm9ybXMpIHtcbiAgICAgICAgICAgIHhmb3JtcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWFwWEZvcm1zW3V2XSA9IHhmb3JtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeGZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlzRXF1YWwoeGZvcm1zW2ldWzBdLnZhbHVlLCB4Zm9ybVswXS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBhcnJheXNFcXVhbCh4Zm9ybXNbaV1bMV0udmFsdWUsIHhmb3JtWzFdLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB4Zm9ybXMucHVzaCh4Zm9ybSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTdGFuZGFyZE1hdGVyaWFsT3B0aW9uc0J1aWxkZXIgfTtcbiJdLCJuYW1lcyI6WyJhcnJheXNFcXVhbCIsImEiLCJiIiwibGVuZ3RoIiwiaSIsIm5vdFdoaXRlIiwiY29sb3IiLCJyIiwiZyIsIm5vdEJsYWNrIiwiU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIiwiY29uc3RydWN0b3IiLCJfbWFwWEZvcm1zIiwidXBkYXRlTWluUmVmIiwib3B0aW9ucyIsInNjZW5lIiwic3RkTWF0Iiwib2JqRGVmcyIsInN0YXRpY0xpZ2h0TGlzdCIsInBhc3MiLCJzb3J0ZWRMaWdodHMiLCJfdXBkYXRlU2hhcmVkT3B0aW9ucyIsIl91cGRhdGVNaW5PcHRpb25zIiwiX3VwZGF0ZVVWT3B0aW9ucyIsImxpdE9wdGlvbnMiLCJjaHVua3MiLCJ1cGRhdGVSZWYiLCJfdXBkYXRlRW52T3B0aW9ucyIsIl91cGRhdGVNYXRlcmlhbE9wdGlvbnMiLCJTSEFERVJfRk9SV0FSREhEUiIsImdhbW1hIiwiR0FNTUFfU1JHQkhEUiIsInRvbmVNYXAiLCJUT05FTUFQX0xJTkVBUiIsImhhc1RhbmdlbnRzIiwiU0hBREVSREVGX1RBTkdFTlRTIiwiX3VwZGF0ZUxpZ2h0T3B0aW9ucyIsImZvcmNlVXYxIiwiYWxwaGFUZXN0IiwiZm9yY2VGcmFnbWVudFByZWNpc2lvbiIsImJsZW5kVHlwZSIsInNlcGFyYXRlQW1iaWVudCIsInNjcmVlblNwYWNlIiwiU0hBREVSREVGX1NDUkVFTlNQQUNFIiwic2tpbiIsIlNIQURFUkRFRl9TS0lOIiwidXNlSW5zdGFuY2luZyIsIlNIQURFUkRFRl9JTlNUQU5DSU5HIiwidXNlTW9ycGhQb3NpdGlvbiIsIlNIQURFUkRFRl9NT1JQSF9QT1NJVElPTiIsInVzZU1vcnBoTm9ybWFsIiwiU0hBREVSREVGX01PUlBIX05PUk1BTCIsInVzZU1vcnBoVGV4dHVyZUJhc2VkIiwiU0hBREVSREVGX01PUlBIX1RFWFRVUkVfQkFTRUQiLCJuaW5lU2xpY2VkTW9kZSIsImNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCIsInVzZUxpZ2h0aW5nIiwiY2x1c3RlcmVkTGlnaHRpbmdDb29raWVzRW5hYmxlZCIsImxpZ2h0aW5nIiwiY29va2llc0VuYWJsZWQiLCJjbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkIiwic2hhZG93c0VuYWJsZWQiLCJjbHVzdGVyZWRMaWdodGluZ1NoYWRvd1R5cGUiLCJzaGFkb3dUeXBlIiwiY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCIsImFyZWFMaWdodHNFbmFibGVkIiwibWluaW1hbE9wdGlvbnMiLCJoYXNVdjAiLCJoYXNVdjEiLCJoYXNWY29sb3IiLCJTSEFERVJERUZfVVYwIiwiU0hBREVSREVGX1VWMSIsIlNIQURFUkRFRl9WQ09MT1IiLCJ2ZXJ0ZXhDb2xvcnMiLCJ1bmlxdWVUZXh0dXJlTWFwIiwicCIsIl9tYXRUZXgyRCIsIl91cGRhdGVUZXhPcHRpb25zIiwibGlnaHRNYXBFbmFibGVkIiwibGlnaHRNYXAiLCJ1c2VMaWdodE1hcFZlcnRleENvbG9ycyIsImxpZ2h0VmVydGV4Q29sb3IiLCJkaXJMaWdodE1hcEVuYWJsZWQiLCJkaXJMaWdodE1hcCIsImhlaWdodE1hcEVuYWJsZWQiLCJoZWlnaHRNYXAiLCJub3JtYWxNYXBFbmFibGVkIiwibm9ybWFsTWFwIiwiY2xlYXJDb2F0Tm9ybWFsTWFwRW5hYmxlZCIsImNsZWFyQ29hdE5vcm1hbE1hcCIsImFvTWFwRW5hYmxlZCIsImFvTWFwIiwidXNlQW9WZXJ0ZXhDb2xvcnMiLCJhb1ZlcnRleENvbG9yIiwiZGlmZnVzZU1hcEVuYWJsZWQiLCJkaWZmdXNlTWFwIiwibW5hbWUiLCJ2bmFtZSIsInZjbmFtZSIsImNuYW1lIiwidG5hbWUiLCJ1bmFtZSIsImluYW1lIiwidW5kZWZpbmVkIiwiaXNPcGFjaXR5IiwiQkxFTkRfTk9ORSIsImFscGhhVG9Db3ZlcmFnZSIsImFsbG93IiwibWFwSWQiLCJpZCIsImlkZW50aWZpZXIiLCJfZ2V0TWFwVHJhbnNmb3JtSUQiLCJnZXRVbmlmb3JtIiwib3BhY2l0eVRpbnQiLCJvcGFjaXR5IiwibGlnaHRzIiwiX3N0ZE1hdCRkaWZmdXNlTWFwIiwiX3N0ZE1hdCRkaWZmdXNlRGV0YWlsIiwiX3N0ZE1hdCRlbWlzc2l2ZU1hcCIsIl9zdGRNYXQkbGlnaHRNYXAiLCJkaWZmdXNlVGludCIsImRpZmZ1c2VWZXJ0ZXhDb2xvciIsImRpZmZ1c2UiLCJ1c2VTcGVjdWxhciIsInVzZU1ldGFsbmVzcyIsInNwZWN1bGFyTWFwIiwic3BoZXJlTWFwIiwiY3ViZU1hcCIsInNwZWN1bGFyIiwic3BlY3VsYXJpdHlGYWN0b3IiLCJlbmFibGVHR1hTcGVjdWxhciIsImNsZWFyQ29hdCIsInVzZVNwZWN1bGFyQ29sb3IiLCJ1c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yIiwic3BlY3VsYXJUaW50Iiwic3BlY3VsYXJWZXJ0ZXhDb2xvciIsInNwZWN1bGFyaXR5RmFjdG9yVGludCIsInNwZWN1bGFyaXR5RmFjdG9yTWFwIiwiZW1pc3NpdmVUaW50Q29sb3IiLCJlbWlzc2l2ZU1hcCIsImVtaXNzaXZlIiwiZW1pc3NpdmVUaW50IiwiZW1pc3NpdmVUaW50SW50ZW5zaXR5IiwiZW1pc3NpdmVJbnRlbnNpdHkiLCJpc1BhY2tlZE5vcm1hbE1hcCIsImZvcm1hdCIsIlBJWEVMRk9STUFUX0RYVDUiLCJ0eXBlIiwiVEVYVFVSRVRZUEVfU1dJWlpMRUdHR1IiLCJhbWJpZW50VGludCIsIm1ldGFsbmVzc1RpbnQiLCJtZXRhbG5lc3MiLCJnbG9zc1RpbnQiLCJkaWZmdXNlRW5jb2RpbmciLCJlbmNvZGluZyIsImRpZmZ1c2VEZXRhaWxFbmNvZGluZyIsImRpZmZ1c2VEZXRhaWxNYXAiLCJlbWlzc2l2ZUVuY29kaW5nIiwibGlnaHRNYXBFbmNvZGluZyIsInBhY2tlZE5vcm1hbCIsInJlZnJhY3Rpb25UaW50IiwicmVmcmFjdGlvbiIsInJlZnJhY3Rpb25JbmRleFRpbnQiLCJyZWZyYWN0aW9uSW5kZXgiLCJ0aGlja25lc3NUaW50IiwidXNlRHluYW1pY1JlZnJhY3Rpb24iLCJ0aGlja25lc3MiLCJzcGVjdWxhckVuY29kaW5nIiwic2hlZW5FbmNvZGluZyIsImFvTWFwVXYiLCJhb1V2U2V0IiwiYW9EZXRhaWwiLCJkaWZmdXNlRGV0YWlsIiwibm9ybWFsRGV0YWlsIiwiZGlmZnVzZURldGFpbE1vZGUiLCJhb0RldGFpbE1vZGUiLCJjbGVhckNvYXRUaW50IiwiY2xlYXJDb2F0R2xvc3MiLCJjbGVhckNvYXRHbG9zc1RpbnQiLCJpcmlkZXNjZW5jZVRpbnQiLCJpcmlkZXNjZW5jZSIsInNoZWVuVGludCIsInVzZVNoZWVuIiwic2hlZW4iLCJzaGVlbkdsb3NzVGludCIsImdsb3NzSW52ZXJ0Iiwic2hlZW5HbG9zc0ludmVydCIsImNsZWFyQ29hdEdsb3NzSW52ZXJ0IiwidXNlQW1iaWVudFRpbnQiLCJjdXN0b21GcmFnbWVudFNoYWRlciIsInBpeGVsU25hcCIsInVzZUNsZWFyQ29hdE5vcm1hbE1hcCIsInVzZURpZmZ1c2VNYXAiLCJ1c2VBb01hcCIsImRldGFpbE1vZGVzIiwic2hhZGluZ01vZGVsIiwiYW1iaWVudFNIIiwiZmFzdFRibiIsInR3b1NpZGVkTGlnaHRpbmciLCJvY2NsdWRlU3BlY3VsYXIiLCJvY2NsdWRlU3BlY3VsYXJGbG9hdCIsIm9jY2x1ZGVTcGVjdWxhckludGVuc2l0eSIsInVzZU1zZGYiLCJtc2RmTWFwIiwibXNkZlRleHRBdHRyaWJ1dGUiLCJvcGFjaXR5RmFkZXNTcGVjdWxhciIsImN1YmVNYXBQcm9qZWN0aW9uIiwib2NjbHVkZURpcmVjdCIsImNvbnNlcnZlRW5lcmd5IiwiU1BFQ1VMQVJfUEhPTkciLCJ1c2VTcGVjdWxhcml0eUZhY3RvciIsImZyZXNuZWxNb2RlbCIsInVzZVJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uTWFwIiwicmVmbGVjdGlvblNvdXJjZSIsInVzZUNsZWFyQ29hdCIsInVzZUlyaWRlc2NlbmNlIiwiZm9nIiwidXNlRm9nIiwidXNlR2FtbWFUb25lbWFwIiwiZ2FtbWFDb3JyZWN0aW9uIiwiR0FNTUFfTk9ORSIsInRvbmVNYXBwaW5nIiwiZml4U2VhbXMiLCJmaXhDdWJlbWFwU2VhbXMiLCJpc1Bob25nIiwidXNpbmdTY2VuZUVudiIsImVudkF0bGFzIiwicmVmbGVjdGlvbkVuY29kaW5nIiwicmVmbGVjdGlvbkN1YmVtYXBFbmNvZGluZyIsInVzZVNreWJveCIsInNreWJveCIsImFtYmllbnRTb3VyY2UiLCJhbWJpZW50RW5jb2RpbmciLCJza3lib3hJbnRlbnNpdHkiLCJwaHlzaWNhbFVuaXRzIiwidXNlQ3ViZU1hcFJvdGF0aW9uIiwic2t5Ym94Um90YXRpb24iLCJlcXVhbHMiLCJRdWF0IiwiSURFTlRJVFkiLCJsaWdodE1hcENoYW5uZWwiLCJsaWdodE1hcFV2IiwibGlnaHRNYXBUcmFuc2Zvcm0iLCJsaWdodE1hcFdpdGhvdXRBbWJpZW50Iiwibm9TaGFkb3ciLCJTSEFERVJERUZfTk9TSEFET1ciLCJTSEFERVJERUZfTE0iLCJsaWdodG1hcFBpeGVsRm9ybWF0IiwiUElYRUxGT1JNQVRfUkdCQTgiLCJTSEFERVJERUZfRElSTE0iLCJTSEFERVJERUZfTE1BTUJJRU5UIiwibGlnaHRzRmlsdGVyZWQiLCJtYXNrIiwiTUFTS19BRkZFQ1RfRFlOQU1JQyIsImxpZ2h0TWFza0R5bmFtaWMiLCJfY29sbGVjdExpZ2h0cyIsIkxJR0hUVFlQRV9ESVJFQ1RJT05BTCIsIkxJR0hUVFlQRV9PTU5JIiwiTElHSFRUWVBFX1NQT1QiLCJsVHlwZSIsImxpZ2h0IiwiZW5hYmxlZCIsImlzU3RhdGljIiwicHVzaCIsIl90eXBlIiwieGZvcm0iLCJ1diIsInhmb3JtcyIsInZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7OztBQW1CQSxNQUFNQSxXQUFXLEdBQUdBLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxLQUFLO0FBQzFCLEVBQUEsSUFBSUQsQ0FBQyxDQUFDRSxNQUFNLEtBQUtELENBQUMsQ0FBQ0MsTUFBTSxFQUFFO0FBQ3ZCLElBQUEsT0FBTyxLQUFLLENBQUE7QUFDaEIsR0FBQTtBQUNBLEVBQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdILENBQUMsQ0FBQ0UsTUFBTSxFQUFFLEVBQUVDLENBQUMsRUFBRTtJQUMvQixJQUFJSCxDQUFDLENBQUNHLENBQUMsQ0FBQyxLQUFLRixDQUFDLENBQUNFLENBQUMsQ0FBQyxFQUFFO0FBQ2YsTUFBQSxPQUFPLEtBQUssQ0FBQTtBQUNoQixLQUFBO0FBQ0osR0FBQTtBQUNBLEVBQUEsT0FBTyxJQUFJLENBQUE7QUFDZixDQUFDLENBQUE7QUFFRCxNQUFNQyxRQUFRLEdBQUlDLEtBQUssSUFBSztBQUN4QixFQUFBLE9BQU9BLEtBQUssQ0FBQ0MsQ0FBQyxLQUFLLENBQUMsSUFBSUQsS0FBSyxDQUFDRSxDQUFDLEtBQUssQ0FBQyxJQUFJRixLQUFLLENBQUNKLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDMUQsQ0FBQyxDQUFBO0FBRUQsTUFBTU8sUUFBUSxHQUFJSCxLQUFLLElBQUs7QUFDeEIsRUFBQSxPQUFPQSxLQUFLLENBQUNDLENBQUMsS0FBSyxDQUFDLElBQUlELEtBQUssQ0FBQ0UsQ0FBQyxLQUFLLENBQUMsSUFBSUYsS0FBSyxDQUFDSixDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzFELENBQUMsQ0FBQTtBQUVELE1BQU1RLDhCQUE4QixDQUFDO0FBQ2pDQyxFQUFB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
