/**
 * @license
 * PlayCanvas Engine v1.63.0-dev revision 9f3635a4e (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { Quat } from '../../core/math/quat.js';
import { PIXELFORMAT_DXT5, TEXTURETYPE_SWIZZLEGGGR, PIXELFORMAT_RGBA8 } from '../../platform/graphics/constants.js';
import { SHADER_FORWARDHDR, GAMMA_SRGBHDR, TONEMAP_LINEAR, SHADERDEF_TANGENTS, SHADERDEF_SCREENSPACE, SHADERDEF_SKIN, SHADERDEF_INSTANCING, SHADERDEF_MORPH_POSITION, SHADERDEF_MORPH_NORMAL, SHADERDEF_MORPH_TEXTURE_BASED, BLEND_NONE, SPECULAR_PHONG, GAMMA_NONE, SHADERDEF_NOSHADOW, SHADERDEF_LM, SHADERDEF_DIRLM, SHADERDEF_LMAMBIENT, MASK_AFFECT_DYNAMIC, LIGHTTYPE_DIRECTIONAL, LIGHTTYPE_OMNI, LIGHTTYPE_SPOT, SHADERDEF_UV0, SHADERDEF_UV1, SHADERDEF_VCOLOR } from '../constants.js';
import { _matTex2D } from '../shader-lib/programs/standard.js';

const arraysEqual = (a, b) => {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; ++i) {
    if (a[i] !== b[i]) {
      return false;
    }
  }
  return true;
};
const notWhite = color => {
  return color.r !== 1 || color.g !== 1 || color.b !== 1;
};
const notBlack = color => {
  return color.r !== 0 || color.g !== 0 || color.b !== 0;
};
class StandardMaterialOptionsBuilder {
  constructor() {
    this._mapXForms = null;
  }

  // Minimal options for Depth and Shadow passes
  updateMinRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateMinOptions(options, stdMat);
    this._updateUVOptions(options, stdMat, objDefs, true);
    options.litOptions.chunks = options.chunks;
  }
  updateRef(options, scene, stdMat, objDefs, staticLightList, pass, sortedLights) {
    this._updateSharedOptions(options, scene, stdMat, objDefs, pass);
    this._updateEnvOptions(options, stdMat, scene);
    this._updateMaterialOptions(options, stdMat);
    if (pass === SHADER_FORWARDHDR) {
      if (options.litOptions.gamma) options.litOptions.gamma = GAMMA_SRGBHDR;
      options.litOptions.toneMap = TONEMAP_LINEAR;
    }
    options.litOptions.hasTangents = objDefs && (objDefs & SHADERDEF_TANGENTS) !== 0;
    this._updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList);
    this._updateUVOptions(options, stdMat, objDefs, false);
    options.litOptions.chunks = options.chunks;
  }
  _updateSharedOptions(options, scene, stdMat, objDefs, pass) {
    options.forceUv1 = stdMat.forceUv1;
    options.chunks = stdMat.chunks || '';
    options.pass = pass;
    options.litOptions.alphaTest = stdMat.alphaTest > 0;
    options.litOptions.forceFragmentPrecision = stdMat.forceFragmentPrecision || '';
    options.litOptions.blendType = stdMat.blendType;
    options.litOptions.separateAmbient = false; // store ambient light color in separate variable, instead of adding it to diffuse directly
    options.litOptions.screenSpace = objDefs && (objDefs & SHADERDEF_SCREENSPACE) !== 0;
    options.litOptions.skin = objDefs && (objDefs & SHADERDEF_SKIN) !== 0;
    options.litOptions.useInstancing = objDefs && (objDefs & SHADERDEF_INSTANCING) !== 0;
    options.litOptions.useMorphPosition = objDefs && (objDefs & SHADERDEF_MORPH_POSITION) !== 0;
    options.litOptions.useMorphNormal = objDefs && (objDefs & SHADERDEF_MORPH_NORMAL) !== 0;
    options.litOptions.useMorphTextureBased = objDefs && (objDefs & SHADERDEF_MORPH_TEXTURE_BASED) !== 0;
    options.litOptions.nineSlicedMode = stdMat.nineSlicedMode || 0;

    // clustered lighting features (in shared options as shadow pass needs this too)
    if (scene.clusteredLightingEnabled && stdMat.useLighting) {
      options.litOptions.clusteredLightingEnabled = true;
      options.litOptions.clusteredLightingCookiesEnabled = scene.lighting.cookiesEnabled;
      options.litOptions.clusteredLightingShadowsEnabled = scene.lighting.shadowsEnabled;
      options.litOptions.clusteredLightingShadowType = scene.lighting.shadowType;
      options.litOptions.clusteredLightingAreaLightsEnabled = scene.lighting.areaLightsEnabled;
    } else {
      options.litOptions.clusteredLightingEnabled = false;
      options.litOptions.clusteredLightingCookiesEnabled = false;
      options.litOptions.clusteredLightingShadowsEnabled = false;
      options.litOptions.clusteredLightingAreaLightsEnabled = false;
    }
  }
  _updateUVOptions(options, stdMat, objDefs, minimalOptions) {
    let hasUv0 = false;
    let hasUv1 = false;
    let hasVcolor = false;
    if (objDefs) {
      hasUv0 = (objDefs & SHADERDEF_UV0) !== 0;
      hasUv1 = (objDefs & SHADERDEF_UV1) !== 0;
      hasVcolor = (objDefs & SHADERDEF_VCOLOR) !== 0;
    }
    options.litOptions.vertexColors = false;
    this._mapXForms = [];
    const uniqueTextureMap = {};
    for (const p in _matTex2D) {
      this._updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap);
    }
    this._mapXForms = null;

    // All texture related lit options
    options.litOptions.lightMapEnabled = options.lightMap;
    options.litOptions.useLightMapVertexColors = options.lightVertexColor;
    options.litOptions.dirLightMapEnabled = options.dirLightMap;
    options.litOptions.heightMapEnabled = options.heightMap;
    options.litOptions.normalMapEnabled = options.normalMap;
    options.litOptions.clearCoatNormalMapEnabled = options.clearCoatNormalMap;
    options.litOptions.aoMapEnabled = options.aoMap;
    options.litOptions.useAoVertexColors = options.aoVertexColor;
    options.litOptions.diffuseMapEnabled = options.diffuseMap;
  }
  _updateTexOptions(options, stdMat, p, hasUv0, hasUv1, hasVcolor, minimalOptions, uniqueTextureMap) {
    const mname = p + 'Map';
    const vname = p + 'VertexColor';
    const vcname = p + 'VertexColorChannel';
    const cname = mname + 'Channel';
    const tname = mname + 'Transform';
    const uname = mname + 'Uv';
    const iname = mname + 'Identifier';

    // Avoid overriding previous lightMap properties
    if (p !== 'light') {
      options[mname] = false;
      options[iname] = undefined;
      options[cname] = '';
      options[tname] = 0;
      options[uname] = 0;
    }
    options[vname] = false;
    options[vcname] = '';
    const isOpacity = p === 'opacity';
    if (isOpacity && stdMat.blendType === BLEND_NONE && stdMat.alphaTest === 0.0 && !stdMat.alphaToCoverage) {
      return;
    }
    if (!minimalOptions || isOpacity) {
      if (p !== 'height' && stdMat[vname]) {
        if (hasVcolor) {
          options[vname] = stdMat[vname];
          options[vcname] = stdMat[vcname];
          options.litOptions.vertexColors = true;
        }
      }
      if (stdMat[mname]) {
        let allow = true;
        if (stdMat[uname] === 0 && !hasUv0) allow = false;
        if (stdMat[uname] === 1 && !hasUv1) allow = false;
        if (allow) {
          // create an intermediate map between the textures and their slots
          // to ensure the unique texture mapping isn't dependent on the texture id
          // as that will change when textures are changed, even if the sharing is the same
          const mapId = stdMat[mname].id;
          let identifier = uniqueTextureMap[mapId];
          if (identifier === undefined) {
            uniqueTextureMap[mapId] = p;
            identifier = p;
          }
          options[mname] = !!stdMat[mname];
          options[iname] = identifier;
          options[tname] = this._getMapTransformID(stdMat.getUniform(tname), stdMat[uname]);
          options[cname] = stdMat[cname];
          options[uname] = stdMat[uname];
        }
      }
    }
  }
  _updateMinOptions(options, stdMat) {
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE;
    options.litOptions.lights = [];
  }
  _updateMaterialOptions(options, stdMat) {
    var _stdMat$diffuseMap, _stdMat$diffuseDetail, _stdMat$emissiveMap, _stdMat$lightMap;
    const diffuseTint = (stdMat.diffuseTint || !stdMat.diffuseMap && !stdMat.diffuseVertexColor) && notWhite(stdMat.diffuse);
    const useSpecular = !!(stdMat.useMetalness || stdMat.specularMap || stdMat.sphereMap || stdMat.cubeMap || notBlack(stdMat.specular) || stdMat.specularityFactor > 0 && stdMat.useMetalness || stdMat.enableGGXSpecular || stdMat.clearCoat > 0);
    const useSpecularColor = !stdMat.useMetalness || stdMat.useMetalnessSpecularColor;
    const specularTint = useSpecular && (stdMat.specularTint || !stdMat.specularMap && !stdMat.specularVertexColor) && notWhite(stdMat.specular);
    const specularityFactorTint = useSpecular && stdMat.useMetalnessSpecularColor && (stdMat.specularityFactorTint || stdMat.specularityFactor < 1 && !stdMat.specularityFactorMap);
    const emissiveTintColor = !stdMat.emissiveMap || notWhite(stdMat.emissive) && stdMat.emissiveTint;
    const emissiveTintIntensity = stdMat.emissiveIntensity !== 1;
    const isPackedNormalMap = stdMat.normalMap ? stdMat.normalMap.format === PIXELFORMAT_DXT5 || stdMat.normalMap.type === TEXTURETYPE_SWIZZLEGGGR : false;
    options.opacityTint = stdMat.opacity !== 1 && stdMat.blendType !== BLEND_NONE ? 1 : 0;
    options.ambientTint = stdMat.ambientTint;
    options.diffuseTint = diffuseTint ? 2 : 0;
    options.specularTint = specularTint ? 2 : 0;
    options.specularityFactorTint = specularityFactorTint ? 1 : 0;
    options.metalnessTint = stdMat.useMetalness && stdMat.metalness < 1 ? 1 : 0;
    options.glossTint = 1;
    options.emissiveTint = (emissiveTintColor ? 2 : 0) + (emissiveTintIntensity ? 1 : 0);
    options.diffuseEncoding = (_stdMat$diffuseMap = stdMat.diffuseMap) == null ? void 0 : _stdMat$diffuseMap.encoding;
    options.diffuseDetailEncoding = (_stdMat$diffuseDetail = stdMat.diffuseDetailMap) == null ? void 0 : _stdMat$diffuseDetail.encoding;
    options.emissiveEncoding = (_stdMat$emissiveMap = stdMat.emissiveMap) == null ? void 0 : _stdMat$emissiveMap.encoding;
    options.lightMapEncoding = (_stdMat$lightMap = stdMat.lightMap) == null ? void 0 : _stdMat$lightMap.encoding;
    options.packedNormal = isPackedNormalMap;
    options.refractionTint = stdMat.refraction !== 1.0 ? 1 : 0;
    options.refractionIndexTint = stdMat.refractionIndex !== 1.0 / 1.5 ? 1 : 0;
    options.thicknessTint = stdMat.useDynamicRefraction && stdMat.thickness !== 1.0 ? 1 : 0;
    options.specularEncoding = stdMat.specularEncoding || 'linear';
    options.sheenEncoding = stdMat.sheenEncoding || 'linear';
    options.aoMapUv = stdMat.aoUvSet; // backwards compatibility
    options.diffuseDetail = !!stdMat.diffuseMap;
    options.normalDetail = !!stdMat.normalMap;
    options.diffuseDetailMode = stdMat.diffuseDetailMode;
    options.clearCoatTint = stdMat.clearCoat !== 1.0 ? 1 : 0;
    options.clearCoatGloss = !!stdMat.clearCoatGloss;
    options.clearCoatGlossTint = stdMat.clearCoatGloss !== 1.0 ? 1 : 0;
    options.iridescenceTint = stdMat.iridescence !== 1.0 ? 1 : 0;
    options.sheenTint = stdMat.useSheen && notWhite(stdMat.sheen) ? 2 : 0;
    options.sheenGlossTint = 1;
    options.glossInvert = stdMat.glossInvert;
    options.sheenGlossInvert = stdMat.sheenGlossInvert;
    options.clearCoatGlossInvert = stdMat.clearCoatGlossInvert;

    // LIT OPTIONS
    options.litOptions.useAmbientTint = options.ambientTint;
    options.litOptions.customFragmentShader = stdMat.customFragmentShader;
    options.litOptions.pixelSnap = stdMat.pixelSnap;
    options.litOptions.useClearCoatNormalMap = !!stdMat.clearCoatNormalMap;
    options.litOptions.useDiffuseMap = !!stdMat.diffuseMap;
    options.litOptions.useAoMap = !!stdMat.aoMap;
    options.litOptions.detailModes = !!options.diffuseDetail;
    options.litOptions.shadingModel = stdMat.shadingModel;
    options.litOptions.ambientSH = !!stdMat.ambientSH;
    options.litOptions.fastTbn = stdMat.fastTbn;
    options.litOptions.twoSidedLighting = stdMat.twoSidedLighting;
    options.litOptions.occludeSpecular = stdMat.occludeSpecular;
    options.litOptions.occludeSpecularFloat = stdMat.occludeSpecularIntensity !== 1.0;
    options.litOptions.useMsdf = !!stdMat.msdfMap;
    options.litOptions.msdfTextAttribute = !!stdMat.msdfTextAttribute;
    options.litOptions.alphaToCoverage = stdMat.alphaToCoverage;
    options.litOptions.opacityFadesSpecular = stdMat.opacityFadesSpecular;
    options.litOptions.cubeMapProjection = stdMat.cubeMapProjection;
    options.litOptions.occludeDirect = stdMat.occludeDirect;
    options.litOptions.conserveEnergy = stdMat.conserveEnergy && stdMat.shadingModel !== SPECULAR_PHONG;
    options.litOptions.useSpecular = useSpecular;
    options.litOptions.useSpecularityFactor = (specularityFactorTint || !!stdMat.specularityFactorMap) && stdMat.useMetalnessSpecularColor;
    options.litOptions.useSpecularColor = useSpecularColor;
    options.litOptions.enableGGXSpecular = stdMat.enableGGXSpecular;
    options.litOptions.fresnelModel = stdMat.fresnelModel;
    options.litOptions.useRefraction = (stdMat.refraction || !!stdMat.refractionMap) && (stdMat.useDynamicRefraction || !!options.litOptions.reflectionSource);
    options.litOptions.useClearCoat = !!stdMat.clearCoat;
    options.litOptions.useSheen = stdMat.useSheen;
    options.litOptions.useIridescence = stdMat.useIridescence && stdMat.iridescence !== 0.0;
    options.litOptions.useMetalness = stdMat.useMetalness;
    options.litOptions.useDynamicRefraction = stdMat.useDynamicRefraction;
  }
  _updateEnvOptions(options, stdMat, scene) {
    options.litOptions.fog = stdMat.useFog ? scene.fog : 'none';
    options.litOptions.gamma = stdMat.useGammaTonemap ? scene.gammaCorrection : GAMMA_NONE;
    options.litOptions.toneMap = stdMat.useGammaTonemap ? scene.toneMapping : -1;
    options.litOptions.fixSeams = stdMat.cubeMap ? stdMat.cubeMap.fixCubemapSeams : false;
    const isPhong = stdMat.shadingModel === SPECULAR_PHONG;
    let usingSceneEnv = false;

    // source of environment reflections is as follows:
    if (stdMat.envAtlas && stdMat.cubeMap && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = stdMat.envAtlas.encoding;
    } else if (stdMat.cubeMap) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = stdMat.cubeMap.encoding;
    } else if (stdMat.sphereMap) {
      options.litOptions.reflectionSource = 'sphereMap';
      options.litOptions.reflectionEncoding = stdMat.sphereMap.encoding;
    } else if (stdMat.useSkybox && scene.envAtlas && scene.skybox && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlasHQ';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.envAtlas && !isPhong) {
      options.litOptions.reflectionSource = 'envAtlas';
      options.litOptions.reflectionEncoding = scene.envAtlas.encoding;
      usingSceneEnv = true;
    } else if (stdMat.useSkybox && scene.skybox) {
      options.litOptions.reflectionSource = 'cubeMap';
      options.litOptions.reflectionEncoding = scene.skybox.encoding;
      usingSceneEnv = true;
    } else {
      options.litOptions.reflectionSource = null;
      options.litOptions.reflectionEncoding = null;
    }

    // source of environment ambient is as follows:
    if (stdMat.ambientSH && !isPhong) {
      options.litOptions.ambientSource = 'ambientSH';
      options.litOptions.ambientEncoding = null;
    } else {
      const envAtlas = stdMat.envAtlas || (stdMat.useSkybox && scene.envAtlas ? scene.envAtlas : null);
      if (envAtlas && !isPhong) {
        options.litOptions.ambientSource = 'envAtlas';
        options.litOptions.ambientEncoding = envAtlas.encoding;
      } else {
        options.litOptions.ambientSource = 'constant';
        options.litOptions.ambientEncoding = null;
      }
    }

    // TODO: add a test for if non skybox cubemaps have rotation (when this is supported) - for now assume no non-skybox cubemap rotation
    options.litOptions.skyboxIntensity = usingSceneEnv && (scene.skyboxIntensity !== 1 || scene.physicalUnits);
    options.litOptions.useCubeMapRotation = usingSceneEnv && scene.skyboxRotation && !scene.skyboxRotation.equals(Quat.IDENTITY);
  }
  _updateLightOptions(options, scene, stdMat, objDefs, sortedLights, staticLightList) {
    options.lightMap = false;
    options.lightMapChannel = '';
    options.lightMapUv = 0;
    options.lightMapTransform = 0;
    options.litOptions.lightMapWithoutAmbient = false;
    options.dirLightMap = false;
    if (objDefs) {
      options.litOptions.noShadow = (objDefs & SHADERDEF_NOSHADOW) !== 0;
      if ((objDefs & SHADERDEF_LM) !== 0) {
        options.lightMapEncoding = scene.lightmapPixelFormat === PIXELFORMAT_RGBA8 ? 'rgbm' : 'linear';
        options.lightMap = true;
        options.lightMapChannel = 'rgb';
        options.lightMapUv = 1;
        options.lightMapTransform = 0;
        options.litOptions.lightMapWithoutAmbient = !stdMat.lightMap;
        if ((objDefs & SHADERDEF_DIRLM) !== 0) {
          options.dirLightMap = true;
        }

        // if lightmaps contain baked ambient light, disable real-time ambient light
        if ((objDefs & SHADERDEF_LMAMBIENT) !== 0) {
          options.litOptions.lightMapWithoutAmbient = false;
        }
      }
    }
    if (stdMat.useLighting) {
      const lightsFiltered = [];
      const mask = objDefs ? objDefs >> 16 : MASK_AFFECT_DYNAMIC;

      // mask to select lights (dynamic vs lightmapped) when using clustered lighting
      options.litOptions.lightMaskDynamic = !!(mask & MASK_AFFECT_DYNAMIC);
      if (sortedLights) {
        this._collectLights(LIGHTTYPE_DIRECTIONAL, sortedLights[LIGHTTYPE_DIRECTIONAL], lightsFiltered, mask);
        this._collectLights(LIGHTTYPE_OMNI, sortedLights[LIGHTTYPE_OMNI], lightsFiltered, mask, staticLightList);
        this._collectLights(LIGHTTYPE_SPOT, sortedLights[LIGHTTYPE_SPOT], lightsFiltered, mask, staticLightList);
      }
      options.litOptions.lights = lightsFiltered;
    } else {
      options.litOptions.lights = [];
    }
    if (options.litOptions.lights.length === 0) {
      options.litOptions.noShadow = true;
    }
  }
  _collectLights(lType, lights, lightsFiltered, mask, staticLightList) {
    for (let i = 0; i < lights.length; i++) {
      const light = lights[i];
      if (light.enabled) {
        if (light.mask & mask) {
          if (lType !== LIGHTTYPE_DIRECTIONAL) {
            if (light.isStatic) {
              continue;
            }
          }
          lightsFiltered.push(light);
        }
      }
    }
    if (staticLightList) {
      for (let i = 0; i < staticLightList.length; i++) {
        const light = staticLightList[i];
        if (light._type === lType) {
          lightsFiltered.push(light);
        }
      }
    }
  }
  _getMapTransformID(xform, uv) {
    if (!xform) return 0;
    let xforms = this._mapXForms[uv];
    if (!xforms) {
      xforms = [];
      this._mapXForms[uv] = xforms;
    }
    for (let i = 0; i < xforms.length; i++) {
      if (arraysEqual(xforms[i][0].value, xform[0].value) && arraysEqual(xforms[i][1].value, xform[1].value)) {
        return i + 1;
      }
    }
    return xforms.push(xform);
  }
}

export { StandardMaterialOptionsBuilder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhbmRhcmQtbWF0ZXJpYWwtb3B0aW9ucy1idWlsZGVyLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2NlbmUvbWF0ZXJpYWxzL3N0YW5kYXJkLW1hdGVyaWFsLW9wdGlvbnMtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL3F1YXQuanMnO1xuXG5pbXBvcnQge1xuICAgIFBJWEVMRk9STUFUX0RYVDUsIFBJWEVMRk9STUFUX1JHQkE4LCBURVhUVVJFVFlQRV9TV0laWkxFR0dHUlxufSBmcm9tICcuLi8uLi9wbGF0Zm9ybS9ncmFwaGljcy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQge1xuICAgIEJMRU5EX05PTkUsXG4gICAgR0FNTUFfTk9ORSwgR0FNTUFfU1JHQkhEUixcbiAgICBMSUdIVFRZUEVfRElSRUNUSU9OQUwsIExJR0hUVFlQRV9PTU5JLCBMSUdIVFRZUEVfU1BPVCxcbiAgICBNQVNLX0FGRkVDVF9EWU5BTUlDLFxuICAgIFNIQURFUl9GT1JXQVJESERSLFxuICAgIFNIQURFUkRFRl9ESVJMTSwgU0hBREVSREVGX0lOU1RBTkNJTkcsIFNIQURFUkRFRl9MTSwgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OLCBTSEFERVJERUZfTU9SUEhfTk9STUFMLCBTSEFERVJERUZfTk9TSEFET1csIFNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VELFxuICAgIFNIQURFUkRFRl9TQ1JFRU5TUEFDRSwgU0hBREVSREVGX1NLSU4sIFNIQURFUkRFRl9UQU5HRU5UUywgU0hBREVSREVGX1VWMCwgU0hBREVSREVGX1VWMSwgU0hBREVSREVGX1ZDT0xPUiwgU0hBREVSREVGX0xNQU1CSUVOVCxcbiAgICBUT05FTUFQX0xJTkVBUixcbiAgICBTUEVDVUxBUl9QSE9OR1xufSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgX21hdFRleDJEIH0gZnJvbSAnLi4vc2hhZGVyLWxpYi9wcm9ncmFtcy9zdGFuZGFyZC5qcyc7XG5cbmNvbnN0IGFycmF5c0VxdWFsID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBub3RXaGl0ZSA9IChjb2xvcikgPT4ge1xuICAgIHJldHVybiBjb2xvci5yICE9PSAxIHx8IGNvbG9yLmcgIT09IDEgfHwgY29sb3IuYiAhPT0gMTtcbn07XG5cbmNvbnN0IG5vdEJsYWNrID0gKGNvbG9yKSA9PiB7XG4gICAgcmV0dXJuIGNvbG9yLnIgIT09IDAgfHwgY29sb3IuZyAhPT0gMCB8fCBjb2xvci5iICE9PSAwO1xufTtcblxuY2xhc3MgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbWFwWEZvcm1zID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBNaW5pbWFsIG9wdGlvbnMgZm9yIERlcHRoIGFuZCBTaGFkb3cgcGFzc2VzXG4gICAgdXBkYXRlTWluUmVmKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHN0YXRpY0xpZ2h0TGlzdCwgcGFzcywgc29ydGVkTGlnaHRzKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcyk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1pbk9wdGlvbnMob3B0aW9ucywgc3RkTWF0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgdHJ1ZSk7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jaHVua3MgPSBvcHRpb25zLmNodW5rcztcbiAgICB9XG5cbiAgICB1cGRhdGVSZWYob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc3RhdGljTGlnaHRMaXN0LCBwYXNzLCBzb3J0ZWRMaWdodHMpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2hhcmVkT3B0aW9ucyhvcHRpb25zLCBzY2VuZSwgc3RkTWF0LCBvYmpEZWZzLCBwYXNzKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCk7XG4gICAgICAgIGlmIChwYXNzID09PSBTSEFERVJfRk9SV0FSREhEUikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5nYW1tYSkgb3B0aW9ucy5saXRPcHRpb25zLmdhbW1hID0gR0FNTUFfU1JHQkhEUjtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy50b25lTWFwID0gVE9ORU1BUF9MSU5FQVI7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmhhc1RhbmdlbnRzID0gb2JqRGVmcyAmJiAoKG9iakRlZnMgJiBTSEFERVJERUZfVEFOR0VOVFMpICE9PSAwKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlTGlnaHRPcHRpb25zKG9wdGlvbnMsIHNjZW5lLCBzdGRNYXQsIG9iakRlZnMsIHNvcnRlZExpZ2h0cywgc3RhdGljTGlnaHRMaXN0KTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVVZPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCwgb2JqRGVmcywgZmFsc2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2h1bmtzID0gb3B0aW9ucy5jaHVua3M7XG4gICAgfVxuXG4gICAgX3VwZGF0ZVNoYXJlZE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgcGFzcykge1xuICAgICAgICBvcHRpb25zLmZvcmNlVXYxID0gc3RkTWF0LmZvcmNlVXYxO1xuICAgICAgICBvcHRpb25zLmNodW5rcyA9IHN0ZE1hdC5jaHVua3MgfHwgJyc7XG5cbiAgICAgICAgb3B0aW9ucy5wYXNzID0gcGFzcztcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFscGhhVGVzdCA9IHN0ZE1hdC5hbHBoYVRlc3QgPiAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZm9yY2VGcmFnbWVudFByZWNpc2lvbiA9IHN0ZE1hdC5mb3JjZUZyYWdtZW50UHJlY2lzaW9uIHx8ICcnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYmxlbmRUeXBlID0gc3RkTWF0LmJsZW5kVHlwZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnNlcGFyYXRlQW1iaWVudCA9IGZhbHNlOyAgICAvLyBzdG9yZSBhbWJpZW50IGxpZ2h0IGNvbG9yIGluIHNlcGFyYXRlIHZhcmlhYmxlLCBpbnN0ZWFkIG9mIGFkZGluZyBpdCB0byBkaWZmdXNlIGRpcmVjdGx5XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zY3JlZW5TcGFjZSA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0NSRUVOU1BBQ0UpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2tpbiA9IG9iakRlZnMgJiYgKG9iakRlZnMgJiBTSEFERVJERUZfU0tJTikgIT09IDA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJbnN0YW5jaW5nID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9JTlNUQU5DSU5HKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoUG9zaXRpb24gPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1BPU0lUSU9OKSAhPT0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1vcnBoTm9ybWFsID0gb2JqRGVmcyAmJiAob2JqRGVmcyAmIFNIQURFUkRFRl9NT1JQSF9OT1JNQUwpICE9PSAwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlTW9ycGhUZXh0dXJlQmFzZWQgPSBvYmpEZWZzICYmIChvYmpEZWZzICYgU0hBREVSREVGX01PUlBIX1RFWFRVUkVfQkFTRUQpICE9PSAwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5uaW5lU2xpY2VkTW9kZSA9IHN0ZE1hdC5uaW5lU2xpY2VkTW9kZSB8fCAwO1xuXG4gICAgICAgIC8vIGNsdXN0ZXJlZCBsaWdodGluZyBmZWF0dXJlcyAoaW4gc2hhcmVkIG9wdGlvbnMgYXMgc2hhZG93IHBhc3MgbmVlZHMgdGhpcyB0b28pXG4gICAgICAgIGlmIChzY2VuZS5jbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQgJiYgc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ0Nvb2tpZXNFbmFibGVkID0gc2NlbmUubGlnaHRpbmcuY29va2llc0VuYWJsZWQ7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd3NFbmFibGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nU2hhZG93VHlwZSA9IHNjZW5lLmxpZ2h0aW5nLnNoYWRvd1R5cGU7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IHNjZW5lLmxpZ2h0aW5nLmFyZWFMaWdodHNFbmFibGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbHVzdGVyZWRMaWdodGluZ1NoYWRvd3NFbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY2x1c3RlcmVkTGlnaHRpbmdBcmVhTGlnaHRzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVVWT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIG9iakRlZnMsIG1pbmltYWxPcHRpb25zKSB7XG4gICAgICAgIGxldCBoYXNVdjAgPSBmYWxzZTtcbiAgICAgICAgbGV0IGhhc1V2MSA9IGZhbHNlO1xuICAgICAgICBsZXQgaGFzVmNvbG9yID0gZmFsc2U7XG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBoYXNVdjAgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9VVjApICE9PSAwO1xuICAgICAgICAgICAgaGFzVXYxID0gKG9iakRlZnMgJiBTSEFERVJERUZfVVYxKSAhPT0gMDtcbiAgICAgICAgICAgIGhhc1Zjb2xvciA9IChvYmpEZWZzICYgU0hBREVSREVGX1ZDT0xPUikgIT09IDA7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcFhGb3JtcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHVuaXF1ZVRleHR1cmVNYXAgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwIGluIF9tYXRUZXgyRCkge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXBYRm9ybXMgPSBudWxsO1xuXG4gICAgICAgIC8vIEFsbCB0ZXh0dXJlIHJlbGF0ZWQgbGl0IG9wdGlvbnNcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMubGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VMaWdodE1hcFZlcnRleENvbG9ycyA9IG9wdGlvbnMubGlnaHRWZXJ0ZXhDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRpckxpZ2h0TWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlyTGlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5oZWlnaHRNYXBFbmFibGVkID0gb3B0aW9ucy5oZWlnaHRNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5ub3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXBFbmFibGVkID0gb3B0aW9ucy5jbGVhckNvYXROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hb01hcEVuYWJsZWQgPSBvcHRpb25zLmFvTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW9WZXJ0ZXhDb2xvcnMgPSBvcHRpb25zLmFvVmVydGV4Q29sb3I7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5kaWZmdXNlTWFwRW5hYmxlZCA9IG9wdGlvbnMuZGlmZnVzZU1hcDtcbiAgICB9XG5cbiAgICBfdXBkYXRlVGV4T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHAsIGhhc1V2MCwgaGFzVXYxLCBoYXNWY29sb3IsIG1pbmltYWxPcHRpb25zLCB1bmlxdWVUZXh0dXJlTWFwKSB7XG4gICAgICAgIGNvbnN0IG1uYW1lID0gcCArICdNYXAnO1xuICAgICAgICBjb25zdCB2bmFtZSA9IHAgKyAnVmVydGV4Q29sb3InO1xuICAgICAgICBjb25zdCB2Y25hbWUgPSBwICsgJ1ZlcnRleENvbG9yQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IGNuYW1lID0gbW5hbWUgKyAnQ2hhbm5lbCc7XG4gICAgICAgIGNvbnN0IHRuYW1lID0gbW5hbWUgKyAnVHJhbnNmb3JtJztcbiAgICAgICAgY29uc3QgdW5hbWUgPSBtbmFtZSArICdVdic7XG4gICAgICAgIGNvbnN0IGluYW1lID0gbW5hbWUgKyAnSWRlbnRpZmllcic7XG5cbiAgICAgICAgLy8gQXZvaWQgb3ZlcnJpZGluZyBwcmV2aW91cyBsaWdodE1hcCBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChwICE9PSAnbGlnaHQnKSB7XG4gICAgICAgICAgICBvcHRpb25zW21uYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgb3B0aW9uc1tpbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9ICcnO1xuICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSAwO1xuICAgICAgICAgICAgb3B0aW9uc1t1bmFtZV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnNbdm5hbWVdID0gZmFsc2U7XG4gICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGlzT3BhY2l0eSA9IHAgPT09ICdvcGFjaXR5JztcbiAgICAgICAgaWYgKGlzT3BhY2l0eSAmJiBzdGRNYXQuYmxlbmRUeXBlID09PSBCTEVORF9OT05FICYmIHN0ZE1hdC5hbHBoYVRlc3QgPT09IDAuMCAmJiAhc3RkTWF0LmFscGhhVG9Db3ZlcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtaW5pbWFsT3B0aW9ucyB8fCBpc09wYWNpdHkpIHtcbiAgICAgICAgICAgIGlmIChwICE9PSAnaGVpZ2h0JyAmJiBzdGRNYXRbdm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc1Zjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW3ZuYW1lXSA9IHN0ZE1hdFt2bmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdmNuYW1lXSA9IHN0ZE1hdFt2Y25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudmVydGV4Q29sb3JzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RkTWF0W21uYW1lXSkge1xuICAgICAgICAgICAgICAgIGxldCBhbGxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZE1hdFt1bmFtZV0gPT09IDAgJiYgIWhhc1V2MCkgYWxsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc3RkTWF0W3VuYW1lXSA9PT0gMSAmJiAhaGFzVXYxKSBhbGxvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChhbGxvdykge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBpbnRlcm1lZGlhdGUgbWFwIGJldHdlZW4gdGhlIHRleHR1cmVzIGFuZCB0aGVpciBzbG90c1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBlbnN1cmUgdGhlIHVuaXF1ZSB0ZXh0dXJlIG1hcHBpbmcgaXNuJ3QgZGVwZW5kZW50IG9uIHRoZSB0ZXh0dXJlIGlkXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoYXQgd2lsbCBjaGFuZ2Ugd2hlbiB0ZXh0dXJlcyBhcmUgY2hhbmdlZCwgZXZlbiBpZiB0aGUgc2hhcmluZyBpcyB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXBJZCA9IHN0ZE1hdFttbmFtZV0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZGVudGlmaWVyID0gdW5pcXVlVGV4dHVyZU1hcFttYXBJZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZGVudGlmaWVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZVRleHR1cmVNYXBbbWFwSWRdID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSBwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1ttbmFtZV0gPSAhIXN0ZE1hdFttbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbaW5hbWVdID0gaWRlbnRpZmllcjtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1t0bmFtZV0gPSB0aGlzLl9nZXRNYXBUcmFuc2Zvcm1JRChzdGRNYXQuZ2V0VW5pZm9ybSh0bmFtZSksIHN0ZE1hdFt1bmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zW2NuYW1lXSA9IHN0ZE1hdFtjbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnNbdW5hbWVdID0gc3RkTWF0W3VuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlTWluT3B0aW9ucyhvcHRpb25zLCBzdGRNYXQpIHtcbiAgICAgICAgb3B0aW9ucy5vcGFjaXR5VGludCA9IHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkU7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMgPSBbXTtcbiAgICB9XG5cbiAgICBfdXBkYXRlTWF0ZXJpYWxPcHRpb25zKG9wdGlvbnMsIHN0ZE1hdCkge1xuICAgICAgICBjb25zdCBkaWZmdXNlVGludCA9IChzdGRNYXQuZGlmZnVzZVRpbnQgfHwgKCFzdGRNYXQuZGlmZnVzZU1hcCAmJiAhc3RkTWF0LmRpZmZ1c2VWZXJ0ZXhDb2xvcikpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LmRpZmZ1c2UpO1xuXG4gICAgICAgIGNvbnN0IHVzZVNwZWN1bGFyID0gISEoc3RkTWF0LnVzZU1ldGFsbmVzcyB8fCBzdGRNYXQuc3BlY3VsYXJNYXAgfHwgc3RkTWF0LnNwaGVyZU1hcCB8fCBzdGRNYXQuY3ViZU1hcCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEJsYWNrKHN0ZE1hdC5zcGVjdWxhcikgfHwgKHN0ZE1hdC5zcGVjdWxhcml0eUZhY3RvciA+IDAgJiYgc3RkTWF0LnVzZU1ldGFsbmVzcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LmNsZWFyQ29hdCA+IDApKTtcblxuICAgICAgICBjb25zdCB1c2VTcGVjdWxhckNvbG9yID0gKCFzdGRNYXQudXNlTWV0YWxuZXNzIHx8IHN0ZE1hdC51c2VNZXRhbG5lc3NTcGVjdWxhckNvbG9yKTtcbiAgICAgICAgY29uc3Qgc3BlY3VsYXJUaW50ID0gdXNlU3BlY3VsYXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0ZE1hdC5zcGVjdWxhclRpbnQgfHwgKCFzdGRNYXQuc3BlY3VsYXJNYXAgJiYgIXN0ZE1hdC5zcGVjdWxhclZlcnRleENvbG9yKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90V2hpdGUoc3RkTWF0LnNwZWN1bGFyKTtcblxuICAgICAgICBjb25zdCBzcGVjdWxhcml0eUZhY3RvclRpbnQgPSB1c2VTcGVjdWxhciAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yVGludCB8fCAoc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yIDwgMSAmJiAhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSk7XG5cbiAgICAgICAgY29uc3QgZW1pc3NpdmVUaW50Q29sb3IgPSAhc3RkTWF0LmVtaXNzaXZlTWFwIHx8IChub3RXaGl0ZShzdGRNYXQuZW1pc3NpdmUpICYmIHN0ZE1hdC5lbWlzc2l2ZVRpbnQpO1xuICAgICAgICBjb25zdCBlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPSAoc3RkTWF0LmVtaXNzaXZlSW50ZW5zaXR5ICE9PSAxKTtcblxuICAgICAgICBjb25zdCBpc1BhY2tlZE5vcm1hbE1hcCA9IHN0ZE1hdC5ub3JtYWxNYXAgPyAoc3RkTWF0Lm5vcm1hbE1hcC5mb3JtYXQgPT09IFBJWEVMRk9STUFUX0RYVDUgfHwgc3RkTWF0Lm5vcm1hbE1hcC50eXBlID09PSBURVhUVVJFVFlQRV9TV0laWkxFR0dHUikgOiBmYWxzZTtcblxuICAgICAgICBvcHRpb25zLm9wYWNpdHlUaW50ID0gKHN0ZE1hdC5vcGFjaXR5ICE9PSAxICYmIHN0ZE1hdC5ibGVuZFR5cGUgIT09IEJMRU5EX05PTkUpID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuYW1iaWVudFRpbnQgPSBzdGRNYXQuYW1iaWVudFRpbnQ7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZVRpbnQgPSBkaWZmdXNlVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyVGludCA9IHNwZWN1bGFyVGludCA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNwZWN1bGFyaXR5RmFjdG9yVGludCA9IHNwZWN1bGFyaXR5RmFjdG9yVGludCA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLm1ldGFsbmVzc1RpbnQgPSAoc3RkTWF0LnVzZU1ldGFsbmVzcyAmJiBzdGRNYXQubWV0YWxuZXNzIDwgMSkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5nbG9zc1RpbnQgPSAxO1xuICAgICAgICBvcHRpb25zLmVtaXNzaXZlVGludCA9IChlbWlzc2l2ZVRpbnRDb2xvciA/IDIgOiAwKSArIChlbWlzc2l2ZVRpbnRJbnRlbnNpdHkgPyAxIDogMCk7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZUVuY29kaW5nID0gc3RkTWF0LmRpZmZ1c2VNYXA/LmVuY29kaW5nO1xuICAgICAgICBvcHRpb25zLmRpZmZ1c2VEZXRhaWxFbmNvZGluZyA9IHN0ZE1hdC5kaWZmdXNlRGV0YWlsTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5lbWlzc2l2ZUVuY29kaW5nID0gc3RkTWF0LmVtaXNzaXZlTWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcEVuY29kaW5nID0gc3RkTWF0LmxpZ2h0TWFwPy5lbmNvZGluZztcbiAgICAgICAgb3B0aW9ucy5wYWNrZWROb3JtYWwgPSBpc1BhY2tlZE5vcm1hbE1hcDtcbiAgICAgICAgb3B0aW9ucy5yZWZyYWN0aW9uVGludCA9IChzdGRNYXQucmVmcmFjdGlvbiAhPT0gMS4wKSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnJlZnJhY3Rpb25JbmRleFRpbnQgPSAoc3RkTWF0LnJlZnJhY3Rpb25JbmRleCAhPT0gMS4wIC8gMS41KSA/IDEgOiAwO1xuICAgICAgICBvcHRpb25zLnRoaWNrbmVzc1RpbnQgPSAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uICYmIHN0ZE1hdC50aGlja25lc3MgIT09IDEuMCkgPyAxIDogMDtcbiAgICAgICAgb3B0aW9ucy5zcGVjdWxhckVuY29kaW5nID0gc3RkTWF0LnNwZWN1bGFyRW5jb2RpbmcgfHwgJ2xpbmVhcic7XG4gICAgICAgIG9wdGlvbnMuc2hlZW5FbmNvZGluZyA9IHN0ZE1hdC5zaGVlbkVuY29kaW5nIHx8ICdsaW5lYXInO1xuICAgICAgICBvcHRpb25zLmFvTWFwVXYgPSBzdGRNYXQuYW9VdlNldDsgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgb3B0aW9ucy5kaWZmdXNlRGV0YWlsID0gISFzdGRNYXQuZGlmZnVzZU1hcDtcbiAgICAgICAgb3B0aW9ucy5ub3JtYWxEZXRhaWwgPSAhIXN0ZE1hdC5ub3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMuZGlmZnVzZURldGFpbE1vZGUgPSBzdGRNYXQuZGlmZnVzZURldGFpbE1vZGU7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0VGludCA9IChzdGRNYXQuY2xlYXJDb2F0ICE9PSAxLjApID8gMSA6IDA7XG4gICAgICAgIG9wdGlvbnMuY2xlYXJDb2F0R2xvc3MgPSAhIXN0ZE1hdC5jbGVhckNvYXRHbG9zcztcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc1RpbnQgPSAoc3RkTWF0LmNsZWFyQ29hdEdsb3NzICE9PSAxLjApID8gMSA6IDA7XG5cbiAgICAgICAgb3B0aW9ucy5pcmlkZXNjZW5jZVRpbnQgPSBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDEuMCA/IDEgOiAwO1xuXG4gICAgICAgIG9wdGlvbnMuc2hlZW5UaW50ID0gKHN0ZE1hdC51c2VTaGVlbiAmJiBub3RXaGl0ZShzdGRNYXQuc2hlZW4pKSA/IDIgOiAwO1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NUaW50ID0gMTtcblxuICAgICAgICBvcHRpb25zLmdsb3NzSW52ZXJ0ID0gc3RkTWF0Lmdsb3NzSW52ZXJ0O1xuICAgICAgICBvcHRpb25zLnNoZWVuR2xvc3NJbnZlcnQgPSBzdGRNYXQuc2hlZW5HbG9zc0ludmVydDtcbiAgICAgICAgb3B0aW9ucy5jbGVhckNvYXRHbG9zc0ludmVydCA9IHN0ZE1hdC5jbGVhckNvYXRHbG9zc0ludmVydDtcblxuICAgICAgICAvLyBMSVQgT1BUSU9OU1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQW1iaWVudFRpbnQgPSBvcHRpb25zLmFtYmllbnRUaW50O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY3VzdG9tRnJhZ21lbnRTaGFkZXIgPSBzdGRNYXQuY3VzdG9tRnJhZ21lbnRTaGFkZXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5waXhlbFNuYXAgPSBzdGRNYXQucGl4ZWxTbmFwO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VDbGVhckNvYXROb3JtYWxNYXAgPSAhIXN0ZE1hdC5jbGVhckNvYXROb3JtYWxNYXA7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VEaWZmdXNlTWFwID0gISFzdGRNYXQuZGlmZnVzZU1hcDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZUFvTWFwID0gISFzdGRNYXQuYW9NYXA7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmRldGFpbE1vZGVzID0gISFvcHRpb25zLmRpZmZ1c2VEZXRhaWw7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5zaGFkaW5nTW9kZWwgPSBzdGRNYXQuc2hhZGluZ01vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYW1iaWVudFNIID0gISFzdGRNYXQuYW1iaWVudFNIO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZmFzdFRibiA9IHN0ZE1hdC5mYXN0VGJuO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudHdvU2lkZWRMaWdodGluZyA9IHN0ZE1hdC50d29TaWRlZExpZ2h0aW5nO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZVNwZWN1bGFyID0gc3RkTWF0Lm9jY2x1ZGVTcGVjdWxhcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9jY2x1ZGVTcGVjdWxhckZsb2F0ID0gKHN0ZE1hdC5vY2NsdWRlU3BlY3VsYXJJbnRlbnNpdHkgIT09IDEuMCk7XG5cbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1zZGYgPSAhIXN0ZE1hdC5tc2RmTWFwO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubXNkZlRleHRBdHRyaWJ1dGUgPSAhIXN0ZE1hdC5tc2RmVGV4dEF0dHJpYnV0ZTtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuYWxwaGFUb0NvdmVyYWdlID0gc3RkTWF0LmFscGhhVG9Db3ZlcmFnZTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLm9wYWNpdHlGYWRlc1NwZWN1bGFyID0gc3RkTWF0Lm9wYWNpdHlGYWRlc1NwZWN1bGFyO1xuXG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5jdWJlTWFwUHJvamVjdGlvbiA9IHN0ZE1hdC5jdWJlTWFwUHJvamVjdGlvbjtcblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMub2NjbHVkZURpcmVjdCA9IHN0ZE1hdC5vY2NsdWRlRGlyZWN0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuY29uc2VydmVFbmVyZ3kgPSBzdGRNYXQuY29uc2VydmVFbmVyZ3kgJiYgc3RkTWF0LnNoYWRpbmdNb2RlbCAhPT0gU1BFQ1VMQVJfUEhPTkc7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VTcGVjdWxhciA9IHVzZVNwZWN1bGFyO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU3BlY3VsYXJpdHlGYWN0b3IgPSAoc3BlY3VsYXJpdHlGYWN0b3JUaW50IHx8ICEhc3RkTWF0LnNwZWN1bGFyaXR5RmFjdG9yTWFwKSAmJiBzdGRNYXQudXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvcjtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZVNwZWN1bGFyQ29sb3IgPSB1c2VTcGVjdWxhckNvbG9yO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZW5hYmxlR0dYU3BlY3VsYXIgPSBzdGRNYXQuZW5hYmxlR0dYU3BlY3VsYXI7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mcmVzbmVsTW9kZWwgPSBzdGRNYXQuZnJlc25lbE1vZGVsO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlUmVmcmFjdGlvbiA9IChzdGRNYXQucmVmcmFjdGlvbiB8fCAhIXN0ZE1hdC5yZWZyYWN0aW9uTWFwKSAmJiAoc3RkTWF0LnVzZUR5bmFtaWNSZWZyYWN0aW9uIHx8ICEhb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ2xlYXJDb2F0ID0gISFzdGRNYXQuY2xlYXJDb2F0O1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlU2hlZW4gPSBzdGRNYXQudXNlU2hlZW47XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VJcmlkZXNjZW5jZSA9IHN0ZE1hdC51c2VJcmlkZXNjZW5jZSAmJiBzdGRNYXQuaXJpZGVzY2VuY2UgIT09IDAuMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnVzZU1ldGFsbmVzcyA9IHN0ZE1hdC51c2VNZXRhbG5lc3M7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy51c2VEeW5hbWljUmVmcmFjdGlvbiA9IHN0ZE1hdC51c2VEeW5hbWljUmVmcmFjdGlvbjtcbiAgICB9XG5cbiAgICBfdXBkYXRlRW52T3B0aW9ucyhvcHRpb25zLCBzdGRNYXQsIHNjZW5lKSB7XG4gICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5mb2cgPSBzdGRNYXQudXNlRm9nID8gc2NlbmUuZm9nIDogJ25vbmUnO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuZ2FtbWEgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUuZ2FtbWFDb3JyZWN0aW9uIDogR0FNTUFfTk9ORTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnRvbmVNYXAgPSBzdGRNYXQudXNlR2FtbWFUb25lbWFwID8gc2NlbmUudG9uZU1hcHBpbmcgOiAtMTtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmZpeFNlYW1zID0gKHN0ZE1hdC5jdWJlTWFwID8gc3RkTWF0LmN1YmVNYXAuZml4Q3ViZW1hcFNlYW1zIDogZmFsc2UpO1xuXG4gICAgICAgIGNvbnN0IGlzUGhvbmcgPSBzdGRNYXQuc2hhZGluZ01vZGVsID09PSBTUEVDVUxBUl9QSE9ORztcblxuICAgICAgICBsZXQgdXNpbmdTY2VuZUVudiA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHNvdXJjZSBvZiBlbnZpcm9ubWVudCByZWZsZWN0aW9ucyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmVudkF0bGFzICYmIHN0ZE1hdC5jdWJlTWFwICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhc0hRJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuZW52QXRsYXMuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LmVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdlbnZBdGxhcyc7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvbkVuY29kaW5nID0gc3RkTWF0LmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHN0ZE1hdC5jdWJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdjdWJlTWFwJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uRW5jb2RpbmcgPSBzdGRNYXQuY3ViZU1hcC5lbmNvZGluZztcbiAgICAgICAgfSBlbHNlIGlmIChzdGRNYXQuc3BoZXJlTWFwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMucmVmbGVjdGlvblNvdXJjZSA9ICdzcGhlcmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHN0ZE1hdC5zcGhlcmVNYXAuZW5jb2Rpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiBzY2VuZS5za3lib3ggJiYgIWlzUGhvbmcpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2VudkF0bGFzSFEnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5lbnZBdGxhcyAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLmVudkF0bGFzLmVuY29kaW5nO1xuICAgICAgICAgICAgdXNpbmdTY2VuZUVudiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RkTWF0LnVzZVNreWJveCAmJiBzY2VuZS5za3lib3gpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5yZWZsZWN0aW9uU291cmNlID0gJ2N1YmVNYXAnO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IHNjZW5lLnNreWJveC5lbmNvZGluZztcbiAgICAgICAgICAgIHVzaW5nU2NlbmVFbnYgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25Tb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLnJlZmxlY3Rpb25FbmNvZGluZyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzb3VyY2Ugb2YgZW52aXJvbm1lbnQgYW1iaWVudCBpcyBhcyBmb2xsb3dzOlxuICAgICAgICBpZiAoc3RkTWF0LmFtYmllbnRTSCAmJiAhaXNQaG9uZykge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnYW1iaWVudFNIJztcbiAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZW52QXRsYXMgPSBzdGRNYXQuZW52QXRsYXMgfHwgKHN0ZE1hdC51c2VTa3lib3ggJiYgc2NlbmUuZW52QXRsYXMgPyBzY2VuZS5lbnZBdGxhcyA6IG51bGwpO1xuICAgICAgICAgICAgaWYgKGVudkF0bGFzICYmICFpc1Bob25nKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnZW52QXRsYXMnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBlbnZBdGxhcy5lbmNvZGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmFtYmllbnRTb3VyY2UgPSAnY29uc3RhbnQnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGl0T3B0aW9ucy5hbWJpZW50RW5jb2RpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogYWRkIGEgdGVzdCBmb3IgaWYgbm9uIHNreWJveCBjdWJlbWFwcyBoYXZlIHJvdGF0aW9uICh3aGVuIHRoaXMgaXMgc3VwcG9ydGVkKSAtIGZvciBub3cgYXNzdW1lIG5vIG5vbi1za3lib3ggY3ViZW1hcCByb3RhdGlvblxuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMuc2t5Ym94SW50ZW5zaXR5ID0gdXNpbmdTY2VuZUVudiAmJiAoc2NlbmUuc2t5Ym94SW50ZW5zaXR5ICE9PSAxIHx8IHNjZW5lLnBoeXNpY2FsVW5pdHMpO1xuICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMudXNlQ3ViZU1hcFJvdGF0aW9uID0gdXNpbmdTY2VuZUVudiAmJiBzY2VuZS5za3lib3hSb3RhdGlvbiAmJiAhc2NlbmUuc2t5Ym94Um90YXRpb24uZXF1YWxzKFF1YXQuSURFTlRJVFkpO1xuICAgIH1cblxuICAgIF91cGRhdGVMaWdodE9wdGlvbnMob3B0aW9ucywgc2NlbmUsIHN0ZE1hdCwgb2JqRGVmcywgc29ydGVkTGlnaHRzLCBzdGF0aWNMaWdodExpc3QpIHtcbiAgICAgICAgb3B0aW9ucy5saWdodE1hcCA9IGZhbHNlO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwQ2hhbm5lbCA9ICcnO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVXYgPSAwO1xuICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVHJhbnNmb3JtID0gMDtcbiAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSBmYWxzZTtcbiAgICAgICAgb3B0aW9ucy5kaXJMaWdodE1hcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvYmpEZWZzKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9TaGFkb3cgPSAob2JqRGVmcyAmIFNIQURFUkRFRl9OT1NIQURPVykgIT09IDA7XG5cbiAgICAgICAgICAgIGlmICgob2JqRGVmcyAmIFNIQURFUkRFRl9MTSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwRW5jb2RpbmcgPSBzY2VuZS5saWdodG1hcFBpeGVsRm9ybWF0ID09PSBQSVhFTEZPUk1BVF9SR0JBOCA/ICdyZ2JtJyA6ICdsaW5lYXInO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubGlnaHRNYXBDaGFubmVsID0gJ3JnYic7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5saWdodE1hcFV2ID0gMTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpZ2h0TWFwVHJhbnNmb3JtID0gMDtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXBXaXRob3V0QW1iaWVudCA9ICFzdGRNYXQubGlnaHRNYXA7XG4gICAgICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0RJUkxNKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRpckxpZ2h0TWFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBsaWdodG1hcHMgY29udGFpbiBiYWtlZCBhbWJpZW50IGxpZ2h0LCBkaXNhYmxlIHJlYWwtdGltZSBhbWJpZW50IGxpZ2h0XG4gICAgICAgICAgICAgICAgaWYgKChvYmpEZWZzICYgU0hBREVSREVGX0xNQU1CSUVOVCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0TWFwV2l0aG91dEFtYmllbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RkTWF0LnVzZUxpZ2h0aW5nKSB7XG4gICAgICAgICAgICBjb25zdCBsaWdodHNGaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgbWFzayA9IG9iakRlZnMgPyAob2JqRGVmcyA+PiAxNikgOiBNQVNLX0FGRkVDVF9EWU5BTUlDO1xuXG4gICAgICAgICAgICAvLyBtYXNrIHRvIHNlbGVjdCBsaWdodHMgKGR5bmFtaWMgdnMgbGlnaHRtYXBwZWQpIHdoZW4gdXNpbmcgY2x1c3RlcmVkIGxpZ2h0aW5nXG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubGlnaHRNYXNrRHluYW1pYyA9ICEhKG1hc2sgJiBNQVNLX0FGRkVDVF9EWU5BTUlDKTtcblxuICAgICAgICAgICAgaWYgKHNvcnRlZExpZ2h0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX0RJUkVDVElPTkFMLCBzb3J0ZWRMaWdodHNbTElHSFRUWVBFX0RJUkVDVElPTkFMXSwgbGlnaHRzRmlsdGVyZWQsIG1hc2spO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX09NTkksIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfT01OSV0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrLCBzdGF0aWNMaWdodExpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxlY3RMaWdodHMoTElHSFRUWVBFX1NQT1QsIHNvcnRlZExpZ2h0c1tMSUdIVFRZUEVfU1BPVF0sIGxpZ2h0c0ZpbHRlcmVkLCBtYXNrLCBzdGF0aWNMaWdodExpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IGxpZ2h0c0ZpbHRlcmVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy5saXRPcHRpb25zLmxpZ2h0cyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubGl0T3B0aW9ucy5saWdodHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBvcHRpb25zLmxpdE9wdGlvbnMubm9TaGFkb3cgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbGxlY3RMaWdodHMobFR5cGUsIGxpZ2h0cywgbGlnaHRzRmlsdGVyZWQsIG1hc2ssIHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGlnaHQgPSBsaWdodHNbaV07XG4gICAgICAgICAgICBpZiAobGlnaHQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGlmIChsaWdodC5tYXNrICYgbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobFR5cGUgIT09IExJR0hUVFlQRV9ESVJFQ1RJT05BTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpZ2h0LmlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGlnaHRzRmlsdGVyZWQucHVzaChsaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRpY0xpZ2h0TGlzdCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0aWNMaWdodExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaWdodCA9IHN0YXRpY0xpZ2h0TGlzdFtpXTtcbiAgICAgICAgICAgICAgICBpZiAobGlnaHQuX3R5cGUgPT09IGxUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0c0ZpbHRlcmVkLnB1c2gobGlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRNYXBUcmFuc2Zvcm1JRCh4Zm9ybSwgdXYpIHtcbiAgICAgICAgaWYgKCF4Zm9ybSkgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IHhmb3JtcyA9IHRoaXMuX21hcFhGb3Jtc1t1dl07XG4gICAgICAgIGlmICgheGZvcm1zKSB7XG4gICAgICAgICAgICB4Zm9ybXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21hcFhGb3Jtc1t1dl0gPSB4Zm9ybXM7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycmF5c0VxdWFsKHhmb3Jtc1tpXVswXS52YWx1ZSwgeGZvcm1bMF0udmFsdWUpICYmXG4gICAgICAgICAgICAgICAgYXJyYXlzRXF1YWwoeGZvcm1zW2ldWzFdLnZhbHVlLCB4Zm9ybVsxXS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geGZvcm1zLnB1c2goeGZvcm0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU3RhbmRhcmRNYXRlcmlhbE9wdGlvbnNCdWlsZGVyIH07XG4iXSwibmFtZXMiOlsiYXJyYXlzRXF1YWwiLCJhIiwiYiIsImxlbmd0aCIsImkiLCJub3RXaGl0ZSIsImNvbG9yIiwiciIsImciLCJub3RCbGFjayIsIlN0YW5kYXJkTWF0ZXJpYWxPcHRpb25zQnVpbGRlciIsImNvbnN0cnVjdG9yIiwiX21hcFhGb3JtcyIsInVwZGF0ZU1pblJlZiIsIm9wdGlvbnMiLCJzY2VuZSIsInN0ZE1hdCIsIm9iakRlZnMiLCJzdGF0aWNMaWdodExpc3QiLCJwYXNzIiwic29ydGVkTGlnaHRzIiwiX3VwZGF0ZVNoYXJlZE9wdGlvbnMiLCJfdXBkYXRlTWluT3B0aW9ucyIsIl91cGRhdGVVVk9wdGlvbnMiLCJsaXRPcHRpb25zIiwiY2h1bmtzIiwidXBkYXRlUmVmIiwiX3VwZGF0ZUVudk9wdGlvbnMiLCJfdXBkYXRlTWF0ZXJpYWxPcHRpb25zIiwiU0hBREVSX0ZPUldBUkRIRFIiLCJnYW1tYSIsIkdBTU1BX1NSR0JIRFIiLCJ0b25lTWFwIiwiVE9ORU1BUF9MSU5FQVIiLCJoYXNUYW5nZW50cyIsIlNIQURFUkRFRl9UQU5HRU5UUyIsIl91cGRhdGVMaWdodE9wdGlvbnMiLCJmb3JjZVV2MSIsImFscGhhVGVzdCIsImZvcmNlRnJhZ21lbnRQcmVjaXNpb24iLCJibGVuZFR5cGUiLCJzZXBhcmF0ZUFtYmllbnQiLCJzY3JlZW5TcGFjZSIsIlNIQURFUkRFRl9TQ1JFRU5TUEFDRSIsInNraW4iLCJTSEFERVJERUZfU0tJTiIsInVzZUluc3RhbmNpbmciLCJTSEFERVJERUZfSU5TVEFOQ0lORyIsInVzZU1vcnBoUG9zaXRpb24iLCJTSEFERVJERUZfTU9SUEhfUE9TSVRJT04iLCJ1c2VNb3JwaE5vcm1hbCIsIlNIQURFUkRFRl9NT1JQSF9OT1JNQUwiLCJ1c2VNb3JwaFRleHR1cmVCYXNlZCIsIlNIQURFUkRFRl9NT1JQSF9URVhUVVJFX0JBU0VEIiwibmluZVNsaWNlZE1vZGUiLCJjbHVzdGVyZWRMaWdodGluZ0VuYWJsZWQiLCJ1c2VMaWdodGluZyIsImNsdXN0ZXJlZExpZ2h0aW5nQ29va2llc0VuYWJsZWQiLCJsaWdodGluZyIsImNvb2tpZXNFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dzRW5hYmxlZCIsInNoYWRvd3NFbmFibGVkIiwiY2x1c3RlcmVkTGlnaHRpbmdTaGFkb3dUeXBlIiwic2hhZG93VHlwZSIsImNsdXN0ZXJlZExpZ2h0aW5nQXJlYUxpZ2h0c0VuYWJsZWQiLCJhcmVhTGlnaHRzRW5hYmxlZCIsIm1pbmltYWxPcHRpb25zIiwiaGFzVXYwIiwiaGFzVXYxIiwiaGFzVmNvbG9yIiwiU0hBREVSREVGX1VWMCIsIlNIQURFUkRFRl9VVjEiLCJTSEFERVJERUZfVkNPTE9SIiwidmVydGV4Q29sb3JzIiwidW5pcXVlVGV4dHVyZU1hcCIsInAiLCJfbWF0VGV4MkQiLCJfdXBkYXRlVGV4T3B0aW9ucyIsImxpZ2h0TWFwRW5hYmxlZCIsImxpZ2h0TWFwIiwidXNlTGlnaHRNYXBWZXJ0ZXhDb2xvcnMiLCJsaWdodFZlcnRleENvbG9yIiwiZGlyTGlnaHRNYXBFbmFibGVkIiwiZGlyTGlnaHRNYXAiLCJoZWlnaHRNYXBFbmFibGVkIiwiaGVpZ2h0TWFwIiwibm9ybWFsTWFwRW5hYmxlZCIsIm5vcm1hbE1hcCIsImNsZWFyQ29hdE5vcm1hbE1hcEVuYWJsZWQiLCJjbGVhckNvYXROb3JtYWxNYXAiLCJhb01hcEVuYWJsZWQiLCJhb01hcCIsInVzZUFvVmVydGV4Q29sb3JzIiwiYW9WZXJ0ZXhDb2xvciIsImRpZmZ1c2VNYXBFbmFibGVkIiwiZGlmZnVzZU1hcCIsIm1uYW1lIiwidm5hbWUiLCJ2Y25hbWUiLCJjbmFtZSIsInRuYW1lIiwidW5hbWUiLCJpbmFtZSIsInVuZGVmaW5lZCIsImlzT3BhY2l0eSIsIkJMRU5EX05PTkUiLCJhbHBoYVRvQ292ZXJhZ2UiLCJhbGxvdyIsIm1hcElkIiwiaWQiLCJpZGVudGlmaWVyIiwiX2dldE1hcFRyYW5zZm9ybUlEIiwiZ2V0VW5pZm9ybSIsIm9wYWNpdHlUaW50Iiwib3BhY2l0eSIsImxpZ2h0cyIsIl9zdGRNYXQkZGlmZnVzZU1hcCIsIl9zdGRNYXQkZGlmZnVzZURldGFpbCIsIl9zdGRNYXQkZW1pc3NpdmVNYXAiLCJfc3RkTWF0JGxpZ2h0TWFwIiwiZGlmZnVzZVRpbnQiLCJkaWZmdXNlVmVydGV4Q29sb3IiLCJkaWZmdXNlIiwidXNlU3BlY3VsYXIiLCJ1c2VNZXRhbG5lc3MiLCJzcGVjdWxhck1hcCIsInNwaGVyZU1hcCIsImN1YmVNYXAiLCJzcGVjdWxhciIsInNwZWN1bGFyaXR5RmFjdG9yIiwiZW5hYmxlR0dYU3BlY3VsYXIiLCJjbGVhckNvYXQiLCJ1c2VTcGVjdWxhckNvbG9yIiwidXNlTWV0YWxuZXNzU3BlY3VsYXJDb2xvciIsInNwZWN1bGFyVGludCIsInNwZWN1bGFyVmVydGV4Q29sb3IiLCJzcGVjdWxhcml0eUZhY3RvclRpbnQiLCJzcGVjdWxhcml0eUZhY3Rvck1hcCIsImVtaXNzaXZlVGludENvbG9yIiwiZW1pc3NpdmVNYXAiLCJlbWlzc2l2ZSIsImVtaXNzaXZlVGludCIsImVtaXNzaXZlVGludEludGVuc2l0eSIsImVtaXNzaXZlSW50ZW5zaXR5IiwiaXNQYWNrZWROb3JtYWxNYXAiLCJmb3JtYXQiLCJQSVhFTEZPUk1BVF9EWFQ1IiwidHlwZSIsIlRFWFRVUkVUWVBFX1NXSVpaTEVHR0dSIiwiYW1iaWVudFRpbnQiLCJtZXRhbG5lc3NUaW50IiwibWV0YWxuZXNzIiwiZ2xvc3NUaW50IiwiZGlmZnVzZUVuY29kaW5nIiwiZW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsRW5jb2RpbmciLCJkaWZmdXNlRGV0YWlsTWFwIiwiZW1pc3NpdmVFbmNvZGluZyIsImxpZ2h0TWFwRW5jb2RpbmciLCJwYWNrZWROb3JtYWwiLCJyZWZyYWN0aW9uVGludCIsInJlZnJhY3Rpb24iLCJyZWZyYWN0aW9uSW5kZXhUaW50IiwicmVmcmFjdGlvbkluZGV4IiwidGhpY2tuZXNzVGludCIsInVzZUR5bmFtaWNSZWZyYWN0aW9uIiwidGhpY2tuZXNzIiwic3BlY3VsYXJFbmNvZGluZyIsInNoZWVuRW5jb2RpbmciLCJhb01hcFV2IiwiYW9VdlNldCIsImRpZmZ1c2VEZXRhaWwiLCJub3JtYWxEZXRhaWwiLCJkaWZmdXNlRGV0YWlsTW9kZSIsImNsZWFyQ29hdFRpbnQiLCJjbGVhckNvYXRHbG9zcyIsImNsZWFyQ29hdEdsb3NzVGludCIsImlyaWRlc2NlbmNlVGludCIsImlyaWRlc2NlbmNlIiwic2hlZW5UaW50IiwidXNlU2hlZW4iLCJzaGVlbiIsInNoZWVuR2xvc3NUaW50IiwiZ2xvc3NJbnZlcnQiLCJzaGVlbkdsb3NzSW52ZXJ0IiwiY2xlYXJDb2F0R2xvc3NJbnZlcnQiLCJ1c2VBbWJpZW50VGludCIsImN1c3RvbUZyYWdtZW50U2hhZGVyIiwicGl4ZWxTbmFwIiwidXNlQ2xlYXJDb2F0Tm9ybWFsTWFwIiwidXNlRGlmZnVzZU1hcCIsInVzZUFvTWFwIiwiZGV0YWlsTW9kZXMiLCJzaGFkaW5nTW9kZWwiLCJhbWJpZW50U0giLCJmYXN0VGJuIiwidHdvU2lkZWRMaWdodGluZyIsIm9jY2x1ZGVTcGVjdWxhciIsIm9jY2x1ZGVTcGVjdWxhckZsb2F0Iiwib2NjbHVkZVNwZWN1bGFySW50ZW5zaXR5IiwidXNlTXNkZiIsIm1zZGZNYXAiLCJtc2RmVGV4dEF0dHJpYnV0ZSIsIm9wYWNpdHlGYWRlc1NwZWN1bGFyIiwiY3ViZU1hcFByb2plY3Rpb24iLCJvY2NsdWRlRGlyZWN0IiwiY29uc2VydmVFbmVyZ3kiLCJTUEVDVUxBUl9QSE9ORyIsInVzZVNwZWN1bGFyaXR5RmFjdG9yIiwiZnJlc25lbE1vZGVsIiwidXNlUmVmcmFjdGlvbiIsInJlZnJhY3Rpb25NYXAiLCJyZWZsZWN0aW9uU291cmNlIiwidXNlQ2xlYXJDb2F0IiwidXNlSXJpZGVzY2VuY2UiLCJmb2ciLCJ1c2VGb2ciLCJ1c2VHYW1tYVRvbmVtYXAiLCJnYW1tYUNvcnJlY3Rpb24iLCJHQU1NQV9OT05FIiwidG9uZU1hcHBpbmciLCJmaXhTZWFtcyIsImZpeEN1YmVtYXBTZWFtcyIsImlzUGhvbmciLCJ1c2luZ1NjZW5lRW52IiwiZW52QXRsYXMiLCJyZWZsZWN0aW9uRW5jb2RpbmciLCJ1c2VTa3lib3giLCJza3lib3giLCJhbWJpZW50U291cmNlIiwiYW1iaWVudEVuY29kaW5nIiwic2t5Ym94SW50ZW5zaXR5IiwicGh5c2ljYWxVbml0cyIsInVzZUN1YmVNYXBSb3RhdGlvbiIsInNreWJveFJvdGF0aW9uIiwiZXF1YWxzIiwiUXVhdCIsIklERU5USVRZIiwibGlnaHRNYXBDaGFubmVsIiwibGlnaHRNYXBVdiIsImxpZ2h0TWFwVHJhbnNmb3JtIiwibGlnaHRNYXBXaXRob3V0QW1iaWVudCIsIm5vU2hhZG93IiwiU0hBREVSREVGX05PU0hBRE9XIiwiU0hBREVSREVGX0xNIiwibGlnaHRtYXBQaXhlbEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkE4IiwiU0hBREVSREVGX0RJUkxNIiwiU0hBREVSREVGX0xNQU1CSUVOVCIsImxpZ2h0c0ZpbHRlcmVkIiwibWFzayIsIk1BU0tfQUZGRUNUX0RZTkFNSUMiLCJsaWdodE1hc2tEeW5hbWljIiwiX2NvbGxlY3RMaWdodHMiLCJMSUdIVFRZUEVfRElSRUNUSU9OQUwiLCJMSUdIVFRZUEVfT01OSSIsIkxJR0hUVFlQRV9TUE9UIiwibFR5cGUiLCJsaWdodCIsImVuYWJsZWQiLCJpc1N0YXRpYyIsInB1c2giLCJfdHlwZSIsInhmb3JtIiwidXYiLCJ4Zm9ybXMiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQW1CQSxNQUFNQSxXQUFXLEdBQUdBLENBQUNDLENBQUMsRUFBRUMsQ0FBQyxLQUFLO0FBQzFCLEVBQUEsSUFBSUQsQ0FBQyxDQUFDRSxNQUFNLEtBQUtELENBQUMsQ0FBQ0MsTUFBTSxFQUFFO0FBQ3ZCLElBQUEsT0FBTyxLQUFLLENBQUE7QUFDaEIsR0FBQTtBQUNBLEVBQUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdILENBQUMsQ0FBQ0UsTUFBTSxFQUFFLEVBQUVDLENBQUMsRUFBRTtJQUMvQixJQUFJSCxDQUFDLENBQUNHLENBQUMsQ0FBQyxLQUFLRixDQUFDLENBQUNFLENBQUMsQ0FBQyxFQUFFO0FBQ2YsTUFBQSxPQUFPLEtBQUssQ0FBQTtBQUNoQixLQUFBO0FBQ0osR0FBQTtBQUNBLEVBQUEsT0FBTyxJQUFJLENBQUE7QUFDZixDQUFDLENBQUE7QUFFRCxNQUFNQyxRQUFRLEdBQUlDLEtBQUssSUFBSztBQUN4QixFQUFBLE9BQU9BLEtBQUssQ0FBQ0MsQ0FBQyxLQUFLLENBQUMsSUFBSUQsS0FBSyxDQUFDRSxDQUFDLEtBQUssQ0FBQyxJQUFJRixLQUFLLENBQUNKLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDMUQsQ0FBQyxDQUFBO0FBRUQsTUFBTU8sUUFBUSxHQUFJSCxLQUFLLElBQUs7QUFDeEIsRUFBQSxPQUFPQSxLQUFLLENBQUNDLENBQUMsS0FBSyxDQUFDLElBQUlELEtBQUssQ0FBQ0UsQ0FBQyxLQUFLLENBQUMsSUFBSUYsS0FBSyxDQUFDSixDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzFELENBQUMsQ0FBQTtBQUVELE1BQU1RLDhCQUE4QixDQUFDO0FBQ2pDQyxFQUFBQSxXQUFXQSxHQUFHO0lBQ1YsSUFBSSxDQUFDQyxVQUFVLEdBQUcsSUFBSSxDQUFBO0FBQzFCLEdBQUE7O0FBRUE7QUFDQUMsRUFBQUEsWUFBWUEsQ0FBQ0MsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxlQUFlLEVBQUVDLElBQUksRUFBRUMsWUFBWSxFQUFFO0FBQy9FLElBQUEsSUFBSSxDQUFDQyxvQkFBb0IsQ0FBQ1AsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFRSxJQUFJLENBQUMsQ0FBQTtBQUNoRSxJQUFBLElBQUksQ0FBQ0csaUJBQWlCLENBQUNSLE9BQU8sRUFBRUUsTUFBTSxDQUFDLENBQUE7SUFDdkMsSUFBSSxDQUFDTyxnQkFBZ0IsQ0FBQ1QsT0FBTyxFQUFFRSxNQUFNLEVBQUVDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQTtBQUNyREgsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNDLE1BQU0sR0FBR1gsT0FBTyxDQUFDVyxNQUFNLENBQUE7QUFDOUMsR0FBQTtBQUVBQyxFQUFBQSxTQUFTQSxDQUFDWixPQUFPLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGVBQWUsRUFBRUMsSUFBSSxFQUFFQyxZQUFZLEVBQUU7QUFDNUUsSUFBQSxJQUFJLENBQUNDLG9CQUFvQixDQUFDUCxPQUFPLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVFLElBQUksQ0FBQyxDQUFBO0lBQ2hFLElBQUksQ0FBQ1EsaUJBQWlCLENBQUNiLE9BQU8sRUFBRUUsTUFBTSxFQUFFRCxLQUFLLENBQUMsQ0FBQTtBQUM5QyxJQUFBLElBQUksQ0FBQ2Esc0JBQXNCLENBQUNkLE9BQU8sRUFBRUUsTUFBTSxDQUFDLENBQUE7SUFDNUMsSUFBSUcsSUFBSSxLQUFLVSxpQkFBaUIsRUFBRTtBQUM1QixNQUFBLElBQUlmLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDTSxLQUFLLEVBQUVoQixPQUFPLENBQUNVLFVBQVUsQ0FBQ00sS0FBSyxHQUFHQyxhQUFhLENBQUE7QUFDdEVqQixNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ1EsT0FBTyxHQUFHQyxjQUFjLENBQUE7QUFDL0MsS0FBQTtBQUNBbkIsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNVLFdBQVcsR0FBR2pCLE9BQU8sSUFBSyxDQUFDQSxPQUFPLEdBQUdrQixrQkFBa0IsTUFBTSxDQUFFLENBQUE7QUFDbEYsSUFBQSxJQUFJLENBQUNDLG1CQUFtQixDQUFDdEIsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFRyxZQUFZLEVBQUVGLGVBQWUsQ0FBQyxDQUFBO0lBQ3hGLElBQUksQ0FBQ0ssZ0JBQWdCLENBQUNULE9BQU8sRUFBRUUsTUFBTSxFQUFFQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUE7QUFDdERILElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDQyxNQUFNLEdBQUdYLE9BQU8sQ0FBQ1csTUFBTSxDQUFBO0FBQzlDLEdBQUE7RUFFQUosb0JBQW9CQSxDQUFDUCxPQUFPLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVFLElBQUksRUFBRTtBQUN4REwsSUFBQUEsT0FBTyxDQUFDdUIsUUFBUSxHQUFHckIsTUFBTSxDQUFDcUIsUUFBUSxDQUFBO0FBQ2xDdkIsSUFBQUEsT0FBTyxDQUFDVyxNQUFNLEdBQUdULE1BQU0sQ0FBQ1MsTUFBTSxJQUFJLEVBQUUsQ0FBQTtJQUVwQ1gsT0FBTyxDQUFDSyxJQUFJLEdBQUdBLElBQUksQ0FBQTtJQUNuQkwsT0FBTyxDQUFDVSxVQUFVLENBQUNjLFNBQVMsR0FBR3RCLE1BQU0sQ0FBQ3NCLFNBQVMsR0FBRyxDQUFDLENBQUE7SUFDbkR4QixPQUFPLENBQUNVLFVBQVUsQ0FBQ2Usc0JBQXNCLEdBQUd2QixNQUFNLENBQUN1QixzQkFBc0IsSUFBSSxFQUFFLENBQUE7QUFDL0V6QixJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ2dCLFNBQVMsR0FBR3hCLE1BQU0sQ0FBQ3dCLFNBQVMsQ0FBQTtBQUMvQzFCLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDaUIsZUFBZSxHQUFHLEtBQUssQ0FBQztBQUMzQzNCLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDa0IsV0FBVyxHQUFHekIsT0FBTyxJQUFJLENBQUNBLE9BQU8sR0FBRzBCLHFCQUFxQixNQUFNLENBQUMsQ0FBQTtBQUNuRjdCLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDb0IsSUFBSSxHQUFHM0IsT0FBTyxJQUFJLENBQUNBLE9BQU8sR0FBRzRCLGNBQWMsTUFBTSxDQUFDLENBQUE7QUFDckUvQixJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3NCLGFBQWEsR0FBRzdCLE9BQU8sSUFBSSxDQUFDQSxPQUFPLEdBQUc4QixvQkFBb0IsTUFBTSxDQUFDLENBQUE7QUFDcEZqQyxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3dCLGdCQUFnQixHQUFHL0IsT0FBTyxJQUFJLENBQUNBLE9BQU8sR0FBR2dDLHdCQUF3QixNQUFNLENBQUMsQ0FBQTtBQUMzRm5DLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDMEIsY0FBYyxHQUFHakMsT0FBTyxJQUFJLENBQUNBLE9BQU8sR0FBR2tDLHNCQUFzQixNQUFNLENBQUMsQ0FBQTtBQUN2RnJDLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDNEIsb0JBQW9CLEdBQUduQyxPQUFPLElBQUksQ0FBQ0EsT0FBTyxHQUFHb0MsNkJBQTZCLE1BQU0sQ0FBQyxDQUFBO0lBRXBHdkMsT0FBTyxDQUFDVSxVQUFVLENBQUM4QixjQUFjLEdBQUd0QyxNQUFNLENBQUNzQyxjQUFjLElBQUksQ0FBQyxDQUFBOztBQUU5RDtBQUNBLElBQUEsSUFBSXZDLEtBQUssQ0FBQ3dDLHdCQUF3QixJQUFJdkMsTUFBTSxDQUFDd0MsV0FBVyxFQUFFO0FBQ3REMUMsTUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUMrQix3QkFBd0IsR0FBRyxJQUFJLENBQUE7TUFDbER6QyxPQUFPLENBQUNVLFVBQVUsQ0FBQ2lDLCtCQUErQixHQUFHMUMsS0FBSyxDQUFDMkMsUUFBUSxDQUFDQyxjQUFjLENBQUE7TUFDbEY3QyxPQUFPLENBQUNVLFVBQVUsQ0FBQ29DLCtCQUErQixHQUFHN0MsS0FBSyxDQUFDMkMsUUFBUSxDQUFDRyxjQUFjLENBQUE7TUFDbEYvQyxPQUFPLENBQUNVLFVBQVUsQ0FBQ3NDLDJCQUEyQixHQUFHL0MsS0FBSyxDQUFDMkMsUUFBUSxDQUFDSyxVQUFVLENBQUE7TUFDMUVqRCxPQUFPLENBQUNVLFVBQVUsQ0FBQ3dDLGtDQUFrQyxHQUFHakQsS0FBSyxDQUFDMkMsUUFBUSxDQUFDTyxpQkFBaUIsQ0FBQTtBQUM1RixLQUFDLE1BQU07QUFDSG5ELE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDK0Isd0JBQXdCLEdBQUcsS0FBSyxDQUFBO0FBQ25EekMsTUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNpQywrQkFBK0IsR0FBRyxLQUFLLENBQUE7QUFDMUQzQyxNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ29DLCtCQUErQixHQUFHLEtBQUssQ0FBQTtBQUMxRDlDLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDd0Msa0NBQWtDLEdBQUcsS0FBSyxDQUFBO0FBQ2pFLEtBQUE7QUFDSixHQUFBO0VBRUF6QyxnQkFBZ0JBLENBQUNULE9BQU8sRUFBRUUsTUFBTSxFQUFFQyxPQUFPLEVBQUVpRCxjQUFjLEVBQUU7SUFDdkQsSUFBSUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtJQUNsQixJQUFJQyxNQUFNLEdBQUcsS0FBSyxDQUFBO0lBQ2xCLElBQUlDLFNBQVMsR0FBRyxLQUFLLENBQUE7QUFDckIsSUFBQSxJQUFJcEQsT0FBTyxFQUFFO0FBQ1RrRCxNQUFBQSxNQUFNLEdBQUcsQ0FBQ2xELE9BQU8sR0FBR3FELGFBQWEsTUFBTSxDQUFDLENBQUE7QUFDeENGLE1BQUFBLE1BQU0sR0FBRyxDQUFDbkQsT0FBTyxHQUFHc0QsYUFBYSxNQUFNLENBQUMsQ0FBQTtBQUN4Q0YsTUFBQUEsU0FBUyxHQUFHLENBQUNwRCxPQUFPLEdBQUd1RCxnQkFBZ0IsTUFBTSxDQUFDLENBQUE7QUFDbEQsS0FBQTtBQUVBMUQsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNpRCxZQUFZLEdBQUcsS0FBSyxDQUFBO0lBQ3ZDLElBQUksQ0FBQzdELFVBQVUsR0FBRyxFQUFFLENBQUE7SUFFcEIsTUFBTThELGdCQUFnQixHQUFHLEVBQUUsQ0FBQTtBQUMzQixJQUFBLEtBQUssTUFBTUMsQ0FBQyxJQUFJQyxTQUFTLEVBQUU7QUFDdkIsTUFBQSxJQUFJLENBQUNDLGlCQUFpQixDQUFDL0QsT0FBTyxFQUFFRSxNQUFNLEVBQUUyRCxDQUFDLEVBQUVSLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVILGNBQWMsRUFBRVEsZ0JBQWdCLENBQUMsQ0FBQTtBQUMzRyxLQUFBO0lBQ0EsSUFBSSxDQUFDOUQsVUFBVSxHQUFHLElBQUksQ0FBQTs7QUFFdEI7QUFDQUUsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNzRCxlQUFlLEdBQUdoRSxPQUFPLENBQUNpRSxRQUFRLENBQUE7QUFDckRqRSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3dELHVCQUF1QixHQUFHbEUsT0FBTyxDQUFDbUUsZ0JBQWdCLENBQUE7QUFDckVuRSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzBELGtCQUFrQixHQUFHcEUsT0FBTyxDQUFDcUUsV0FBVyxDQUFBO0FBQzNEckUsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM0RCxnQkFBZ0IsR0FBR3RFLE9BQU8sQ0FBQ3VFLFNBQVMsQ0FBQTtBQUN2RHZFLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDOEQsZ0JBQWdCLEdBQUd4RSxPQUFPLENBQUN5RSxTQUFTLENBQUE7QUFDdkR6RSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ2dFLHlCQUF5QixHQUFHMUUsT0FBTyxDQUFDMkUsa0JBQWtCLENBQUE7QUFDekUzRSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ2tFLFlBQVksR0FBRzVFLE9BQU8sQ0FBQzZFLEtBQUssQ0FBQTtBQUMvQzdFLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDb0UsaUJBQWlCLEdBQUc5RSxPQUFPLENBQUMrRSxhQUFhLENBQUE7QUFDNUQvRSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3NFLGlCQUFpQixHQUFHaEYsT0FBTyxDQUFDaUYsVUFBVSxDQUFBO0FBQzdELEdBQUE7QUFFQWxCLEVBQUFBLGlCQUFpQkEsQ0FBQy9ELE9BQU8sRUFBRUUsTUFBTSxFQUFFMkQsQ0FBQyxFQUFFUixNQUFNLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxFQUFFSCxjQUFjLEVBQUVRLGdCQUFnQixFQUFFO0FBQy9GLElBQUEsTUFBTXNCLEtBQUssR0FBR3JCLENBQUMsR0FBRyxLQUFLLENBQUE7QUFDdkIsSUFBQSxNQUFNc0IsS0FBSyxHQUFHdEIsQ0FBQyxHQUFHLGFBQWEsQ0FBQTtBQUMvQixJQUFBLE1BQU11QixNQUFNLEdBQUd2QixDQUFDLEdBQUcsb0JBQW9CLENBQUE7QUFDdkMsSUFBQSxNQUFNd0IsS0FBSyxHQUFHSCxLQUFLLEdBQUcsU0FBUyxDQUFBO0FBQy9CLElBQUEsTUFBTUksS0FBSyxHQUFHSixLQUFLLEdBQUcsV0FBVyxDQUFBO0FBQ2pDLElBQUEsTUFBTUssS0FBSyxHQUFHTCxLQUFLLEdBQUcsSUFBSSxDQUFBO0FBQzFCLElBQUEsTUFBTU0sS0FBSyxHQUFHTixLQUFLLEdBQUcsWUFBWSxDQUFBOztBQUVsQztJQUNBLElBQUlyQixDQUFDLEtBQUssT0FBTyxFQUFFO0FBQ2Y3RCxNQUFBQSxPQUFPLENBQUNrRixLQUFLLENBQUMsR0FBRyxLQUFLLENBQUE7QUFDdEJsRixNQUFBQSxPQUFPLENBQUN3RixLQUFLLENBQUMsR0FBR0MsU0FBUyxDQUFBO0FBQzFCekYsTUFBQUEsT0FBTyxDQUFDcUYsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFBO0FBQ25CckYsTUFBQUEsT0FBTyxDQUFDc0YsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2xCdEYsTUFBQUEsT0FBTyxDQUFDdUYsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ3RCLEtBQUE7QUFDQXZGLElBQUFBLE9BQU8sQ0FBQ21GLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQTtBQUN0Qm5GLElBQUFBLE9BQU8sQ0FBQ29GLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQTtBQUVwQixJQUFBLE1BQU1NLFNBQVMsR0FBRzdCLENBQUMsS0FBSyxTQUFTLENBQUE7QUFDakMsSUFBQSxJQUFJNkIsU0FBUyxJQUFJeEYsTUFBTSxDQUFDd0IsU0FBUyxLQUFLaUUsVUFBVSxJQUFJekYsTUFBTSxDQUFDc0IsU0FBUyxLQUFLLEdBQUcsSUFBSSxDQUFDdEIsTUFBTSxDQUFDMEYsZUFBZSxFQUFFO0FBQ3JHLE1BQUEsT0FBQTtBQUNKLEtBQUE7QUFFQSxJQUFBLElBQUksQ0FBQ3hDLGNBQWMsSUFBSXNDLFNBQVMsRUFBRTtNQUM5QixJQUFJN0IsQ0FBQyxLQUFLLFFBQVEsSUFBSTNELE1BQU0sQ0FBQ2lGLEtBQUssQ0FBQyxFQUFFO0FBQ2pDLFFBQUEsSUFBSTVCLFNBQVMsRUFBRTtBQUNYdkQsVUFBQUEsT0FBTyxDQUFDbUYsS0FBSyxDQUFDLEdBQUdqRixNQUFNLENBQUNpRixLQUFLLENBQUMsQ0FBQTtBQUM5Qm5GLFVBQUFBLE9BQU8sQ0FBQ29GLE1BQU0sQ0FBQyxHQUFHbEYsTUFBTSxDQUFDa0YsTUFBTSxDQUFDLENBQUE7QUFDaENwRixVQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ2lELFlBQVksR0FBRyxJQUFJLENBQUE7QUFDMUMsU0FBQTtBQUNKLE9BQUE7QUFDQSxNQUFBLElBQUl6RCxNQUFNLENBQUNnRixLQUFLLENBQUMsRUFBRTtRQUNmLElBQUlXLEtBQUssR0FBRyxJQUFJLENBQUE7QUFDaEIsUUFBQSxJQUFJM0YsTUFBTSxDQUFDcUYsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUNsQyxNQUFNLEVBQUV3QyxLQUFLLEdBQUcsS0FBSyxDQUFBO0FBQ2pELFFBQUEsSUFBSTNGLE1BQU0sQ0FBQ3FGLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDakMsTUFBTSxFQUFFdUMsS0FBSyxHQUFHLEtBQUssQ0FBQTtBQUNqRCxRQUFBLElBQUlBLEtBQUssRUFBRTtBQUVQO0FBQ0E7QUFDQTtBQUNBLFVBQUEsTUFBTUMsS0FBSyxHQUFHNUYsTUFBTSxDQUFDZ0YsS0FBSyxDQUFDLENBQUNhLEVBQUUsQ0FBQTtBQUM5QixVQUFBLElBQUlDLFVBQVUsR0FBR3BDLGdCQUFnQixDQUFDa0MsS0FBSyxDQUFDLENBQUE7VUFDeEMsSUFBSUUsVUFBVSxLQUFLUCxTQUFTLEVBQUU7QUFDMUI3QixZQUFBQSxnQkFBZ0IsQ0FBQ2tDLEtBQUssQ0FBQyxHQUFHakMsQ0FBQyxDQUFBO0FBQzNCbUMsWUFBQUEsVUFBVSxHQUFHbkMsQ0FBQyxDQUFBO0FBQ2xCLFdBQUE7VUFFQTdELE9BQU8sQ0FBQ2tGLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQ2hGLE1BQU0sQ0FBQ2dGLEtBQUssQ0FBQyxDQUFBO0FBQ2hDbEYsVUFBQUEsT0FBTyxDQUFDd0YsS0FBSyxDQUFDLEdBQUdRLFVBQVUsQ0FBQTtBQUMzQmhHLFVBQUFBLE9BQU8sQ0FBQ3NGLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQ1csa0JBQWtCLENBQUMvRixNQUFNLENBQUNnRyxVQUFVLENBQUNaLEtBQUssQ0FBQyxFQUFFcEYsTUFBTSxDQUFDcUYsS0FBSyxDQUFDLENBQUMsQ0FBQTtBQUNqRnZGLFVBQUFBLE9BQU8sQ0FBQ3FGLEtBQUssQ0FBQyxHQUFHbkYsTUFBTSxDQUFDbUYsS0FBSyxDQUFDLENBQUE7QUFDOUJyRixVQUFBQSxPQUFPLENBQUN1RixLQUFLLENBQUMsR0FBR3JGLE1BQU0sQ0FBQ3FGLEtBQUssQ0FBQyxDQUFBO0FBQ2xDLFNBQUE7QUFDSixPQUFBO0FBQ0osS0FBQTtBQUNKLEdBQUE7QUFFQS9FLEVBQUFBLGlCQUFpQkEsQ0FBQ1IsT0FBTyxFQUFFRSxNQUFNLEVBQUU7QUFDL0JGLElBQUFBLE9BQU8sQ0FBQ21HLFdBQVcsR0FBR2pHLE1BQU0sQ0FBQ2tHLE9BQU8sS0FBSyxDQUFDLElBQUlsRyxNQUFNLENBQUN3QixTQUFTLEtBQUtpRSxVQUFVLENBQUE7QUFDN0UzRixJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzJGLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFDbEMsR0FBQTtBQUVBdkYsRUFBQUEsc0JBQXNCQSxDQUFDZCxPQUFPLEVBQUVFLE1BQU0sRUFBRTtBQUFBLElBQUEsSUFBQW9HLGtCQUFBLEVBQUFDLHFCQUFBLEVBQUFDLG1CQUFBLEVBQUFDLGdCQUFBLENBQUE7SUFDcEMsTUFBTUMsV0FBVyxHQUFHLENBQUN4RyxNQUFNLENBQUN3RyxXQUFXLElBQUssQ0FBQ3hHLE1BQU0sQ0FBQytFLFVBQVUsSUFBSSxDQUFDL0UsTUFBTSxDQUFDeUcsa0JBQW1CLEtBQ3pFcEgsUUFBUSxDQUFDVyxNQUFNLENBQUMwRyxPQUFPLENBQUMsQ0FBQTtJQUU1QyxNQUFNQyxXQUFXLEdBQUcsQ0FBQyxFQUFFM0csTUFBTSxDQUFDNEcsWUFBWSxJQUFJNUcsTUFBTSxDQUFDNkcsV0FBVyxJQUFJN0csTUFBTSxDQUFDOEcsU0FBUyxJQUFJOUcsTUFBTSxDQUFDK0csT0FBTyxJQUNsRnRILFFBQVEsQ0FBQ08sTUFBTSxDQUFDZ0gsUUFBUSxDQUFDLElBQUtoSCxNQUFNLENBQUNpSCxpQkFBaUIsR0FBRyxDQUFDLElBQUlqSCxNQUFNLENBQUM0RyxZQUFhLElBQ2xGNUcsTUFBTSxDQUFDa0gsaUJBQWlCLElBQ3ZCbEgsTUFBTSxDQUFDbUgsU0FBUyxHQUFHLENBQUUsQ0FBQyxDQUFBO0lBRTNDLE1BQU1DLGdCQUFnQixHQUFJLENBQUNwSCxNQUFNLENBQUM0RyxZQUFZLElBQUk1RyxNQUFNLENBQUNxSCx5QkFBMEIsQ0FBQTtJQUNuRixNQUFNQyxZQUFZLEdBQUdYLFdBQVcsS0FDVjNHLE1BQU0sQ0FBQ3NILFlBQVksSUFBSyxDQUFDdEgsTUFBTSxDQUFDNkcsV0FBVyxJQUFJLENBQUM3RyxNQUFNLENBQUN1SCxtQkFBb0IsQ0FBQyxJQUM3RWxJLFFBQVEsQ0FBQ1csTUFBTSxDQUFDZ0gsUUFBUSxDQUFDLENBQUE7SUFFOUMsTUFBTVEscUJBQXFCLEdBQUdiLFdBQVcsSUFBSTNHLE1BQU0sQ0FBQ3FILHlCQUF5QixLQUM5Q3JILE1BQU0sQ0FBQ3dILHFCQUFxQixJQUFLeEgsTUFBTSxDQUFDaUgsaUJBQWlCLEdBQUcsQ0FBQyxJQUFJLENBQUNqSCxNQUFNLENBQUN5SCxvQkFBcUIsQ0FBQyxDQUFBO0FBRTlILElBQUEsTUFBTUMsaUJBQWlCLEdBQUcsQ0FBQzFILE1BQU0sQ0FBQzJILFdBQVcsSUFBS3RJLFFBQVEsQ0FBQ1csTUFBTSxDQUFDNEgsUUFBUSxDQUFDLElBQUk1SCxNQUFNLENBQUM2SCxZQUFhLENBQUE7QUFDbkcsSUFBQSxNQUFNQyxxQkFBcUIsR0FBSTlILE1BQU0sQ0FBQytILGlCQUFpQixLQUFLLENBQUUsQ0FBQTtJQUU5RCxNQUFNQyxpQkFBaUIsR0FBR2hJLE1BQU0sQ0FBQ3VFLFNBQVMsR0FBSXZFLE1BQU0sQ0FBQ3VFLFNBQVMsQ0FBQzBELE1BQU0sS0FBS0MsZ0JBQWdCLElBQUlsSSxNQUFNLENBQUN1RSxTQUFTLENBQUM0RCxJQUFJLEtBQUtDLHVCQUF1QixHQUFJLEtBQUssQ0FBQTtBQUV4SnRJLElBQUFBLE9BQU8sQ0FBQ21HLFdBQVcsR0FBSWpHLE1BQU0sQ0FBQ2tHLE9BQU8sS0FBSyxDQUFDLElBQUlsRyxNQUFNLENBQUN3QixTQUFTLEtBQUtpRSxVQUFVLEdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUN2RjNGLElBQUFBLE9BQU8sQ0FBQ3VJLFdBQVcsR0FBR3JJLE1BQU0sQ0FBQ3FJLFdBQVcsQ0FBQTtBQUN4Q3ZJLElBQUFBLE9BQU8sQ0FBQzBHLFdBQVcsR0FBR0EsV0FBVyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDekMxRyxJQUFBQSxPQUFPLENBQUN3SCxZQUFZLEdBQUdBLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQzNDeEgsSUFBQUEsT0FBTyxDQUFDMEgscUJBQXFCLEdBQUdBLHFCQUFxQixHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDN0QxSCxJQUFBQSxPQUFPLENBQUN3SSxhQUFhLEdBQUl0SSxNQUFNLENBQUM0RyxZQUFZLElBQUk1RyxNQUFNLENBQUN1SSxTQUFTLEdBQUcsQ0FBQyxHQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDN0V6SSxPQUFPLENBQUMwSSxTQUFTLEdBQUcsQ0FBQyxDQUFBO0FBQ3JCMUksSUFBQUEsT0FBTyxDQUFDK0gsWUFBWSxHQUFHLENBQUNILGlCQUFpQixHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUtJLHFCQUFxQixHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtJQUNwRmhJLE9BQU8sQ0FBQzJJLGVBQWUsR0FBQSxDQUFBckMsa0JBQUEsR0FBR3BHLE1BQU0sQ0FBQytFLFVBQVUsS0FBQSxJQUFBLEdBQUEsS0FBQSxDQUFBLEdBQWpCcUIsa0JBQUEsQ0FBbUJzQyxRQUFRLENBQUE7SUFDckQ1SSxPQUFPLENBQUM2SSxxQkFBcUIsR0FBQSxDQUFBdEMscUJBQUEsR0FBR3JHLE1BQU0sQ0FBQzRJLGdCQUFnQixLQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBdkJ2QyxxQkFBQSxDQUF5QnFDLFFBQVEsQ0FBQTtJQUNqRTVJLE9BQU8sQ0FBQytJLGdCQUFnQixHQUFBLENBQUF2QyxtQkFBQSxHQUFHdEcsTUFBTSxDQUFDMkgsV0FBVyxLQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBbEJyQixtQkFBQSxDQUFvQm9DLFFBQVEsQ0FBQTtJQUN2RDVJLE9BQU8sQ0FBQ2dKLGdCQUFnQixHQUFBLENBQUF2QyxnQkFBQSxHQUFHdkcsTUFBTSxDQUFDK0QsUUFBUSxLQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsR0FBZndDLGdCQUFBLENBQWlCbUMsUUFBUSxDQUFBO0lBQ3BENUksT0FBTyxDQUFDaUosWUFBWSxHQUFHZixpQkFBaUIsQ0FBQTtJQUN4Q2xJLE9BQU8sQ0FBQ2tKLGNBQWMsR0FBSWhKLE1BQU0sQ0FBQ2lKLFVBQVUsS0FBSyxHQUFHLEdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUM1RG5KLElBQUFBLE9BQU8sQ0FBQ29KLG1CQUFtQixHQUFJbEosTUFBTSxDQUFDbUosZUFBZSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUM1RXJKLElBQUFBLE9BQU8sQ0FBQ3NKLGFBQWEsR0FBSXBKLE1BQU0sQ0FBQ3FKLG9CQUFvQixJQUFJckosTUFBTSxDQUFDc0osU0FBUyxLQUFLLEdBQUcsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ3pGeEosSUFBQUEsT0FBTyxDQUFDeUosZ0JBQWdCLEdBQUd2SixNQUFNLENBQUN1SixnQkFBZ0IsSUFBSSxRQUFRLENBQUE7QUFDOUR6SixJQUFBQSxPQUFPLENBQUMwSixhQUFhLEdBQUd4SixNQUFNLENBQUN3SixhQUFhLElBQUksUUFBUSxDQUFBO0FBQ3hEMUosSUFBQUEsT0FBTyxDQUFDMkosT0FBTyxHQUFHekosTUFBTSxDQUFDMEosT0FBTyxDQUFDO0FBQ2pDNUosSUFBQUEsT0FBTyxDQUFDNkosYUFBYSxHQUFHLENBQUMsQ0FBQzNKLE1BQU0sQ0FBQytFLFVBQVUsQ0FBQTtBQUMzQ2pGLElBQUFBLE9BQU8sQ0FBQzhKLFlBQVksR0FBRyxDQUFDLENBQUM1SixNQUFNLENBQUN1RSxTQUFTLENBQUE7QUFDekN6RSxJQUFBQSxPQUFPLENBQUMrSixpQkFBaUIsR0FBRzdKLE1BQU0sQ0FBQzZKLGlCQUFpQixDQUFBO0lBQ3BEL0osT0FBTyxDQUFDZ0ssYUFBYSxHQUFJOUosTUFBTSxDQUFDbUgsU0FBUyxLQUFLLEdBQUcsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQzFEckgsSUFBQUEsT0FBTyxDQUFDaUssY0FBYyxHQUFHLENBQUMsQ0FBQy9KLE1BQU0sQ0FBQytKLGNBQWMsQ0FBQTtJQUNoRGpLLE9BQU8sQ0FBQ2tLLGtCQUFrQixHQUFJaEssTUFBTSxDQUFDK0osY0FBYyxLQUFLLEdBQUcsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBRXBFakssT0FBTyxDQUFDbUssZUFBZSxHQUFHakssTUFBTSxDQUFDa0ssV0FBVyxLQUFLLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBRTVEcEssSUFBQUEsT0FBTyxDQUFDcUssU0FBUyxHQUFJbkssTUFBTSxDQUFDb0ssUUFBUSxJQUFJL0ssUUFBUSxDQUFDVyxNQUFNLENBQUNxSyxLQUFLLENBQUMsR0FBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZFdkssT0FBTyxDQUFDd0ssY0FBYyxHQUFHLENBQUMsQ0FBQTtBQUUxQnhLLElBQUFBLE9BQU8sQ0FBQ3lLLFdBQVcsR0FBR3ZLLE1BQU0sQ0FBQ3VLLFdBQVcsQ0FBQTtBQUN4Q3pLLElBQUFBLE9BQU8sQ0FBQzBLLGdCQUFnQixHQUFHeEssTUFBTSxDQUFDd0ssZ0JBQWdCLENBQUE7QUFDbEQxSyxJQUFBQSxPQUFPLENBQUMySyxvQkFBb0IsR0FBR3pLLE1BQU0sQ0FBQ3lLLG9CQUFvQixDQUFBOztBQUUxRDtBQUNBM0ssSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNrSyxjQUFjLEdBQUc1SyxPQUFPLENBQUN1SSxXQUFXLENBQUE7QUFDdkR2SSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ21LLG9CQUFvQixHQUFHM0ssTUFBTSxDQUFDMkssb0JBQW9CLENBQUE7QUFDckU3SyxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ29LLFNBQVMsR0FBRzVLLE1BQU0sQ0FBQzRLLFNBQVMsQ0FBQTtJQUUvQzlLLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDcUsscUJBQXFCLEdBQUcsQ0FBQyxDQUFDN0ssTUFBTSxDQUFDeUUsa0JBQWtCLENBQUE7SUFDdEUzRSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3NLLGFBQWEsR0FBRyxDQUFDLENBQUM5SyxNQUFNLENBQUMrRSxVQUFVLENBQUE7SUFDdERqRixPQUFPLENBQUNVLFVBQVUsQ0FBQ3VLLFFBQVEsR0FBRyxDQUFDLENBQUMvSyxNQUFNLENBQUMyRSxLQUFLLENBQUE7SUFFNUM3RSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3dLLFdBQVcsR0FBRyxDQUFDLENBQUNsTCxPQUFPLENBQUM2SixhQUFhLENBQUE7QUFDeEQ3SixJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3lLLFlBQVksR0FBR2pMLE1BQU0sQ0FBQ2lMLFlBQVksQ0FBQTtJQUNyRG5MLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDMEssU0FBUyxHQUFHLENBQUMsQ0FBQ2xMLE1BQU0sQ0FBQ2tMLFNBQVMsQ0FBQTtBQUNqRHBMLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDMkssT0FBTyxHQUFHbkwsTUFBTSxDQUFDbUwsT0FBTyxDQUFBO0FBQzNDckwsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM0SyxnQkFBZ0IsR0FBR3BMLE1BQU0sQ0FBQ29MLGdCQUFnQixDQUFBO0FBQzdEdEwsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM2SyxlQUFlLEdBQUdyTCxNQUFNLENBQUNxTCxlQUFlLENBQUE7SUFDM0R2TCxPQUFPLENBQUNVLFVBQVUsQ0FBQzhLLG9CQUFvQixHQUFJdEwsTUFBTSxDQUFDdUwsd0JBQXdCLEtBQUssR0FBSSxDQUFBO0lBRW5GekwsT0FBTyxDQUFDVSxVQUFVLENBQUNnTCxPQUFPLEdBQUcsQ0FBQyxDQUFDeEwsTUFBTSxDQUFDeUwsT0FBTyxDQUFBO0lBQzdDM0wsT0FBTyxDQUFDVSxVQUFVLENBQUNrTCxpQkFBaUIsR0FBRyxDQUFDLENBQUMxTCxNQUFNLENBQUMwTCxpQkFBaUIsQ0FBQTtBQUVqRTVMLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDa0YsZUFBZSxHQUFHMUYsTUFBTSxDQUFDMEYsZUFBZSxDQUFBO0FBQzNENUYsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNtTCxvQkFBb0IsR0FBRzNMLE1BQU0sQ0FBQzJMLG9CQUFvQixDQUFBO0FBRXJFN0wsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNvTCxpQkFBaUIsR0FBRzVMLE1BQU0sQ0FBQzRMLGlCQUFpQixDQUFBO0FBRS9EOUwsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNxTCxhQUFhLEdBQUc3TCxNQUFNLENBQUM2TCxhQUFhLENBQUE7QUFDdkQvTCxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3NMLGNBQWMsR0FBRzlMLE1BQU0sQ0FBQzhMLGNBQWMsSUFBSTlMLE1BQU0sQ0FBQ2lMLFlBQVksS0FBS2MsY0FBYyxDQUFBO0FBQ25Hak0sSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNtRyxXQUFXLEdBQUdBLFdBQVcsQ0FBQTtBQUM1QzdHLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDd0wsb0JBQW9CLEdBQUcsQ0FBQ3hFLHFCQUFxQixJQUFJLENBQUMsQ0FBQ3hILE1BQU0sQ0FBQ3lILG9CQUFvQixLQUFLekgsTUFBTSxDQUFDcUgseUJBQXlCLENBQUE7QUFDdEl2SCxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRHLGdCQUFnQixHQUFHQSxnQkFBZ0IsQ0FBQTtBQUN0RHRILElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDMEcsaUJBQWlCLEdBQUdsSCxNQUFNLENBQUNrSCxpQkFBaUIsQ0FBQTtBQUMvRHBILElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDeUwsWUFBWSxHQUFHak0sTUFBTSxDQUFDaU0sWUFBWSxDQUFBO0lBQ3JEbk0sT0FBTyxDQUFDVSxVQUFVLENBQUMwTCxhQUFhLEdBQUcsQ0FBQ2xNLE1BQU0sQ0FBQ2lKLFVBQVUsSUFBSSxDQUFDLENBQUNqSixNQUFNLENBQUNtTSxhQUFhLE1BQU1uTSxNQUFNLENBQUNxSixvQkFBb0IsSUFBSSxDQUFDLENBQUN2SixPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixDQUFDLENBQUE7SUFDMUp0TSxPQUFPLENBQUNVLFVBQVUsQ0FBQzZMLFlBQVksR0FBRyxDQUFDLENBQUNyTSxNQUFNLENBQUNtSCxTQUFTLENBQUE7QUFDcERySCxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRKLFFBQVEsR0FBR3BLLE1BQU0sQ0FBQ29LLFFBQVEsQ0FBQTtBQUM3Q3RLLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDOEwsY0FBYyxHQUFHdE0sTUFBTSxDQUFDc00sY0FBYyxJQUFJdE0sTUFBTSxDQUFDa0ssV0FBVyxLQUFLLEdBQUcsQ0FBQTtBQUN2RnBLLElBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDb0csWUFBWSxHQUFHNUcsTUFBTSxDQUFDNEcsWUFBWSxDQUFBO0FBQ3JEOUcsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM2SSxvQkFBb0IsR0FBR3JKLE1BQU0sQ0FBQ3FKLG9CQUFvQixDQUFBO0FBQ3pFLEdBQUE7QUFFQTFJLEVBQUFBLGlCQUFpQkEsQ0FBQ2IsT0FBTyxFQUFFRSxNQUFNLEVBQUVELEtBQUssRUFBRTtBQUN0Q0QsSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUMrTCxHQUFHLEdBQUd2TSxNQUFNLENBQUN3TSxNQUFNLEdBQUd6TSxLQUFLLENBQUN3TSxHQUFHLEdBQUcsTUFBTSxDQUFBO0FBQzNEek0sSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNNLEtBQUssR0FBR2QsTUFBTSxDQUFDeU0sZUFBZSxHQUFHMU0sS0FBSyxDQUFDMk0sZUFBZSxHQUFHQyxVQUFVLENBQUE7QUFDdEY3TSxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ1EsT0FBTyxHQUFHaEIsTUFBTSxDQUFDeU0sZUFBZSxHQUFHMU0sS0FBSyxDQUFDNk0sV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzVFOU0sSUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUNxTSxRQUFRLEdBQUk3TSxNQUFNLENBQUMrRyxPQUFPLEdBQUcvRyxNQUFNLENBQUMrRyxPQUFPLENBQUMrRixlQUFlLEdBQUcsS0FBTSxDQUFBO0FBRXZGLElBQUEsTUFBTUMsT0FBTyxHQUFHL00sTUFBTSxDQUFDaUwsWUFBWSxLQUFLYyxjQUFjLENBQUE7SUFFdEQsSUFBSWlCLGFBQWEsR0FBRyxLQUFLLENBQUE7O0FBRXpCO0lBQ0EsSUFBSWhOLE1BQU0sQ0FBQ2lOLFFBQVEsSUFBSWpOLE1BQU0sQ0FBQytHLE9BQU8sSUFBSSxDQUFDZ0csT0FBTyxFQUFFO0FBQy9Dak4sTUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM0TCxnQkFBZ0IsR0FBRyxZQUFZLENBQUE7TUFDbER0TSxPQUFPLENBQUNVLFVBQVUsQ0FBQzBNLGtCQUFrQixHQUFHbE4sTUFBTSxDQUFDaU4sUUFBUSxDQUFDdkUsUUFBUSxDQUFBO0tBQ25FLE1BQU0sSUFBSTFJLE1BQU0sQ0FBQ2lOLFFBQVEsSUFBSSxDQUFDRixPQUFPLEVBQUU7QUFDcENqTixNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixHQUFHLFVBQVUsQ0FBQTtNQUNoRHRNLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME0sa0JBQWtCLEdBQUdsTixNQUFNLENBQUNpTixRQUFRLENBQUN2RSxRQUFRLENBQUE7QUFDcEUsS0FBQyxNQUFNLElBQUkxSSxNQUFNLENBQUMrRyxPQUFPLEVBQUU7QUFDdkJqSCxNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixHQUFHLFNBQVMsQ0FBQTtNQUMvQ3RNLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME0sa0JBQWtCLEdBQUdsTixNQUFNLENBQUMrRyxPQUFPLENBQUMyQixRQUFRLENBQUE7QUFDbkUsS0FBQyxNQUFNLElBQUkxSSxNQUFNLENBQUM4RyxTQUFTLEVBQUU7QUFDekJoSCxNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixHQUFHLFdBQVcsQ0FBQTtNQUNqRHRNLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME0sa0JBQWtCLEdBQUdsTixNQUFNLENBQUM4RyxTQUFTLENBQUM0QixRQUFRLENBQUE7QUFDckUsS0FBQyxNQUFNLElBQUkxSSxNQUFNLENBQUNtTixTQUFTLElBQUlwTixLQUFLLENBQUNrTixRQUFRLElBQUlsTixLQUFLLENBQUNxTixNQUFNLElBQUksQ0FBQ0wsT0FBTyxFQUFFO0FBQ3ZFak4sTUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM0TCxnQkFBZ0IsR0FBRyxZQUFZLENBQUE7TUFDbER0TSxPQUFPLENBQUNVLFVBQVUsQ0FBQzBNLGtCQUFrQixHQUFHbk4sS0FBSyxDQUFDa04sUUFBUSxDQUFDdkUsUUFBUSxDQUFBO0FBQy9Ec0UsTUFBQUEsYUFBYSxHQUFHLElBQUksQ0FBQTtBQUN4QixLQUFDLE1BQU0sSUFBSWhOLE1BQU0sQ0FBQ21OLFNBQVMsSUFBSXBOLEtBQUssQ0FBQ2tOLFFBQVEsSUFBSSxDQUFDRixPQUFPLEVBQUU7QUFDdkRqTixNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixHQUFHLFVBQVUsQ0FBQTtNQUNoRHRNLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME0sa0JBQWtCLEdBQUduTixLQUFLLENBQUNrTixRQUFRLENBQUN2RSxRQUFRLENBQUE7QUFDL0RzRSxNQUFBQSxhQUFhLEdBQUcsSUFBSSxDQUFBO0tBQ3ZCLE1BQU0sSUFBSWhOLE1BQU0sQ0FBQ21OLFNBQVMsSUFBSXBOLEtBQUssQ0FBQ3FOLE1BQU0sRUFBRTtBQUN6Q3ROLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDNEwsZ0JBQWdCLEdBQUcsU0FBUyxDQUFBO01BQy9DdE0sT0FBTyxDQUFDVSxVQUFVLENBQUMwTSxrQkFBa0IsR0FBR25OLEtBQUssQ0FBQ3FOLE1BQU0sQ0FBQzFFLFFBQVEsQ0FBQTtBQUM3RHNFLE1BQUFBLGFBQWEsR0FBRyxJQUFJLENBQUE7QUFDeEIsS0FBQyxNQUFNO0FBQ0hsTixNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzRMLGdCQUFnQixHQUFHLElBQUksQ0FBQTtBQUMxQ3RNLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME0sa0JBQWtCLEdBQUcsSUFBSSxDQUFBO0FBQ2hELEtBQUE7O0FBRUE7QUFDQSxJQUFBLElBQUlsTixNQUFNLENBQUNrTCxTQUFTLElBQUksQ0FBQzZCLE9BQU8sRUFBRTtBQUM5QmpOLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDNk0sYUFBYSxHQUFHLFdBQVcsQ0FBQTtBQUM5Q3ZOLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDOE0sZUFBZSxHQUFHLElBQUksQ0FBQTtBQUM3QyxLQUFDLE1BQU07QUFDSCxNQUFBLE1BQU1MLFFBQVEsR0FBR2pOLE1BQU0sQ0FBQ2lOLFFBQVEsS0FBS2pOLE1BQU0sQ0FBQ21OLFNBQVMsSUFBSXBOLEtBQUssQ0FBQ2tOLFFBQVEsR0FBR2xOLEtBQUssQ0FBQ2tOLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQTtBQUNoRyxNQUFBLElBQUlBLFFBQVEsSUFBSSxDQUFDRixPQUFPLEVBQUU7QUFDdEJqTixRQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzZNLGFBQWEsR0FBRyxVQUFVLENBQUE7QUFDN0N2TixRQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzhNLGVBQWUsR0FBR0wsUUFBUSxDQUFDdkUsUUFBUSxDQUFBO0FBQzFELE9BQUMsTUFBTTtBQUNINUksUUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM2TSxhQUFhLEdBQUcsVUFBVSxDQUFBO0FBQzdDdk4sUUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUM4TSxlQUFlLEdBQUcsSUFBSSxDQUFBO0FBQzdDLE9BQUE7QUFDSixLQUFBOztBQUVBO0FBQ0F4TixJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQytNLGVBQWUsR0FBR1AsYUFBYSxLQUFLak4sS0FBSyxDQUFDd04sZUFBZSxLQUFLLENBQUMsSUFBSXhOLEtBQUssQ0FBQ3lOLGFBQWEsQ0FBQyxDQUFBO0lBQzFHMU4sT0FBTyxDQUFDVSxVQUFVLENBQUNpTixrQkFBa0IsR0FBR1QsYUFBYSxJQUFJak4sS0FBSyxDQUFDMk4sY0FBYyxJQUFJLENBQUMzTixLQUFLLENBQUMyTixjQUFjLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxRQUFRLENBQUMsQ0FBQTtBQUNoSSxHQUFBO0FBRUF6TSxFQUFBQSxtQkFBbUJBLENBQUN0QixPQUFPLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVHLFlBQVksRUFBRUYsZUFBZSxFQUFFO0lBQ2hGSixPQUFPLENBQUNpRSxRQUFRLEdBQUcsS0FBSyxDQUFBO0lBQ3hCakUsT0FBTyxDQUFDZ08sZUFBZSxHQUFHLEVBQUUsQ0FBQTtJQUM1QmhPLE9BQU8sQ0FBQ2lPLFVBQVUsR0FBRyxDQUFDLENBQUE7SUFDdEJqTyxPQUFPLENBQUNrTyxpQkFBaUIsR0FBRyxDQUFDLENBQUE7QUFDN0JsTyxJQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQ3lOLHNCQUFzQixHQUFHLEtBQUssQ0FBQTtJQUNqRG5PLE9BQU8sQ0FBQ3FFLFdBQVcsR0FBRyxLQUFLLENBQUE7QUFFM0IsSUFBQSxJQUFJbEUsT0FBTyxFQUFFO01BQ1RILE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME4sUUFBUSxHQUFHLENBQUNqTyxPQUFPLEdBQUdrTyxrQkFBa0IsTUFBTSxDQUFDLENBQUE7QUFFbEUsTUFBQSxJQUFJLENBQUNsTyxPQUFPLEdBQUdtTyxZQUFZLE1BQU0sQ0FBQyxFQUFFO1FBQ2hDdE8sT0FBTyxDQUFDZ0osZ0JBQWdCLEdBQUcvSSxLQUFLLENBQUNzTyxtQkFBbUIsS0FBS0MsaUJBQWlCLEdBQUcsTUFBTSxHQUFHLFFBQVEsQ0FBQTtRQUM5RnhPLE9BQU8sQ0FBQ2lFLFFBQVEsR0FBRyxJQUFJLENBQUE7UUFDdkJqRSxPQUFPLENBQUNnTyxlQUFlLEdBQUcsS0FBSyxDQUFBO1FBQy9CaE8sT0FBTyxDQUFDaU8sVUFBVSxHQUFHLENBQUMsQ0FBQTtRQUN0QmpPLE9BQU8sQ0FBQ2tPLGlCQUFpQixHQUFHLENBQUMsQ0FBQTtRQUM3QmxPLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDeU4sc0JBQXNCLEdBQUcsQ0FBQ2pPLE1BQU0sQ0FBQytELFFBQVEsQ0FBQTtBQUM1RCxRQUFBLElBQUksQ0FBQzlELE9BQU8sR0FBR3NPLGVBQWUsTUFBTSxDQUFDLEVBQUU7VUFDbkN6TyxPQUFPLENBQUNxRSxXQUFXLEdBQUcsSUFBSSxDQUFBO0FBQzlCLFNBQUE7O0FBRUE7QUFDQSxRQUFBLElBQUksQ0FBQ2xFLE9BQU8sR0FBR3VPLG1CQUFtQixNQUFNLENBQUMsRUFBRTtBQUN2QzFPLFVBQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDeU4sc0JBQXNCLEdBQUcsS0FBSyxDQUFBO0FBQ3JELFNBQUE7QUFDSixPQUFBO0FBQ0osS0FBQTtJQUVBLElBQUlqTyxNQUFNLENBQUN3QyxXQUFXLEVBQUU7TUFDcEIsTUFBTWlNLGNBQWMsR0FBRyxFQUFFLENBQUE7TUFDekIsTUFBTUMsSUFBSSxHQUFHek8sT0FBTyxHQUFJQSxPQUFPLElBQUksRUFBRSxHQUFJME8sbUJBQW1CLENBQUE7O0FBRTVEO01BQ0E3TyxPQUFPLENBQUNVLFVBQVUsQ0FBQ29PLGdCQUFnQixHQUFHLENBQUMsRUFBRUYsSUFBSSxHQUFHQyxtQkFBbUIsQ0FBQyxDQUFBO0FBRXBFLE1BQUEsSUFBSXZPLFlBQVksRUFBRTtBQUNkLFFBQUEsSUFBSSxDQUFDeU8sY0FBYyxDQUFDQyxxQkFBcUIsRUFBRTFPLFlBQVksQ0FBQzBPLHFCQUFxQixDQUFDLEVBQUVMLGNBQWMsRUFBRUMsSUFBSSxDQUFDLENBQUE7QUFDckcsUUFBQSxJQUFJLENBQUNHLGNBQWMsQ0FBQ0UsY0FBYyxFQUFFM08sWUFBWSxDQUFDMk8sY0FBYyxDQUFDLEVBQUVOLGNBQWMsRUFBRUMsSUFBSSxFQUFFeE8sZUFBZSxDQUFDLENBQUE7QUFDeEcsUUFBQSxJQUFJLENBQUMyTyxjQUFjLENBQUNHLGNBQWMsRUFBRTVPLFlBQVksQ0FBQzRPLGNBQWMsQ0FBQyxFQUFFUCxjQUFjLEVBQUVDLElBQUksRUFBRXhPLGVBQWUsQ0FBQyxDQUFBO0FBQzVHLE9BQUE7QUFDQUosTUFBQUEsT0FBTyxDQUFDVSxVQUFVLENBQUMyRixNQUFNLEdBQUdzSSxjQUFjLENBQUE7QUFDOUMsS0FBQyxNQUFNO0FBQ0gzTyxNQUFBQSxPQUFPLENBQUNVLFVBQVUsQ0FBQzJGLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFDbEMsS0FBQTtJQUVBLElBQUlyRyxPQUFPLENBQUNVLFVBQVUsQ0FBQzJGLE1BQU0sQ0FBQ2hILE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDeENXLE1BQUFBLE9BQU8sQ0FBQ1UsVUFBVSxDQUFDME4sUUFBUSxHQUFHLElBQUksQ0FBQTtBQUN0QyxLQUFBO0FBQ0osR0FBQTtFQUVBVyxjQUFjQSxDQUFDSSxLQUFLLEVBQUU5SSxNQUFNLEVBQUVzSSxjQUFjLEVBQUVDLElBQUksRUFBRXhPLGVBQWUsRUFBRTtBQUNqRSxJQUFBLEtBQUssSUFBSWQsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHK0csTUFBTSxDQUFDaEgsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtBQUNwQyxNQUFBLE1BQU04UCxLQUFLLEdBQUcvSSxNQUFNLENBQUMvRyxDQUFDLENBQUMsQ0FBQTtNQUN2QixJQUFJOFAsS0FBSyxDQUFDQyxPQUFPLEVBQUU7QUFDZixRQUFBLElBQUlELEtBQUssQ0FBQ1IsSUFBSSxHQUFHQSxJQUFJLEVBQUU7VUFDbkIsSUFBSU8sS0FBSyxLQUFLSCxxQkFBcUIsRUFBRTtZQUNqQyxJQUFJSSxLQUFLLENBQUNFLFFBQVEsRUFBRTtBQUNoQixjQUFBLFNBQUE7QUFDSixhQUFBO0FBQ0osV0FBQTtBQUNBWCxVQUFBQSxjQUFjLENBQUNZLElBQUksQ0FBQ0gsS0FBSyxDQUFDLENBQUE7QUFDOUIsU0FBQTtBQUNKLE9BQUE7QUFDSixLQUFBO0FBRUEsSUFBQSxJQUFJaFAsZUFBZSxFQUFFO0FBQ2pCLE1BQUEsS0FBSyxJQUFJZCxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdjLGVBQWUsQ0FBQ2YsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtBQUM3QyxRQUFBLE1BQU04UCxLQUFLLEdBQUdoUCxlQUFlLENBQUNkLENBQUMsQ0FBQyxDQUFBO0FBQ2hDLFFBQUEsSUFBSThQLEtBQUssQ0FBQ0ksS0FBSyxLQUFLTCxLQUFLLEVBQUU7QUFDdkJSLFVBQUFBLGNBQWMsQ0FBQ1ksSUFBSSxDQUFDSCxLQUFLLENBQUMsQ0FBQTtBQUM5QixTQUFBO0FBQ0osT0FBQTtBQUNKLEtBQUE7QUFDSixHQUFBO0FBRUFuSixFQUFBQSxrQkFBa0JBLENBQUN3SixLQUFLLEVBQUVDLEVBQUUsRUFBRTtBQUMxQixJQUFBLElBQUksQ0FBQ0QsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0FBRXBCLElBQUEsSUFBSUUsTUFBTSxHQUFHLElBQUksQ0FBQzdQLFVBQVUsQ0FBQzRQLEVBQUUsQ0FBQyxDQUFBO0lBQ2hDLElBQUksQ0FBQ0MsTUFBTSxFQUFFO0FBQ1RBLE1BQUFBLE1BQU0sR0FBRyxFQUFFLENBQUE7QUFDWCxNQUFBLElBQUksQ0FBQzdQLFVBQVUsQ0FBQzRQLEVBQUUsQ0FBQyxHQUFHQyxNQUFNLENBQUE7QUFDaEMsS0FBQTtBQUVBLElBQUEsS0FBSyxJQUFJclEsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHcVEsTUFBTSxDQUFDdFEsTUFBTSxFQUFFQyxDQUFDLEVBQUUsRUFBRTtBQUNwQyxNQUFBLElBQUlKLFdBQVcsQ0FBQ3lRLE1BQU0sQ0FBQ3JRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDc1EsS0FBSyxFQUFFSCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNHLEtBQUssQ0FBQyxJQUMvQzFRLFdBQVcsQ0FBQ3lRLE1BQU0sQ0FBQ3JRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDc1EsS0FBSyxFQUFFSCxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUNHLEtBQUssQ0FBQyxFQUFFO1FBQ2pELE9BQU90USxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2hCLE9BQUE7QUFDSixLQUFBO0FBRUEsSUFBQSxPQUFPcVEsTUFBTSxDQUFDSixJQUFJLENBQUNFLEtBQUssQ0FBQyxDQUFBO0FBQzdCLEdBQUE7QUFDSjs7OzsifQ==
