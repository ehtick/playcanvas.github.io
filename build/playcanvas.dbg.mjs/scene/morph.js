/**
 * @license
 * PlayCanvas Engine v1.59.0-preview revision 797466563 (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Debug } from '../core/debug.js';
import { RefCountedObject } from '../core/ref-counted-object.js';
import { Vec3 } from '../core/math/vec3.js';
import { FloatPacking } from '../core/math/float-packing.js';
import { BoundingBox } from '../core/shape/bounding-box.js';
import { Texture } from '../platform/graphics/texture.js';
import { VertexBuffer } from '../platform/graphics/vertex-buffer.js';
import { VertexFormat } from '../platform/graphics/vertex-format.js';
import { PIXELFORMAT_RGB32F, PIXELFORMAT_RGBA16F, BUFFER_STATIC, FILTER_NEAREST, ADDRESS_CLAMP_TO_EDGE, SEMANTIC_ATTR15, TYPE_FLOAT32 } from '../platform/graphics/constants.js';
import { GraphicsDeviceAccess } from '../platform/graphics/graphics-device-access.js';

const _floatRounding = 0.2;

class Morph extends RefCountedObject {
  constructor(targets, graphicsDevice) {
    super();
    Debug.assertDeprecated(graphicsDevice, "Morph constructor takes a GraphicsDevice as a parameter, and it was not provided.");
    this.device = graphicsDevice || GraphicsDeviceAccess.get();

    targets.forEach(target => Debug.assert(!target.used, 'The target specified has already been used to create a Morph, use its clone instead.'));
    this._targets = targets.slice();

    if (this.device.supportsMorphTargetTexturesCore) {
      if (this.device.extTextureHalfFloat && this.device.textureHalfFloatRenderable) {
        this._renderTextureFormat = Morph.FORMAT_HALF_FLOAT;
      } else if (this.device.extTextureFloat && this.device.textureFloatRenderable) {
        this._renderTextureFormat = Morph.FORMAT_FLOAT;
      }

      if (this.device.extTextureHalfFloat && this.device.textureHalfFloatUpdatable) {
        this._textureFormat = Morph.FORMAT_HALF_FLOAT;
      } else if (this.device.extTextureFloat) {
        this._textureFormat = Morph.FORMAT_FLOAT;
      }

      if (this._renderTextureFormat !== undefined && this._textureFormat !== undefined) {
        this._useTextureMorph = true;
      }
    }
    this._init();
    this._updateMorphFlags();
    this._calculateAabb();
  }
  get morphPositions() {
    return this._morphPositions;
  }
  get morphNormals() {
    return this._morphNormals;
  }
  get maxActiveTargets() {
    if (this._useTextureMorph) return this._targets.length;
    return this._morphPositions && this._morphNormals ? 4 : 8;
  }
  get useTextureMorph() {
    return this._useTextureMorph;
  }
  _init() {
    if (this._useTextureMorph) {
      this._useTextureMorph = this._initTextureBased();
    }

    if (!this._useTextureMorph) {
      for (let i = 0; i < this._targets.length; i++) {
        this._targets[i]._initVertexBuffers(this.device);
      }
    }

    for (let i = 0; i < this._targets.length; i++) {
      this._targets[i]._postInit();
    }
  }
  _initTextureBased() {
    const deltaArrays = [],
      deltaInfos = [];
    for (let i = 0; i < this._targets.length; i++) {
      const target = this._targets[i];
      if (target.options.deltaPositions) {
        deltaArrays.push(target.options.deltaPositions);
        deltaInfos.push({
          target: target,
          name: 'texturePositions'
        });
      }
      if (target.options.deltaNormals) {
        deltaArrays.push(target.options.deltaNormals);
        deltaInfos.push({
          target: target,
          name: 'textureNormals'
        });
      }
    }

    const ids = [],
      usedDataIndices = [];
    let freeIndex = 1;
    const dataCount = deltaArrays[0].length;
    for (let v = 0; v < dataCount; v += 3) {
      let vertexUsed = false;
      for (let i = 0; i < deltaArrays.length; i++) {
        const data = deltaArrays[i];

        if (data[v] !== 0 || data[v + 1] !== 0 || data[v + 2] !== 0) {
          vertexUsed = true;
          break;
        }
      }
      if (vertexUsed) {
        ids.push(freeIndex + _floatRounding);
        usedDataIndices.push(v / 3);
        freeIndex++;
      } else {
        ids.push(0 + _floatRounding);
      }
    }

    const maxTextureSize = Math.min(this.device.maxTextureSize, 4096);

    let morphTextureWidth = Math.ceil(Math.sqrt(freeIndex));
    morphTextureWidth = Math.min(morphTextureWidth, maxTextureSize);
    const morphTextureHeight = Math.ceil(freeIndex / morphTextureWidth);

    if (morphTextureHeight > maxTextureSize) {
      return false;
    }
    this.morphTextureWidth = morphTextureWidth;
    this.morphTextureHeight = morphTextureHeight;

    let halfFloat = false;
    let numComponents = 3;
    const float2Half = FloatPacking.float2Half;
    if (this._textureFormat === Morph.FORMAT_HALF_FLOAT) {
      halfFloat = true;
      numComponents = 4;
    }

    const arraySize = this.morphTextureWidth * this.morphTextureHeight * numComponents;
    const packedDeltas = halfFloat ? new Uint16Array(arraySize) : new Float32Array(arraySize);
    for (let i = 0; i < deltaArrays.length; i++) {
      const data = deltaArrays[i];

      for (let v = 0; v < usedDataIndices.length; v++) {
        const index = usedDataIndices[v];
        if (halfFloat) {
          packedDeltas[v * numComponents + numComponents] = float2Half(data[index * 3]);
          packedDeltas[v * numComponents + numComponents + 1] = float2Half(data[index * 3 + 1]);
          packedDeltas[v * numComponents + numComponents + 2] = float2Half(data[index * 3 + 2]);
        } else {
          packedDeltas[v * numComponents + numComponents] = data[index * 3];
          packedDeltas[v * numComponents + numComponents + 1] = data[index * 3 + 1];
          packedDeltas[v * numComponents + numComponents + 2] = data[index * 3 + 2];
        }
      }

      const target = deltaInfos[i].target;
      const format = this._textureFormat === Morph.FORMAT_FLOAT ? PIXELFORMAT_RGB32F : PIXELFORMAT_RGBA16F;
      target._setTexture(deltaInfos[i].name, this._createTexture('MorphTarget', format, packedDeltas));
    }

    const formatDesc = [{
      semantic: SEMANTIC_ATTR15,
      components: 1,
      type: TYPE_FLOAT32
    }];
    this.vertexBufferIds = new VertexBuffer(this.device, new VertexFormat(this.device, formatDesc), ids.length, BUFFER_STATIC, new Float32Array(ids));
    return true;
  }

  destroy() {
    var _this$vertexBufferIds;
    (_this$vertexBufferIds = this.vertexBufferIds) == null ? void 0 : _this$vertexBufferIds.destroy();
    this.vertexBufferIds = null;
    for (let i = 0; i < this._targets.length; i++) {
      this._targets[i].destroy();
    }
    this._targets.length = 0;
  }

  get targets() {
    return this._targets;
  }
  _updateMorphFlags() {
    this._morphPositions = false;
    this._morphNormals = false;
    for (let i = 0; i < this._targets.length; i++) {
      const target = this._targets[i];
      if (target.morphPositions) {
        this._morphPositions = true;
      }
      if (target.morphNormals) {
        this._morphNormals = true;
      }
    }
  }
  _calculateAabb() {
    const min = new Vec3();
    const max = new Vec3();
    for (let i = 0; i < this._targets.length; i++) {
      const targetAabb = this._targets[i].aabb;
      min.min(targetAabb.getMin());
      max.max(targetAabb.getMax());
    }
    this.aabb = new BoundingBox();
    this.aabb.setMinMax(min, max);
  }

  _createTexture(name, format, pixelData) {
    const texture = new Texture(this.device, {
      width: this.morphTextureWidth,
      height: this.morphTextureHeight,
      format: format,
      cubemap: false,
      mipmaps: false,
      minFilter: FILTER_NEAREST,
      magFilter: FILTER_NEAREST,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE,
      name: name
    });
    if (pixelData) {
      texture.lock().set(pixelData);
      texture.unlock();
    }
    return texture;
  }
}
Morph.FORMAT_FLOAT = 0;
Morph.FORMAT_HALF_FLOAT = 1;

export { Morph };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9ycGguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zY2VuZS9tb3JwaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWJ1ZyB9IGZyb20gJy4uL2NvcmUvZGVidWcuanMnO1xuaW1wb3J0IHsgUmVmQ291bnRlZE9iamVjdCB9IGZyb20gJy4uL2NvcmUvcmVmLWNvdW50ZWQtb2JqZWN0LmpzJztcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi9jb3JlL21hdGgvdmVjMy5qcyc7XG5pbXBvcnQgeyBGbG9hdFBhY2tpbmcgfSBmcm9tICcuLi9jb3JlL21hdGgvZmxvYXQtcGFja2luZy5qcyc7XG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gJy4uL2NvcmUvc2hhcGUvYm91bmRpbmctYm94LmpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9wbGF0Zm9ybS9ncmFwaGljcy90ZXh0dXJlLmpzJztcbmltcG9ydCB7IFZlcnRleEJ1ZmZlciB9IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL3ZlcnRleC1idWZmZXIuanMnO1xuaW1wb3J0IHsgVmVydGV4Rm9ybWF0IH0gZnJvbSAnLi4vcGxhdGZvcm0vZ3JhcGhpY3MvdmVydGV4LWZvcm1hdC5qcyc7XG5cbmltcG9ydCB7XG4gICAgQlVGRkVSX1NUQVRJQywgVFlQRV9GTE9BVDMyLCBTRU1BTlRJQ19BVFRSMTUsIEFERFJFU1NfQ0xBTVBfVE9fRURHRSwgRklMVEVSX05FQVJFU1QsXG4gICAgUElYRUxGT1JNQVRfUkdCQTE2RiwgUElYRUxGT1JNQVRfUkdCMzJGXG59IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBHcmFwaGljc0RldmljZUFjY2VzcyB9IGZyb20gJy4uL3BsYXRmb3JtL2dyYXBoaWNzL2dyYXBoaWNzLWRldmljZS1hY2Nlc3MuanMnO1xuXG4vLyB2YWx1ZSBhZGRlZCB0byBmbG9hdHMgd2hpY2ggYXJlIHVzZWQgYXMgaW50cyBvbiB0aGUgc2hhZGVyIHNpZGUgdG8gYXZvaWQgdmFsdWVzIGJlaW5nIHJvdW5kZWQgdG8gb25lIGxlc3Mgb2NjYXNpb25hbGx5XG5jb25zdCBfZmxvYXRSb3VuZGluZyA9IDAuMjtcblxuLyoqXG4gKiBDb250YWlucyBhIGxpc3Qgb2Yge0BsaW5rIE1vcnBoVGFyZ2V0fSwgYSBjb21iaW5lZCBkZWx0YSBBQUJCIGFuZCBzb21lIGFzc29jaWF0ZWQgZGF0YS5cbiAqL1xuY2xhc3MgTW9ycGggZXh0ZW5kcyBSZWZDb3VudGVkT2JqZWN0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTW9ycGggaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi9tb3JwaC10YXJnZXQuanMnKS5Nb3JwaFRhcmdldFtdfSB0YXJnZXRzIC0gQSBsaXN0IG9mIG1vcnBoIHRhcmdldHMuXG4gICAgICogQHBhcmFtIHtpbXBvcnQoJy4uL3BsYXRmb3JtL2dyYXBoaWNzL2dyYXBoaWNzLWRldmljZS5qcycpLkdyYXBoaWNzRGV2aWNlfSBncmFwaGljc0RldmljZSAtXG4gICAgICogVGhlIGdyYXBoaWNzIGRldmljZSB1c2VkIHRvIG1hbmFnZSB0aGlzIG1vcnBoIHRhcmdldC4gSWYgaXQgaXMgbm90IHByb3ZpZGVkLCBhIGRldmljZSBpc1xuICAgICAqIG9idGFpbmVkIGZyb20gdGhlIHtAbGluayBBcHBsaWNhdGlvbn0uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGFyZ2V0cywgZ3JhcGhpY3NEZXZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBEZWJ1Zy5hc3NlcnREZXByZWNhdGVkKGdyYXBoaWNzRGV2aWNlLCBcIk1vcnBoIGNvbnN0cnVjdG9yIHRha2VzIGEgR3JhcGhpY3NEZXZpY2UgYXMgYSBwYXJhbWV0ZXIsIGFuZCBpdCB3YXMgbm90IHByb3ZpZGVkLlwiKTtcbiAgICAgICAgdGhpcy5kZXZpY2UgPSBncmFwaGljc0RldmljZSB8fCBHcmFwaGljc0RldmljZUFjY2Vzcy5nZXQoKTtcblxuICAgICAgICAvLyB2YWxpZGF0aW9uXG4gICAgICAgIHRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4gRGVidWcuYXNzZXJ0KCF0YXJnZXQudXNlZCwgJ1RoZSB0YXJnZXQgc3BlY2lmaWVkIGhhcyBhbHJlYWR5IGJlZW4gdXNlZCB0byBjcmVhdGUgYSBNb3JwaCwgdXNlIGl0cyBjbG9uZSBpbnN0ZWFkLicpKTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0cyA9IHRhcmdldHMuc2xpY2UoKTtcblxuICAgICAgICAvLyBkZWZhdWx0IHRvIHRleHR1cmUgYmFzZWQgbW9ycGhpbmcgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLmRldmljZS5zdXBwb3J0c01vcnBoVGFyZ2V0VGV4dHVyZXNDb3JlKSB7XG5cbiAgICAgICAgICAgIC8vIHBpY2sgcmVuZGVyYWJsZSBmb3JtYXQgLSBwcmVmZXIgaGFsZi1mbG9hdFxuICAgICAgICAgICAgaWYgKHRoaXMuZGV2aWNlLmV4dFRleHR1cmVIYWxmRmxvYXQgJiYgdGhpcy5kZXZpY2UudGV4dHVyZUhhbGZGbG9hdFJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJUZXh0dXJlRm9ybWF0ID0gTW9ycGguRk9STUFUX0hBTEZfRkxPQVQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGV2aWNlLmV4dFRleHR1cmVGbG9hdCAmJiB0aGlzLmRldmljZS50ZXh0dXJlRmxvYXRSZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyVGV4dHVyZUZvcm1hdCA9IE1vcnBoLkZPUk1BVF9GTE9BVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcGljayB0ZXh0dXJlIGZvcm1hdCAtIHByZWZlciBoYWxmLWZsb2F0XG4gICAgICAgICAgICBpZiAodGhpcy5kZXZpY2UuZXh0VGV4dHVyZUhhbGZGbG9hdCAmJiB0aGlzLmRldmljZS50ZXh0dXJlSGFsZkZsb2F0VXBkYXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUZvcm1hdCA9IE1vcnBoLkZPUk1BVF9IQUxGX0ZMT0FUO1xuICAgICAgICAgICAgfSBlbHNlICBpZiAodGhpcy5kZXZpY2UuZXh0VGV4dHVyZUZsb2F0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUZvcm1hdCA9IE1vcnBoLkZPUk1BVF9GTE9BVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgYm90aCBhdmFpbGFibGUsIGVuYWJsZSB0ZXh0dXJlIG1vcnBoaW5nXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVuZGVyVGV4dHVyZUZvcm1hdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX3RleHR1cmVGb3JtYXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZVRleHR1cmVNb3JwaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZU1vcnBoRmxhZ3MoKTtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQWFiYigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBGT1JNQVRfRkxPQVQgPSAwO1xuXG4gICAgc3RhdGljIEZPUk1BVF9IQUxGX0ZMT0FUID0gMTtcblxuICAgIGdldCBtb3JwaFBvc2l0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vcnBoUG9zaXRpb25zO1xuICAgIH1cblxuICAgIGdldCBtb3JwaE5vcm1hbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3JwaE5vcm1hbHM7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFjdGl2ZVRhcmdldHMoKSB7XG5cbiAgICAgICAgLy8gbm8gbGltaXQgd2hlbiB0ZXh0dXJlIG1vcnBoIGJhc2VkXG4gICAgICAgIGlmICh0aGlzLl91c2VUZXh0dXJlTW9ycGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0cy5sZW5ndGg7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLl9tb3JwaFBvc2l0aW9ucyAmJiB0aGlzLl9tb3JwaE5vcm1hbHMpID8gNCA6IDg7XG4gICAgfVxuXG4gICAgZ2V0IHVzZVRleHR1cmVNb3JwaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVRleHR1cmVNb3JwaDtcbiAgICB9XG5cbiAgICBfaW5pdCgpIHtcblxuICAgICAgICAvLyB0cnkgdG8gaW5pdCB0ZXh0dXJlIGJhc2VkIG1vcnBoaW5nXG4gICAgICAgIGlmICh0aGlzLl91c2VUZXh0dXJlTW9ycGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3VzZVRleHR1cmVNb3JwaCA9IHRoaXMuX2luaXRUZXh0dXJlQmFzZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRleHR1cmUgbW9ycGhpbmcgaXMgbm90IHNldCB1cCwgdXNlIGF0dHJpYnV0ZSBiYXNlZCBtb3JwaGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3VzZVRleHR1cmVNb3JwaCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0c1tpXS5faW5pdFZlcnRleEJ1ZmZlcnModGhpcy5kZXZpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxpemUgaW5pdFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldHNbaV0uX3Bvc3RJbml0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdFRleHR1cmVCYXNlZCgpIHtcbiAgICAgICAgLy8gY29sbGVjdCBhbGwgc291cmNlIGRlbHRhIGFycmF5cyB0byBmaW5kIHNwYXJzZSBzZXQgb2YgdmVydGljZXNcbiAgICAgICAgY29uc3QgZGVsdGFBcnJheXMgPSBbXSwgZGVsdGFJbmZvcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3RhcmdldHNbaV07XG4gICAgICAgICAgICBpZiAodGFyZ2V0Lm9wdGlvbnMuZGVsdGFQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBkZWx0YUFycmF5cy5wdXNoKHRhcmdldC5vcHRpb25zLmRlbHRhUG9zaXRpb25zKTtcbiAgICAgICAgICAgICAgICBkZWx0YUluZm9zLnB1c2goeyB0YXJnZXQ6IHRhcmdldCwgbmFtZTogJ3RleHR1cmVQb3NpdGlvbnMnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhcmdldC5vcHRpb25zLmRlbHRhTm9ybWFscykge1xuICAgICAgICAgICAgICAgIGRlbHRhQXJyYXlzLnB1c2godGFyZ2V0Lm9wdGlvbnMuZGVsdGFOb3JtYWxzKTtcbiAgICAgICAgICAgICAgICBkZWx0YUluZm9zLnB1c2goeyB0YXJnZXQ6IHRhcmdldCwgbmFtZTogJ3RleHR1cmVOb3JtYWxzJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmQgc3BhcnNlIHNldCBmb3IgYWxsIHRhcmdldCBkZWx0YXMgaW50byB1c2VkRGF0YUluZGljZXMgYW5kIGJ1aWxkIHZlcnRleCBpZCBidWZmZXJcbiAgICAgICAgY29uc3QgaWRzID0gW10sIHVzZWREYXRhSW5kaWNlcyA9IFtdO1xuICAgICAgICBsZXQgZnJlZUluZGV4ID0gMTsgIC8vIHJlc2VydmUgc2xvdCAwIGZvciB6ZXJvIGRlbHRhXG4gICAgICAgIGNvbnN0IGRhdGFDb3VudCA9IGRlbHRhQXJyYXlzWzBdLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCBkYXRhQ291bnQ7IHYgKz0gMykge1xuXG4gICAgICAgICAgICAvLyBmaW5kIGlmIHZlcnRleCBpcyBtb3JwaGVkIGJ5IGFueSB0YXJnZXRcbiAgICAgICAgICAgIGxldCB2ZXJ0ZXhVc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhQXJyYXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRlbHRhQXJyYXlzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgbm9uLXplcm8gZGVsdGFcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVt2XSAhPT0gMCB8fCBkYXRhW3YgKyAxXSAhPT0gMCB8fCBkYXRhW3YgKyAyXSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhVc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodmVydGV4VXNlZCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKGZyZWVJbmRleCArIF9mbG9hdFJvdW5kaW5nKTtcbiAgICAgICAgICAgICAgICB1c2VkRGF0YUluZGljZXMucHVzaCh2IC8gMyk7XG4gICAgICAgICAgICAgICAgZnJlZUluZGV4Kys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vbiBtb3JwaGVkIHZlcnRpY2VzIHdvdWxkIGJlIGFsbCBtYXBwZWQgdG8gcGl4ZWwgMCBvZiB0ZXh0dXJlXG4gICAgICAgICAgICAgICAgaWRzLnB1c2goMCArIF9mbG9hdFJvdW5kaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1heCB0ZXh0dXJlIHNpemU6IHZlcnRleEJ1ZmZlcklkcyBpcyBzdG9yZWQgaW4gZmxvYXQzMiBmb3JtYXQsIGdpdmluZyB1cyAyXjI0IHJhbmdlLCBzbyBjYW4gYWRkcmVzcyA0MDk2IHRleHR1cmUgYXQgbWF4aW11bVxuICAgICAgICAvLyBUT0RPOiBvbiB3ZWJnbDIgd2UgY291bGQgc3RvcmUgdGhpcyBpbiB1aW50MzIgZm9ybWF0IGFuZCByZW1vdmUgdGhpcyBsaW1pdFxuICAgICAgICBjb25zdCBtYXhUZXh0dXJlU2l6ZSA9IE1hdGgubWluKHRoaXMuZGV2aWNlLm1heFRleHR1cmVTaXplLCA0MDk2KTtcblxuICAgICAgICAvLyB0ZXh0dXJlIHNpemUgZm9yIGZyZWVJbmRleCBwaXhlbHMgLSByb3VnaGx5IHNxdWFyZVxuICAgICAgICBsZXQgbW9ycGhUZXh0dXJlV2lkdGggPSBNYXRoLmNlaWwoTWF0aC5zcXJ0KGZyZWVJbmRleCkpO1xuICAgICAgICBtb3JwaFRleHR1cmVXaWR0aCA9IE1hdGgubWluKG1vcnBoVGV4dHVyZVdpZHRoLCBtYXhUZXh0dXJlU2l6ZSk7XG4gICAgICAgIGNvbnN0IG1vcnBoVGV4dHVyZUhlaWdodCA9IE1hdGguY2VpbChmcmVlSW5kZXggLyBtb3JwaFRleHR1cmVXaWR0aCk7XG5cbiAgICAgICAgLy8gaWYgZGF0YSBjYW5ub3QgZml0IGludG8gbWF4IHNpemUgdGV4dHVyZSwgZmFpbCB0aGlzIHNldCB1cFxuICAgICAgICBpZiAobW9ycGhUZXh0dXJlSGVpZ2h0ID4gbWF4VGV4dHVyZVNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9ycGhUZXh0dXJlV2lkdGggPSBtb3JwaFRleHR1cmVXaWR0aDtcbiAgICAgICAgdGhpcy5tb3JwaFRleHR1cmVIZWlnaHQgPSBtb3JwaFRleHR1cmVIZWlnaHQ7XG5cbiAgICAgICAgLy8gdGV4dHVyZSBmb3JtYXQgYmFzZWQgdmFyc1xuICAgICAgICBsZXQgaGFsZkZsb2F0ID0gZmFsc2U7XG4gICAgICAgIGxldCBudW1Db21wb25lbnRzID0gMzsgIC8vIFJHQjMyIGlzIHVzZWRcbiAgICAgICAgY29uc3QgZmxvYXQySGFsZiA9IEZsb2F0UGFja2luZy5mbG9hdDJIYWxmO1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUZvcm1hdCA9PT0gTW9ycGguRk9STUFUX0hBTEZfRkxPQVQpIHtcbiAgICAgICAgICAgIGhhbGZGbG9hdCA9IHRydWU7XG4gICAgICAgICAgICBudW1Db21wb25lbnRzID0gNDsgIC8vIFJHQkExNiBpcyB1c2VkLCBSR0IxNiBkb2VzIG5vdCB3b3JrXG4gICAgICAgIH1cblxuICAgICAgICAvLyBidWlsZCB0ZXh0dXJlIGZvciBlYWNoIGRlbHRhIGFycmF5LCBhbGwgdGV4dHVyZXMgYXJlIHRoZSBzYW1lIHNpemVcbiAgICAgICAgY29uc3QgYXJyYXlTaXplID0gdGhpcy5tb3JwaFRleHR1cmVXaWR0aCAqIHRoaXMubW9ycGhUZXh0dXJlSGVpZ2h0ICogbnVtQ29tcG9uZW50cztcbiAgICAgICAgY29uc3QgcGFja2VkRGVsdGFzID0gaGFsZkZsb2F0ID8gbmV3IFVpbnQxNkFycmF5KGFycmF5U2l6ZSkgOiBuZXcgRmxvYXQzMkFycmF5KGFycmF5U2l6ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGFBcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkZWx0YUFycmF5c1tpXTtcblxuICAgICAgICAgICAgLy8gY29weSBmdWxsIGFycmF5cyBpbnRvIHNwYXJzZSBhcnJheXMgYW5kIGNvbnZlcnQgZm9ybWF0IChza2lwIDB0aCBwaXhlbCAtIHVzZWQgYnkgbm9uLW1vcnBoZWQgdmVydGljZXMpXG4gICAgICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHVzZWREYXRhSW5kaWNlcy5sZW5ndGg7IHYrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdXNlZERhdGFJbmRpY2VzW3ZdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGhhbGZGbG9hdCkge1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzXSA9IGZsb2F0MkhhbGYoZGF0YVtpbmRleCAqIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2VkRGVsdGFzW3YgKiBudW1Db21wb25lbnRzICsgbnVtQ29tcG9uZW50cyArIDFdID0gZmxvYXQySGFsZihkYXRhW2luZGV4ICogMyArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2VkRGVsdGFzW3YgKiBudW1Db21wb25lbnRzICsgbnVtQ29tcG9uZW50cyArIDJdID0gZmxvYXQySGFsZihkYXRhW2luZGV4ICogMyArIDJdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYWNrZWREZWx0YXNbdiAqIG51bUNvbXBvbmVudHMgKyBudW1Db21wb25lbnRzXSA9IGRhdGFbaW5kZXggKiAzXTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2VkRGVsdGFzW3YgKiBudW1Db21wb25lbnRzICsgbnVtQ29tcG9uZW50cyArIDFdID0gZGF0YVtpbmRleCAqIDMgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgcGFja2VkRGVsdGFzW3YgKiBudW1Db21wb25lbnRzICsgbnVtQ29tcG9uZW50cyArIDJdID0gZGF0YVtpbmRleCAqIDMgKyAyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0ZXh0dXJlIGFuZCBhc3NpZ24gaXQgdG8gdGFyZ2V0XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBkZWx0YUluZm9zW2ldLnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IHRoaXMuX3RleHR1cmVGb3JtYXQgPT09IE1vcnBoLkZPUk1BVF9GTE9BVCA/IFBJWEVMRk9STUFUX1JHQjMyRiA6IFBJWEVMRk9STUFUX1JHQkExNkY7XG4gICAgICAgICAgICB0YXJnZXQuX3NldFRleHR1cmUoZGVsdGFJbmZvc1tpXS5uYW1lLCB0aGlzLl9jcmVhdGVUZXh0dXJlKCdNb3JwaFRhcmdldCcsIGZvcm1hdCwgcGFja2VkRGVsdGFzKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgdmVydGV4IHN0cmVhbSB3aXRoIHZlcnRleF9pZCB1c2VkIHRvIG1hcCB2ZXJ0ZXggdG8gdGV4dHVyZVxuICAgICAgICBjb25zdCBmb3JtYXREZXNjID0gW3sgc2VtYW50aWM6IFNFTUFOVElDX0FUVFIxNSwgY29tcG9uZW50czogMSwgdHlwZTogVFlQRV9GTE9BVDMyIH1dO1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcklkcyA9IG5ldyBWZXJ0ZXhCdWZmZXIodGhpcy5kZXZpY2UsIG5ldyBWZXJ0ZXhGb3JtYXQodGhpcy5kZXZpY2UsIGZvcm1hdERlc2MpLCBpZHMubGVuZ3RoLCBCVUZGRVJfU1RBVElDLCBuZXcgRmxvYXQzMkFycmF5KGlkcykpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHZpZGVvIG1lbW9yeSBhbGxvY2F0ZWQgYnkgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJJZHM/LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJJZHMgPSBudWxsO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0c1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0cy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBtb3JwaCB0YXJnZXRzLlxuICAgICAqXG4gICAgICogQHR5cGUge2ltcG9ydCgnLi9tb3JwaC10YXJnZXQuanMnKS5Nb3JwaFRhcmdldFtdfVxuICAgICAqL1xuICAgIGdldCB0YXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0cztcbiAgICB9XG5cbiAgICBfdXBkYXRlTW9ycGhGbGFncygpIHtcblxuICAgICAgICAvLyBmaW5kIG91dCBpZiB0aGlzIG1vcnBoIG5lZWRzIHRvIG1vcnBoIHBvc2l0aW9ucyBhbmQgbm9ybWFsc1xuICAgICAgICB0aGlzLl9tb3JwaFBvc2l0aW9ucyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3JwaE5vcm1hbHMgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXRzW2ldO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5tb3JwaFBvc2l0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vcnBoUG9zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXJnZXQubW9ycGhOb3JtYWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9ycGhOb3JtYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jYWxjdWxhdGVBYWJiKCkge1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBtaW4gYW5kIG1heCBleHBhbnNpb24gc2l6ZVxuICAgICAgICAvLyBOb3RlOiBUaGlzIHJlcHJlc2VudHMgYXZlcmFnZSBjYXNlLCB3aGVyZSBtb3N0IG1vcnBoIHRhcmdldHMgZXhwYW5kIHRoZSBtZXNoIHdpdGhpbiB0aGUgc2FtZSBhcmVhLiBJdCBkb2VzIG5vdFxuICAgICAgICAvLyByZXByZXNlbnQgdGhlIHN0YWNrZWQgd29yc3QgY2FzZSBzY2VuYXJpbyB3aGVyZSBhbGwgbW9ycGhzIGNvdWxkIGJlIGVuYWJsZWQgYXQgdGhlIHNhbWUgdGltZSwgYXMgdGhpcyBjYW4gcmVzdWx0XG4gICAgICAgIC8vIGluIGEgdmVyeSBsYXJnZSBhYWJiLiBJbiBjYXNlcyBsaWtlIHRoaXMsIHRoZSB1c2VycyBzaG91bGQgc3BlY2lmeSBjdXN0b21BYWJiIGZvciBNb2RlbC9SZW5kZXIgY29tcG9uZW50LlxuICAgICAgICBjb25zdCBtaW4gPSBuZXcgVmVjMygpO1xuICAgICAgICBjb25zdCBtYXggPSBuZXcgVmVjMygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEFhYmIgPSB0aGlzLl90YXJnZXRzW2ldLmFhYmI7XG4gICAgICAgICAgICBtaW4ubWluKHRhcmdldEFhYmIuZ2V0TWluKCkpO1xuICAgICAgICAgICAgbWF4Lm1heCh0YXJnZXRBYWJiLmdldE1heCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWFiYiA9IG5ldyBCb3VuZGluZ0JveCgpO1xuICAgICAgICB0aGlzLmFhYmIuc2V0TWluTWF4KG1pbiwgbWF4KTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGVzIHRleHR1cmUuIFVzZWQgdG8gY3JlYXRlIGJvdGggc291cmNlIG1vcnBoIHRhcmdldCBkYXRhLCBhcyB3ZWxsIGFzIHJlbmRlciB0YXJnZXQgdXNlZCB0byBtb3JwaCB0aGVzZSBpbnRvLCBwb3NpdGlvbnMgYW5kIG5vcm1hbHNcbiAgICBfY3JlYXRlVGV4dHVyZShuYW1lLCBmb3JtYXQsIHBpeGVsRGF0YSkge1xuXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLmRldmljZSwge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMubW9ycGhUZXh0dXJlV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMubW9ycGhUZXh0dXJlSGVpZ2h0LFxuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgICBjdWJlbWFwOiBmYWxzZSxcbiAgICAgICAgICAgIG1pcG1hcHM6IGZhbHNlLFxuICAgICAgICAgICAgbWluRmlsdGVyOiBGSUxURVJfTkVBUkVTVCxcbiAgICAgICAgICAgIG1hZ0ZpbHRlcjogRklMVEVSX05FQVJFU1QsXG4gICAgICAgICAgICBhZGRyZXNzVTogQUREUkVTU19DTEFNUF9UT19FREdFLFxuICAgICAgICAgICAgYWRkcmVzc1Y6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHBpeGVsRGF0YSkge1xuICAgICAgICAgICAgdGV4dHVyZS5sb2NrKCkuc2V0KHBpeGVsRGF0YSk7XG4gICAgICAgICAgICB0ZXh0dXJlLnVubG9jaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxufVxuXG5leHBvcnQgeyBNb3JwaCB9O1xuIl0sIm5hbWVzIjpbIl9mbG9hdFJvdW5kaW5nIiwiTW9ycGgiLCJSZWZDb3VudGVkT2JqZWN0IiwiY29uc3RydWN0b3IiLCJ0YXJnZXRzIiwiZ3JhcGhpY3NEZXZpY2UiLCJEZWJ1ZyIsImFzc2VydERlcHJlY2F0ZWQiLCJkZXZpY2UiLCJHcmFwaGljc0RldmljZUFjY2VzcyIsImdldCIsImZvckVhY2giLCJ0YXJnZXQiLCJhc3NlcnQiLCJ1c2VkIiwiX3RhcmdldHMiLCJzbGljZSIsInN1cHBvcnRzTW9ycGhUYXJnZXRUZXh0dXJlc0NvcmUiLCJleHRUZXh0dXJlSGFsZkZsb2F0IiwidGV4dHVyZUhhbGZGbG9hdFJlbmRlcmFibGUiLCJfcmVuZGVyVGV4dHVyZUZvcm1hdCIsIkZPUk1BVF9IQUxGX0ZMT0FUIiwiZXh0VGV4dHVyZUZsb2F0IiwidGV4dHVyZUZsb2F0UmVuZGVyYWJsZSIsIkZPUk1BVF9GTE9BVCIsInRleHR1cmVIYWxmRmxvYXRVcGRhdGFibGUiLCJfdGV4dHVyZUZvcm1hdCIsInVuZGVmaW5lZCIsIl91c2VUZXh0dXJlTW9ycGgiLCJfaW5pdCIsIl91cGRhdGVNb3JwaEZsYWdzIiwiX2NhbGN1bGF0ZUFhYmIiLCJtb3JwaFBvc2l0aW9ucyIsIl9tb3JwaFBvc2l0aW9ucyIsIm1vcnBoTm9ybWFscyIsIl9tb3JwaE5vcm1hbHMiLCJtYXhBY3RpdmVUYXJnZXRzIiwibGVuZ3RoIiwidXNlVGV4dHVyZU1vcnBoIiwiX2luaXRUZXh0dXJlQmFzZWQiLCJpIiwiX2luaXRWZXJ0ZXhCdWZmZXJzIiwiX3Bvc3RJbml0IiwiZGVsdGFBcnJheXMiLCJkZWx0YUluZm9zIiwib3B0aW9ucyIsImRlbHRhUG9zaXRpb25zIiwicHVzaCIsIm5hbWUiLCJkZWx0YU5vcm1hbHMiLCJpZHMiLCJ1c2VkRGF0YUluZGljZXMiLCJmcmVlSW5kZXgiLCJkYXRhQ291bnQiLCJ2IiwidmVydGV4VXNlZCIsImRhdGEiLCJtYXhUZXh0dXJlU2l6ZSIsIk1hdGgiLCJtaW4iLCJtb3JwaFRleHR1cmVXaWR0aCIsImNlaWwiLCJzcXJ0IiwibW9ycGhUZXh0dXJlSGVpZ2h0IiwiaGFsZkZsb2F0IiwibnVtQ29tcG9uZW50cyIsImZsb2F0MkhhbGYiLCJGbG9hdFBhY2tpbmciLCJhcnJheVNpemUiLCJwYWNrZWREZWx0YXMiLCJVaW50MTZBcnJheSIsIkZsb2F0MzJBcnJheSIsImluZGV4IiwiZm9ybWF0IiwiUElYRUxGT1JNQVRfUkdCMzJGIiwiUElYRUxGT1JNQVRfUkdCQTE2RiIsIl9zZXRUZXh0dXJlIiwiX2NyZWF0ZVRleHR1cmUiLCJmb3JtYXREZXNjIiwic2VtYW50aWMiLCJTRU1BTlRJQ19BVFRSMTUiLCJjb21wb25lbnRzIiwidHlwZSIsIlRZUEVfRkxPQVQzMiIsInZlcnRleEJ1ZmZlcklkcyIsIlZlcnRleEJ1ZmZlciIsIlZlcnRleEZvcm1hdCIsIkJVRkZFUl9TVEFUSUMiLCJkZXN0cm95IiwiVmVjMyIsIm1heCIsInRhcmdldEFhYmIiLCJhYWJiIiwiZ2V0TWluIiwiZ2V0TWF4IiwiQm91bmRpbmdCb3giLCJzZXRNaW5NYXgiLCJwaXhlbERhdGEiLCJ0ZXh0dXJlIiwiVGV4dHVyZSIsIndpZHRoIiwiaGVpZ2h0IiwiY3ViZW1hcCIsIm1pcG1hcHMiLCJtaW5GaWx0ZXIiLCJGSUxURVJfTkVBUkVTVCIsIm1hZ0ZpbHRlciIsImFkZHJlc3NVIiwiQUREUkVTU19DTEFNUF9UT19FREdFIiwiYWRkcmVzc1YiLCJsb2NrIiwic2V0IiwidW5sb2NrIl0s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
