/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { FloatPacking } from '../math/float-packing.js';
import { Texture } from '../graphics/texture.js';
import { DeviceCache } from '../graphics/device-cache.js';
import { ADDRESS_CLAMP_TO_EDGE, TEXTURETYPE_DEFAULT, FILTER_LINEAR, FILTER_NEAREST, PIXELFORMAT_R8_G8_B8_A8, PIXELFORMAT_RGBA32F, PIXELFORMAT_RGBA16F } from '../graphics/constants.js';

class AreaLightCacheEntry {
  constructor(texture0, texture1) {
    this.texture0 = texture0;
    this.texture1 = texture1;
  }

  destroy() {
    var _this$texture, _this$texture2;

    (_this$texture = this.texture0) == null ? void 0 : _this$texture.destroy();
    (_this$texture2 = this.texture1) == null ? void 0 : _this$texture2.destroy();
  }

}

const deviceCache = new DeviceCache();

class AreaLightLuts {
  static createTexture(device, format, size, postfix = '') {
    const tex = new Texture(device, {
      width: size,
      height: size,
      format: format,
      addressU: ADDRESS_CLAMP_TO_EDGE,
      addressV: ADDRESS_CLAMP_TO_EDGE,
      type: TEXTURETYPE_DEFAULT,
      magFilter: FILTER_LINEAR,
      minFilter: FILTER_NEAREST,
      anisotropy: 1,
      name: `AreaLightLUT${postfix}`
    });
    return tex;
  }

  static applyTextures(device, texture1, texture2) {
    deviceCache.remove(device);
    deviceCache.get(device, () => {
      return new AreaLightCacheEntry(texture1, texture1 === texture2 ? null : texture2);
    });
    device.scope.resolve('areaLightsLutTex1').setValue(texture1);
    device.scope.resolve('areaLightsLutTex2').setValue(texture2);
  }

  static createPlaceholder(device) {
    const texture = AreaLightLuts.createTexture(device, PIXELFORMAT_R8_G8_B8_A8, 2, 'placeholder');
    const pixels = texture.lock();
    pixels.fill(0);
    texture.unlock();
    AreaLightLuts.applyTextures(device, texture, texture);
  }

  static set(device, ltcMat1, ltcMat2) {
    function buildTexture(device, data, format) {
      const texture = AreaLightLuts.createTexture(device, format, 64);
      texture.lock().set(data);
      texture.unlock();
      texture.upload();
      return texture;
    }

    function offsetScale(data, offset, scale) {
      const count = data.length;
      const ret = new Float32Array(count);

      for (let i = 0; i < count; i++) {
        const n = i % 4;
        ret[i] = (data[i] + offset[n]) * scale[n];
      }

      return ret;
    }

    function convertToHalfFloat(data) {
      const count = data.length;
      const ret = new Uint16Array(count);
      const float2Half = FloatPacking.float2Half;

      for (let i = 0; i < count; i++) {
        ret[i] = float2Half(data[i]);
      }

      return ret;
    }

    function convertToUint(data) {
      const count = data.length;
      const ret = new Uint8ClampedArray(count);

      for (let i = 0; i < count; i++) {
        ret[i] = data[i] * 255;
      }

      return ret;
    }

    const srcData1 = ltcMat1;
    const srcData2 = ltcMat2;
    let data1, data2;
    const format = device.areaLightLutFormat;

    if (format === PIXELFORMAT_RGBA32F) {
      data1 = srcData1;
      data2 = srcData2;
    } else if (format === PIXELFORMAT_RGBA16F) {
      data1 = convertToHalfFloat(srcData1);
      data2 = convertToHalfFloat(srcData2);
    } else {
      const o1 = [0.0, 0.2976, 0.01381, 0.0];
      const s1 = [0.999, 3.08737, 1.6546, 0.603249];
      const o2 = [-0.306897, 0.0, 0.0, 0.0];
      const s2 = [1.442787, 1.0, 1.0, 1.0];
      data1 = convertToUint(offsetScale(srcData1, o1, s1));
      data2 = convertToUint(offsetScale(srcData2, o2, s2));
    }

    const tex1 = buildTexture(device, data1, format);
    const tex2 = buildTexture(device, data2, format);
    AreaLightLuts.applyTextures(device, tex1, tex2);
  }

}

export { AreaLightLuts };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJlYS1saWdodC1sdXRzLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2NlbmUvYXJlYS1saWdodC1sdXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZsb2F0UGFja2luZyB9IGZyb20gJy4uL21hdGgvZmxvYXQtcGFja2luZy5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vZ3JhcGhpY3MvdGV4dHVyZS5qcyc7XG5pbXBvcnQgeyBEZXZpY2VDYWNoZSB9IGZyb20gJy4uL2dyYXBoaWNzL2RldmljZS1jYWNoZS5qcyc7XG5cbmltcG9ydCB7XG4gICAgQUREUkVTU19DTEFNUF9UT19FREdFLFxuICAgIEZJTFRFUl9MSU5FQVIsIEZJTFRFUl9ORUFSRVNULFxuICAgIFBJWEVMRk9STUFUX1I4X0c4X0I4X0E4LCBQSVhFTEZPUk1BVF9SR0JBMTZGLCBQSVhFTEZPUk1BVF9SR0JBMzJGLFxuICAgIFRFWFRVUkVUWVBFX0RFRkFVTFRcbn0gZnJvbSAnLi4vZ3JhcGhpY3MvY29uc3RhbnRzLmpzJztcblxuLy8gY2xhc3MgdXNlZCB0byBob2xkIExVVCB0ZXh0dXJlcyBpbiB0aGUgZGV2aWNlIGNhY2hlXG5jbGFzcyBBcmVhTGlnaHRDYWNoZUVudHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlMCwgdGV4dHVyZTEpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlMCA9IHRleHR1cmUwO1xuICAgICAgICB0aGlzLnRleHR1cmUxID0gdGV4dHVyZTE7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlMD8uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnRleHR1cmUxPy5kZXN0cm95KCk7XG4gICAgfVxufVxuXG4vLyBkZXZpY2UgY2FjaGUgc3RvcmluZyBMVVQgdGV4dHVyZXMsIHRha2luZyBjYXJlIG9mIHRoZWlyIHJlbW92YWwgd2hlbiB0aGUgZGV2aWNlIGlzIGRlc3Ryb3llZFxuY29uc3QgZGV2aWNlQ2FjaGUgPSBuZXcgRGV2aWNlQ2FjaGUoKTtcblxuLy8gc3RhdGljIGNsYXNzIG1hbmFnaW5nIExVVCB0YWJsZXMgZm9yIHRoZSBhcmVhIGxpZ2h0c1xuY2xhc3MgQXJlYUxpZ2h0THV0cyB7XG4gICAgc3RhdGljIGNyZWF0ZVRleHR1cmUoZGV2aWNlLCBmb3JtYXQsIHNpemUsIHBvc3RmaXggPSAnJykge1xuICAgICAgICBjb25zdCB0ZXggPSBuZXcgVGV4dHVyZShkZXZpY2UsIHtcbiAgICAgICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgICAgICBhZGRyZXNzVTogQUREUkVTU19DTEFNUF9UT19FREdFLFxuICAgICAgICAgICAgYWRkcmVzc1Y6IEFERFJFU1NfQ0xBTVBfVE9fRURHRSxcbiAgICAgICAgICAgIHR5cGU6IFRFWFRVUkVUWVBFX0RFRkFVTFQsXG4gICAgICAgICAgICBtYWdGaWx0ZXI6IEZJTFRFUl9MSU5FQVIsXG4gICAgICAgICAgICBtaW5GaWx0ZXI6IEZJTFRFUl9ORUFSRVNULFxuICAgICAgICAgICAgYW5pc290cm9weTogMSxcbiAgICAgICAgICAgIG5hbWU6IGBBcmVhTGlnaHRMVVQke3Bvc3RmaXh9YFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRleDtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXBwbHlUZXh0dXJlcyhkZXZpY2UsIHRleHR1cmUxLCB0ZXh0dXJlMikge1xuICAgICAgICAvLyByZW1vdmUgcHJldmlvdXMgdGV4dHVyZXMgZnJvbSBjYWNoZVxuICAgICAgICBkZXZpY2VDYWNoZS5yZW1vdmUoZGV2aWNlKTtcblxuICAgICAgICAvLyBhZGQgbmV3IHRleHR1cmVzIHRvIGNhY2hlXG4gICAgICAgIGRldmljZUNhY2hlLmdldChkZXZpY2UsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXJlYUxpZ2h0Q2FjaGVFbnRyeSh0ZXh0dXJlMSwgdGV4dHVyZTEgPT09IHRleHR1cmUyID8gbnVsbCA6IHRleHR1cmUyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0IHRoZW0gYXMgdW5pZm9ybXNcbiAgICAgICAgZGV2aWNlLnNjb3BlLnJlc29sdmUoJ2FyZWFMaWdodHNMdXRUZXgxJykuc2V0VmFsdWUodGV4dHVyZTEpO1xuICAgICAgICBkZXZpY2Uuc2NvcGUucmVzb2x2ZSgnYXJlYUxpZ2h0c0x1dFRleDInKS5zZXRWYWx1ZSh0ZXh0dXJlMik7XG4gICAgfVxuXG4gICAgLy8gcGxhY2Vob2xkZXIgTFVUIHRleHR1cmVzIGZvciBhcmVhIGxpZ2h0XG4gICAgc3RhdGljIGNyZWF0ZVBsYWNlaG9sZGVyKGRldmljZSkge1xuICAgICAgICBjb25zdCB0ZXh0dXJlID0gQXJlYUxpZ2h0THV0cy5jcmVhdGVUZXh0dXJlKGRldmljZSwgUElYRUxGT1JNQVRfUjhfRzhfQjhfQTgsIDIsICdwbGFjZWhvbGRlcicpO1xuXG4gICAgICAgIGNvbnN0IHBpeGVscyA9IHRleHR1cmUubG9jaygpO1xuICAgICAgICBwaXhlbHMuZmlsbCgwKTtcbiAgICAgICAgdGV4dHVyZS51bmxvY2soKTtcblxuICAgICAgICBBcmVhTGlnaHRMdXRzLmFwcGx5VGV4dHVyZXMoZGV2aWNlLCB0ZXh0dXJlLCB0ZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGVzIExVVCB0ZXh0dXJlIHVzZWQgYnkgYXJlYSBsaWdodHNcbiAgICBzdGF0aWMgc2V0KGRldmljZSwgbHRjTWF0MSwgbHRjTWF0Mikge1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkVGV4dHVyZShkZXZpY2UsIGRhdGEsIGZvcm1hdCkge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IEFyZWFMaWdodEx1dHMuY3JlYXRlVGV4dHVyZShkZXZpY2UsIGZvcm1hdCwgNjQpO1xuXG4gICAgICAgICAgICB0ZXh0dXJlLmxvY2soKS5zZXQoZGF0YSk7XG4gICAgICAgICAgICB0ZXh0dXJlLnVubG9jaygpO1xuICAgICAgICAgICAgdGV4dHVyZS51cGxvYWQoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvZmZzZXRTY2FsZShkYXRhLCBvZmZzZXQsIHNjYWxlKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCByZXQgPSBuZXcgRmxvYXQzMkFycmF5KGNvdW50KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBpICUgNDtcbiAgICAgICAgICAgICAgICByZXRbaV0gPSAoZGF0YVtpXSArIG9mZnNldFtuXSkgKiBzY2FsZVtuXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb252ZXJ0VG9IYWxmRmxvYXQoZGF0YSkge1xuXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gbmV3IFVpbnQxNkFycmF5KGNvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0MkhhbGYgPSBGbG9hdFBhY2tpbmcuZmxvYXQySGFsZjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHJldFtpXSA9IGZsb2F0MkhhbGYoZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb252ZXJ0VG9VaW50KGRhdGEpIHtcblxuICAgICAgICAgICAgY29uc3QgY291bnQgPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IG5ldyBVaW50OENsYW1wZWRBcnJheShjb3VudCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXRbaV0gPSBkYXRhW2ldICogMjU1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3JjRGF0YTEgPSBsdGNNYXQxO1xuICAgICAgICBjb25zdCBzcmNEYXRhMiA9IGx0Y01hdDI7XG5cbiAgICAgICAgLy8gcGljayBmb3JtYXQgZm9yIGx1dCB0ZXh0dXJlXG4gICAgICAgIGxldCBkYXRhMSwgZGF0YTI7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGRldmljZS5hcmVhTGlnaHRMdXRGb3JtYXQ7XG4gICAgICAgIGlmIChmb3JtYXQgPT09IFBJWEVMRk9STUFUX1JHQkEzMkYpIHtcblxuICAgICAgICAgICAgLy8gZmxvYXRcbiAgICAgICAgICAgIGRhdGExID0gc3JjRGF0YTE7XG4gICAgICAgICAgICBkYXRhMiA9IHNyY0RhdGEyO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSBQSVhFTEZPUk1BVF9SR0JBMTZGKSB7XG5cbiAgICAgICAgICAgIC8vIGhhbGYgZmxvYXRcbiAgICAgICAgICAgIGRhdGExID0gY29udmVydFRvSGFsZkZsb2F0KHNyY0RhdGExKTtcbiAgICAgICAgICAgIGRhdGEyID0gY29udmVydFRvSGFsZkZsb2F0KHNyY0RhdGEyKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBsb3cgcHJlY2lzaW9uIGZvcm1hdFxuICAgICAgICAgICAgLy8gb2Zmc2V0IGFuZCBzY2FsZSB0byBhdm9pZCBjbGlwcGluZyBhbmQgaW5jcmVhc2UgcHJlY2lzaW9uIC0gdGhpcyBpcyB1bmRvbmUgaW4gdGhlIHNoYWRlclxuICAgICAgICAgICAgY29uc3QgbzEgPSBbMC4wLCAwLjI5NzYsIDAuMDEzODEsIDAuMF07XG4gICAgICAgICAgICBjb25zdCBzMSA9IFswLjk5OSwgMy4wODczNywgMS42NTQ2LCAwLjYwMzI0OV07XG5cbiAgICAgICAgICAgIGNvbnN0IG8yID0gWy0wLjMwNjg5NywgMC4wLCAwLjAsIDAuMF07XG4gICAgICAgICAgICBjb25zdCBzMiA9IFsxLjQ0Mjc4NywgMS4wLCAxLjAsIDEuMF07XG5cbiAgICAgICAgICAgIGRhdGExID0gY29udmVydFRvVWludChvZmZzZXRTY2FsZShzcmNEYXRhMSwgbzEsIHMxKSk7XG4gICAgICAgICAgICBkYXRhMiA9IGNvbnZlcnRUb1VpbnQob2Zmc2V0U2NhbGUoc3JjRGF0YTIsIG8yLCBzMikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIGx1dCB0ZXh0dXJlc1xuICAgICAgICBjb25zdCB0ZXgxID0gYnVpbGRUZXh0dXJlKGRldmljZSwgZGF0YTEsIGZvcm1hdCk7XG4gICAgICAgIGNvbnN0IHRleDIgPSBidWlsZFRleHR1cmUoZGV2aWNlLCBkYXRhMiwgZm9ybWF0KTtcblxuICAgICAgICAvLyBhc3NpZ24gdG8gdW5pZm9ybXNcbiAgICAgICAgQXJlYUxpZ2h0THV0cy5hcHBseVRleHR1cmVzKGRldmljZSwgdGV4MSwgdGV4Mik7XG4gICAgfVxufVxuXG5leHBvcnQgeyBBcmVhTGlnaHRMdXRzIH07XG4iXSwibmFtZXMiOlsiQXJlYUxpZ2h0Q2FjaGVFbnRyeSIsImNvbnN0cnVjdG9yIiwidGV4dHVyZTAiLCJ0ZXh0dXJlMSIsImRlc3Ryb3kiLCJkZXZpY2VDYWNoZSIsIkRldmljZUNhY2hlIiwiQXJlYUxpZ2h0THV0cyIsImNyZWF0ZVRleHR1cmUiLCJkZXZpY2UiLCJmb3JtYXQiLCJzaXplIiwicG9zdGZpeCIsInRleCIsIlRleHR1cmUiLCJ3aWR0aCIsImhlaWdodCIsImFkZHJlc3NVIiwiQUREUkVTU19DTEFNUF9UT19FREdFIiwiYWRkcmVzc1YiLCJ0eXBlIiwiVEVYVFVSRVRZUEVfREVGQVVMVCIsIm1hZ0ZpbHRlciIsIkZJTFRFUl9MSU5FQVIiLCJtaW5GaWx0ZXIiLCJGSUxURVJfTkVBUkVTVCIsImFuaXNvdHJvcHkiLCJuYW1lIiwiYXBwbHlUZXh0dXJlcyIsInRleHR1cmUyIiwicmVtb3ZlIiwiZ2V0Iiwic2NvcGUiLCJyZXNvbHZlIiwic2V0VmFsdWUiLCJjcmVhdGVQbGFjZWhvbGRlciIsInRleHR1cmUiLCJQSVhFTEZPUk1BVF9SOF9HOF9COF9BOCIsInBpeGVscyIsImxvY2siLCJmaWxsIiwidW5sb2NrIiwic2V0IiwibHRjTWF0MSIsImx0Y01hdDIiLCJidWlsZFRleHR1cmUiLCJkYXRhIiwidXBsb2FkIiwib2Zmc2V0U2NhbGUiLCJvZmZzZXQiLCJzY2FsZSIsImNvdW50IiwibGVuZ3RoIiwicmV0IiwiRmxvYXQzMkFycmF5IiwiaSIsIm4iLCJjb252ZXJ0VG9IYWxmRmxvYXQiLCJVaW50MTZBcnJheSIsImZsb2F0MkhhbGYiLCJGbG9hdFBhY2tpbmciLCJjb252ZXJ0VG9VaW50IiwiVWludDhDbGFtcGVkQXJyYXkiLCJzcmNEYXRhMSIsInNyY0RhdGEyIiwiZGF0YTEiLCJkYXRhMiIsImFyZWFMaWdodEx1dEZvcm1hdCIsIlBJWEVMRk9STUFUX1JHQkEzMkYiLCJQSVhFTEZPUk1BVF9SR0JBMTZGIiwibzEiLCJzMSIsIm8yIiwiczIiLCJ0ZXgxIiwidGV4MiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQVlBLE1BQU1BLG1CQUFOLENBQTBCO0FBQ3RCQyxFQUFBQSxXQUFXLENBQUNDLFFBQUQsRUFBV0MsUUFBWCxFQUFxQjtJQUM1QixJQUFLRCxDQUFBQSxRQUFMLEdBQWdCQSxRQUFoQixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQkEsUUFBaEIsQ0FBQTtBQUNILEdBQUE7O0FBRURDLEVBQUFBLE9BQU8sR0FBRztBQUFBLElBQUEsSUFBQSxhQUFBLEVBQUEsY0FBQSxDQUFBOztJQUNOLENBQUtGLGFBQUFBLEdBQUFBLElBQUFBLENBQUFBLFFBQUwsbUNBQWVFLE9BQWYsRUFBQSxDQUFBO0lBQ0EsQ0FBS0QsY0FBQUEsR0FBQUEsSUFBQUEsQ0FBQUEsUUFBTCxvQ0FB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
