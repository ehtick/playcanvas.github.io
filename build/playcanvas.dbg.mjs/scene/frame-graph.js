/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { TRACEID_RENDER_PASS, TRACEID_RENDER_PASS_DETAIL } from '../core/constants.js';
import { Debug } from '../core/debug.js';
import { Tracing } from '../core/tracing.js';

class FrameGraph {
  constructor() {
    this.renderPasses = [];
    this.renderTargetMap = new Map();
  }

  addRenderPass(renderPass) {
    this.renderPasses.push(renderPass);
  }

  reset() {
    this.renderPasses.length = 0;
  }

  compile() {
    const renderTargetMap = this.renderTargetMap;
    const renderPasses = this.renderPasses;

    for (let i = 0; i < renderPasses.length; i++) {
      const renderPass = renderPasses[i];
      const renderTarget = renderPass.renderTarget;

      if (renderTarget !== undefined) {
        const prevPass = renderTargetMap.get(renderTarget);

        if (prevPass) {
          if (!renderPass.colorOps.clear) {
            prevPass.colorOps.store = true;
          }

          if (!renderPass.depthStencilOps.clearDepth) {
            prevPass.depthStencilOps.storeDepth = true;
          }

          if (!renderPass.depthStencilOps.clearStencil) {
            prevPass.depthStencilOps.storeStencil = true;
          }
        }

        renderTargetMap.set(renderTarget, renderPass);
      }
    }

    let lastCubeTexture = null;
    let lastCubeRenderPass = null;

    for (let i = 0; i < renderPasses.length; i++) {
      const renderPass = renderPasses[i];
      const renderTarget = renderPass.renderTarget;
      const thisTexture = renderTarget == null ? void 0 : renderTarget.colorBuffer;

      if (thisTexture != null && thisTexture.cubemap) {
        if (lastCubeTexture === thisTexture) {
          lastCubeRenderPass.colorOps.mipmaps = false;
        }

        lastCubeTexture = renderTarget.colorBuffer;
        lastCubeRenderPass = renderPass;
      } else if (renderPass.requiresCubemaps) {
        lastCubeTexture = null;
        lastCubeRenderPass = null;
      }
    }

    renderTargetMap.forEach((renderPass, renderTarget) => {
      if (renderTarget === null) {
        renderPass.colorOps.store = true;
        renderPass.colorOps.resolve = false;
        renderPass.colorOps.mipmaps = false;
      }
    });
    renderTargetMap.clear();
    this.log();
  }

  render() {
    this.compile();
    const renderPasses = this.renderPasses;

    for (let i = 0; i < renderPasses.length; i++) {
      renderPasses[i].render();
    }
  }

  log() {
    if (Tracing.get(TRACEID_RENDER_PASS) || Tracing.get(TRACEID_RENDER_PASS_DETAIL)) {
      this.renderPasses.forEach((renderPass, index) => {
        var _renderPass$renderTar, _renderPass$renderTar2, _renderPass$renderTar3;

        const rt = renderPass.renderTarget === undefined ? '' : ` RT: ${renderPass.renderTarget ? renderPass.renderTarget.name : 'NULL'} ` + `${(_renderPass$renderTar = renderPass.renderTarget) != null && _renderPass$renderTar.colorBuffer ? '[Color]' : ''}` + `${(_renderPass$renderTar2 = renderPass.renderTarget) != null && _renderPass$renderTar2.depth ? '[Depth]' : ''}` + `${(_renderPass$renderTar3 = renderPass.renderTarget) != null && _renderPass$renderTar3.stencil ? '[Stencil]' : ''}` + `${renderPass.samples > 0 ? ' samples: ' + renderPass.samples : ''}`;
        Debug.trace(TRACEID_RENDER_PASS, `${index.toString().padEnd(2, ' ')}: ${renderPass.name.padEnd(20, ' ')}` + rt.padEnd(30));

        if (renderPass.colorOps) {
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    colorOps: ` + `${renderPass.colorOps.clear ? 'clear' : 'load'}->` + `${renderPass.colorOps.store ? 'store' : 'discard'} ` + `${renderPass.colorOps.resolve ? 'resolve ' : ''}` + `${renderPass.colorOps.mipmaps ? 'mipmaps ' : ''}`);
        }

        if (renderPass.depthStencilOps) {
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    depthOps: ` + `${renderPass.depthStencilOps.clearDepth ? 'clear' : 'load'}->` + `${renderPass.depthStencilOps.storeDepth ? 'store' : 'discard'}`);
          Debug.trace(TRACEID_RENDER_PASS_DETAIL, `    stencOps: ` + `${renderPass.depthStencilOps.clearStencil ? 'clear' : 'load'}->` + `${renderPass.depthStencilOps.storeStencil ? 'store' : 'discard'}`);
        }
      });
    }
  }

}

export { FrameGraph };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWUtZ3JhcGguanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zY2VuZS9mcmFtZS1ncmFwaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUUkFDRUlEX1JFTkRFUl9QQVNTLCBUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCB9IGZyb20gJy4uL2NvcmUvY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IERlYnVnIH0gZnJvbSAnLi4vY29yZS9kZWJ1Zy5qcyc7XG5pbXBvcnQgeyBUcmFjaW5nIH0gZnJvbSAnLi4vY29yZS90cmFjaW5nLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2dyYXBoaWNzL3JlbmRlci1wYXNzLmpzJykuUmVuZGVyUGFzc30gUmVuZGVyUGFzcyAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2dyYXBoaWNzL3JlbmRlci10YXJnZXQuanMnKS5SZW5kZXJUYXJnZXR9IFJlbmRlclRhcmdldCAqL1xuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2dyYXBoaWNzL3RleHR1cmUuanMnKS5UZXh0dXJlfSBUZXh0dXJlICovXG5cbi8qKlxuICogQSBmcmFtZSBncmFwaCByZXByZXNlbnRzIGEgc2luZ2xlIHJlbmRlcmluZyBmcmFtZSBhcyBhIHNlcXVlbmNlIG9mIHJlbmRlciBwYXNzZXMuXG4gKlxuICogQGlnbm9yZVxuICovXG5jbGFzcyBGcmFtZUdyYXBoIHtcbiAgICAvKiogQHR5cGUge1JlbmRlclBhc3NbXX0gKi9cbiAgICByZW5kZXJQYXNzZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIE1hcCB1c2VkIGR1cmluZyBmcmFtZSBncmFwaCBjb21waWxhdGlvbi4gSXQgbWFwcyBhIHJlbmRlciB0YXJnZXQgdG8gaXRzIHByZXZpb3VzIG9jY3VycmVuY2UuXG4gICAgICpcbiAgICAgKiAgQHR5cGUge01hcDxSZW5kZXJUYXJnZXQsIFJlbmRlclBhc3M+fVxuICAgICAqL1xuICAgIHJlbmRlclRhcmdldE1hcCA9IG5ldyBNYXAoKTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHJlbmRlciBwYXNzIHRvIHRoZSBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVuZGVyUGFzc30gcmVuZGVyUGFzcyAtIFRoZSByZW5kZXIgcGFzcyB0byBhZGQuXG4gICAgICovXG4gICAgYWRkUmVuZGVyUGFzcyhyZW5kZXJQYXNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUGFzc2VzLnB1c2gocmVuZGVyUGFzcyk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyUGFzc2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgY29tcGlsZSgpIHtcblxuICAgICAgICBjb25zdCByZW5kZXJUYXJnZXRNYXAgPSB0aGlzLnJlbmRlclRhcmdldE1hcDtcbiAgICAgICAgY29uc3QgcmVuZGVyUGFzc2VzID0gdGhpcy5yZW5kZXJQYXNzZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyUGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJQYXNzID0gcmVuZGVyUGFzc2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gcmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHVzaW5nIGEgdGFyZ2V0LCBvciBudWxsIHdoaWNoIHJlcHJlc2VudHMgdGhlIGRlZmF1bHQgZnJhbWVidWZmZXJcbiAgICAgICAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcHJldmlvdXMgcGFzcyB1c2luZyB0aGUgc2FtZSByZW5kZXIgdGFyZ2V0XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlBhc3MgPSByZW5kZXJUYXJnZXRNYXAuZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZQYXNzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgdXNlIHRoZSBSVCB3aXRob3V0IGNsZWFyaW5nLCBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIHBhc3Mgc3RvcmVzIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmNvbG9yT3BzLmNsZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2UGFzcy5jb2xvck9wcy5zdG9yZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhckRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2UGFzcy5kZXB0aFN0ZW5jaWxPcHMuc3RvcmVEZXB0aCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhclN0ZW5jaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZQYXNzLmRlcHRoU3RlbmNpbE9wcy5zdG9yZVN0ZW5jaWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBwYXNzIHRvIHRoZSBtYXBcbiAgICAgICAgICAgICAgICByZW5kZXJUYXJnZXRNYXAuc2V0KHJlbmRlclRhcmdldCwgcmVuZGVyUGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXYWxrIG92ZXIgcmVuZGVyIHBhc3NlcyB0byBmaW5kIHBhc3NlcyByZW5kZXJpbmcgdG8gdGhlIHNhbWUgY3ViZW1hcCB0ZXh0dXJlLlxuICAgICAgICAvLyBJZiB0aG9zZSBwYXNzZXMgYXJlIHNlcGFyYXRlZCBvbmx5IGJ5IHBhc3NlcyBub3QgcmVxdWlyaW5nIGN1YmVtYXAgKHNoYWRvd3MgLi4pLFxuICAgICAgICAvLyB3ZSBza2lwIHRoZSBtaXBtYXAgZ2VuZXJhdGlvbiB0aWxsIHRoZSBsYXN0IHJlbmRlcmluZyB0byB0aGUgY3ViZW1hcCwgdG8gYXZvaWRcbiAgICAgICAgLy8gbWlwbWFwcyBiZWluZyBnZW5lcmF0ZWQgYWZ0ZXIgZWFjaCBmYWNlLlxuICAgICAgICAvKiogQHR5cGUge1RleHR1cmV9ICovXG4gICAgICAgIGxldCBsYXN0Q3ViZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAvKiogQHR5cGUge1JlbmRlclBhc3N9ICovXG4gICAgICAgIGxldCBsYXN0Q3ViZVJlbmRlclBhc3MgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlclBhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyUGFzcyA9IHJlbmRlclBhc3Nlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHJlbmRlclBhc3MucmVuZGVyVGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgdGhpc1RleHR1cmUgPSByZW5kZXJUYXJnZXQ/LmNvbG9yQnVmZmVyO1xuXG4gICAgICAgICAgICBpZiAodGhpc1RleHR1cmU/LmN1YmVtYXApIHtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHByZXZpb3VzIHBhc3MgdXNlZCB0aGUgc2FtZSBjdWJlbWFwIHRleHR1cmUsIGl0IGRvZXMgbm90IG5lZWQgbWltYXBzIGdlbmVyYXRlZFxuICAgICAgICAgICAgICAgIGlmIChsYXN0Q3ViZVRleHR1cmUgPT09IHRoaXNUZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RDdWJlUmVuZGVyUGFzcy5jb2xvck9wcy5taXBtYXBzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGFzdEN1YmVUZXh0dXJlID0gcmVuZGVyVGFyZ2V0LmNvbG9yQnVmZmVyO1xuICAgICAgICAgICAgICAgIGxhc3RDdWJlUmVuZGVyUGFzcyA9IHJlbmRlclBhc3M7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVuZGVyUGFzcy5yZXF1aXJlc0N1YmVtYXBzKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgY3ViZW1hcCBpcyByZXF1aXJlZCwgYnJlYWsgdGhlIGN1YmVtYXAgcmVuZGVyaW5nIGNoYWluXG4gICAgICAgICAgICAgICAgbGFzdEN1YmVUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsYXN0Q3ViZVJlbmRlclBhc3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIHdoYXQncyBsZWZ0IGluIHRoZSBtYXAgLSBsYXN0IHBhc3NlcyByZW5kZXJpbmcgdG8gZWFjaCByZW5kZXIgdGFyZ2V0XG4gICAgICAgIHJlbmRlclRhcmdldE1hcC5mb3JFYWNoKChyZW5kZXJQYXNzLCByZW5kZXJUYXJnZXQpID0+IHtcblxuICAgICAgICAgICAgLy8gZGVmYXVsdCBmcmFtZWJ1ZmZlclxuICAgICAgICAgICAgaWYgKHJlbmRlclRhcmdldCA9PT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIG11bHRpc2FtcGxlZCBidWZmZXJcbiAgICAgICAgICAgICAgICByZW5kZXJQYXNzLmNvbG9yT3BzLnN0b3JlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG5vIHJlc29sdmUsIG5vIG1pcG1hcHNcbiAgICAgICAgICAgICAgICByZW5kZXJQYXNzLmNvbG9yT3BzLnJlc29sdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZW5kZXJQYXNzLmNvbG9yT3BzLm1pcG1hcHMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVuZGVyVGFyZ2V0TWFwLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5sb2coKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgdGhpcy5jb21waWxlKCk7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyUGFzc2VzID0gdGhpcy5yZW5kZXJQYXNzZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyUGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZW5kZXJQYXNzZXNbaV0ucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2coKSB7XG4gICAgICAgIC8vICNpZiBfREVCVUdcbiAgICAgICAgaWYgKFRyYWNpbmcuZ2V0KFRSQUNFSURfUkVOREVSX1BBU1MpIHx8IFRyYWNpbmcuZ2V0KFRSQUNFSURfUkVOREVSX1BBU1NfREVUQUlMKSkge1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhc3Nlcy5mb3JFYWNoKChyZW5kZXJQYXNzLCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcnQgPSByZW5kZXJQYXNzLnJlbmRlclRhcmdldCA9PT0gdW5kZWZpbmVkID8gJycgOiBgIFJUOiAkeyhyZW5kZXJQYXNzLnJlbmRlclRhcmdldCA/IHJlbmRlclBhc3MucmVuZGVyVGFyZ2V0Lm5hbWUgOiAnTlVMTCcpfSBgICtcbiAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5yZW5kZXJUYXJnZXQ/LmNvbG9yQnVmZmVyID8gJ1tDb2xvcl0nIDogJyd9YCArXG4gICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MucmVuZGVyVGFyZ2V0Py5kZXB0aCA/ICdbRGVwdGhdJyA6ICcnfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLnJlbmRlclRhcmdldD8uc3RlbmNpbCA/ICdbU3RlbmNpbF0nIDogJyd9YCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyhyZW5kZXJQYXNzLnNhbXBsZXMgPiAwID8gJyBzYW1wbGVzOiAnICsgcmVuZGVyUGFzcy5zYW1wbGVzIDogJycpfWA7XG5cbiAgICAgICAgICAgICAgICBEZWJ1Zy50cmFjZShUUkFDRUlEX1JFTkRFUl9QQVNTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke2luZGV4LnRvU3RyaW5nKCkucGFkRW5kKDIsICcgJyl9OiAke3JlbmRlclBhc3MubmFtZS5wYWRFbmQoMjAsICcgJyl9YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnQucGFkRW5kKDMwKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyUGFzcy5jb2xvck9wcykge1xuICAgICAgICAgICAgICAgICAgICBEZWJ1Zy50cmFjZShUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCwgYCAgICBjb2xvck9wczogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuY29sb3JPcHMuY2xlYXIgPyAnY2xlYXInIDogJ2xvYWQnfS0+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuY29sb3JPcHMuc3RvcmUgPyAnc3RvcmUnIDogJ2Rpc2NhcmQnfSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5jb2xvck9wcy5yZXNvbHZlID8gJ3Jlc29sdmUgJyA6ICcnfWAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLmNvbG9yT3BzLm1pcG1hcHMgPyAnbWlwbWFwcyAnIDogJyd9YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlclBhc3MuZGVwdGhTdGVuY2lsT3BzKSB7XG4gICAgICAgICAgICAgICAgICAgIERlYnVnLnRyYWNlKFRSQUNFSURfUkVOREVSX1BBU1NfREVUQUlMLCBgICAgIGRlcHRoT3BzOiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5kZXB0aFN0ZW5jaWxPcHMuY2xlYXJEZXB0aCA/ICdjbGVhcicgOiAnbG9hZCd9LT5gICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cmVuZGVyUGFzcy5kZXB0aFN0ZW5jaWxPcHMuc3RvcmVEZXB0aCA/ICdzdG9yZScgOiAnZGlzY2FyZCd9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgRGVidWcudHJhY2UoVFJBQ0VJRF9SRU5ERVJfUEFTU19ERVRBSUwsIGAgICAgc3RlbmNPcHM6IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtyZW5kZXJQYXNzLmRlcHRoU3RlbmNpbE9wcy5jbGVhclN0ZW5jaWwgPyAnY2xlYXInIDogJ2xvYWQnfS0+YCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3JlbmRlclBhc3MuZGVwdGhTdGVuY2lsT3BzLnN0b3JlU3RlbmNpbCA/ICdzdG9yZScgOiAnZGlzY2FyZCd9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gI2VuZGlmXG4gICAgfVxufVxuXG5leHBvcnQgeyBGcmFtZUdyYXBoIH07XG4iXSwibmFtZXMiOlsiRnJhbWVHcmFwaCIsInJlbmRlclBhc3NlcyIsInJlbmRlclRhcmdldE1hcCIsIk1hcCIsImFkZFJlbmRlclBhc3MiLCJyZW5kZXJQYXNzIiwicHVzaCIsInJlc2V0IiwibGVuZ3RoIiwiY29tcGlsZSIsImkiLCJyZW5kZXJUYXJnZXQiLCJ1bmRlZmluZWQiLCJwcmV2UGFzcyIsImdldCIsImNvbG9yT3BzIiwiY2xlYXIiLCJzdG9yZSIsImRlcHRoU3RlbmNpbE9wcyIsImNsZWFyRGVwdGgiLCJzdG9yZURlcHRoIiwiY2xlYXJTdGVuY2lsIiwic3RvcmVTdGVuY2lsIiwic2V0IiwibGFzdEN1YmVUZXh0dXJlIiwibGFzdEN1YmVSZW5kZXJQYXNzIiwidGhpc1RleHR1cmUiLCJjb2xvckJ1ZmZlciIsImN1YmVtYXAiLCJtaXBtYXBzIiwicmVxdWlyZXNDdWJlbWFwcyIsImZvckVhY2giLCJyZXNvbHZlIiwibG9nIiwicmVuZGVyIiwiVHJhY2luZyIsIlRSQUNFSURfUkVOREVSX1BBU1MiLCJUUkFDRUlEX1JFTkRFUl9QQVNTX0RFVEFJTCIsImluZGV4IiwicnQiLCJuYW1lIiwiZGVwdGgiLCJzdGVuY2lsIiwic2FtcGxlcyIsIkRlYnVnIiwidHJhY2UiLCJ0b1N0cmluZyIsInBhZEVuZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBYUEsTUFBTUEsVUFBTixDQUFpQjtBQUFBLEVBQUEsV0FBQSxHQUFBO0lBQUEsSUFFYkMsQ0FBQUEsWUFGYSxHQUVFLEVBRkYsQ0FBQTtBQUFBLElBQUEsSUFBQSxDQVNiQyxlQVRhLEdBU0ssSUFBSUMsR0FBSixFQVRMLENBQUE7QUFBQSxHQUFBOztFQWdCYkMsYUFBYSxDQUFDQyxVQUFELEVBQWE7QUFDdEIsSUFBQSxJQUFBLENBQUtKLFlBQUwsQ0FBa0JLLElBQWxCLENBQXVCRCxVQUF2QixDQUFBLENBQUE7QUFDSCxHQUFBOztBQUVERSxFQUFBQSxLQUFLLEdBQUc7QUFDSixJQUFBLElBQUEsQ0FBS04sWUFBTCxDQUFrQk8sTUFBbEIsR0FBMkIsQ0FBM0IsQ0FBQTtBQUNILEdBQUE7O0FBRURDLEVBQUFBLE9BQU8sR0FBRztJQUVOLE1BQU1QLGVBQWUsR0FBRyxJQUFBLENBQUtBLGVBQTdCLENBQUE7SUFDQSxNQUFNRCxZQUFZLEdBQUcsSUFBQSxDQUFLQSxZQUExQixDQUFBOztBQUNBLElBQUEsS0FBSyxJQUFJUyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHVCxZQUFZLENBQUNPLE1BQWpDLEVBQXlDRSxDQUFDLEVBQTFDLEVBQThDO0FBQzFDLE1BQUEsTUFBTUwsVUFBVSxHQUFHSixZQUFZLENBQUNTLENBQUQsQ0FBL0IsQ0FBQTtBQUNBLE1BQUEsTUFBTUMsWUFBWSxHQUFHTixVQUFVLENBQUNNLFlBQWhDLENBQUE7O01BR0EsSUFBSUEsWUFBWSxLQUFLQyxTQUFyQixFQUFnQztBQUc1QixRQUFBLE1BQU1DLFFBQVEsR0FBR1gsZUFBZSxDQUFDWSxHQUFoQixDQUFvQkgsWUFBcEIsQ0FBakIsQ0FBQTs7QUFDQSxRQUFBLElBQUlFLFFBQUosRUFB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
