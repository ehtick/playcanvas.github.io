/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { EventHandler } from '../core/event-handler.js';

class TextureAtlas extends EventHandler {
  constructor() {
    super();
    this._texture = null;
    this._frames = null;
  }

  set texture(value) {
    this._texture = value;
    this.fire('set:texture', value);
  }

  get texture() {
    return this._texture;
  }

  set frames(value) {
    this._frames = value;
    this.fire('set:frames', value);
  }

  get frames() {
    return this._frames;
  }

  setFrame(key, data) {
    let frame = this._frames[key];

    if (!frame) {
      frame = {
        rect: data.rect.clone(),
        pivot: data.pivot.clone(),
        border: data.border.clone()
      };
      this._frames[key] = frame;
    } else {
      frame.rect.copy(data.rect);
      frame.pivot.copy(data.pivot);
      frame.border.copy(data.border);
    }

    this.fire('set:frame', key.toString(), frame);
  }

  removeFrame(key) {
    const frame = this._frames[key];

    if (frame) {
      delete this._frames[key];
      this.fire('remove:frame', key.toString(), frame);
    }
  }

  destroy() {
    if (this._texture) {
      this._texture.destroy();
    }
  }

}

export { TextureAtlas };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dHVyZS1hdGxhcy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NjZW5lL3RleHR1cmUtYXRsYXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vY29yZS9ldmVudC1oYW5kbGVyLmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL21hdGgvdmVjMi5qcycpLlZlYzJ9IFZlYzIgKi9cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9tYXRoL3ZlYzQuanMnKS5WZWM0fSBWZWM0ICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vZ3JhcGhpY3MvdGV4dHVyZS5qcycpLlRleHR1cmV9IFRleHR1cmUgKi9cblxuLyoqXG4gKiBBIFRleHR1cmVBdGxhcyBjb250YWlucyBhIG51bWJlciBvZiBmcmFtZXMgZnJvbSBhIHRleHR1cmUuIEVhY2ggZnJhbWUgZGVmaW5lcyBhIHJlZ2lvbiBpbiBhXG4gKiB0ZXh0dXJlLiBUaGUgVGV4dHVyZUF0bGFzIGlzIHJlZmVyZW5jZWQgYnkge0BsaW5rIFNwcml0ZX1zLlxuICpcbiAqIEBhdWdtZW50cyBFdmVudEhhbmRsZXJcbiAqL1xuY2xhc3MgVGV4dHVyZUF0bGFzIGV4dGVuZHMgRXZlbnRIYW5kbGVyIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZUF0bGFzIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiB2YXIgYXRsYXMgPSBuZXcgcGMuVGV4dHVyZUF0bGFzKCk7XG4gICAgICogYXRsYXMuZnJhbWVzID0ge1xuICAgICAqICAgICAnMCc6IHtcbiAgICAgKiAgICAgICAgIC8vIHJlY3QgaGFzIHUsIHYsIHdpZHRoIGFuZCBoZWlnaHQgaW4gcGl4ZWxzXG4gICAgICogICAgICAgICByZWN0OiBuZXcgcGMuVmVjNCgwLCAwLCAyNTYsIDI1NiksXG4gICAgICogICAgICAgICAvLyBwaXZvdCBoYXMgeCwgeSB2YWx1ZXMgYmV0d2VlbiAwLTEgd2hpY2ggZGVmaW5lIHRoZSBwb2ludFxuICAgICAqICAgICAgICAgLy8gd2l0aGluIHRoZSBmcmFtZSBhcm91bmQgd2hpY2ggcm90YXRpb24gYW5kIHNjYWxlIGlzIGNhbGN1bGF0ZWRcbiAgICAgKiAgICAgICAgIHBpdm90OiBuZXcgcGMuVmVjMigwLjUsIDAuNSksXG4gICAgICogICAgICAgICAvLyBib3JkZXIgaGFzIGxlZnQsIGJvdHRvbSwgcmlnaHQgYW5kIHRvcCBpbiBwaXhlbHMgZGVmaW5pbmcgcmVnaW9ucyBmb3IgOS1zbGljaW5nXG4gICAgICogICAgICAgICBib3JkZXI6IG5ldyBwYy5WZWM0KDUsIDUsIDUsIDUpXG4gICAgICogICAgIH0sXG4gICAgICogICAgICcxJzoge1xuICAgICAqICAgICAgICAgcmVjdDogbmV3IHBjLlZlYzQoMjU2LCAwLCAyNTYsIDI1NiksXG4gICAgICogICAgICAgICBwaXZvdDogbmV3IHBjLlZlYzIoMC41LCAwLjUpLFxuICAgICAqICAgICAgICAgYm9yZGVyOiBuZXcgcGMuVmVjNCg1LCA1LCA1LCA1KVxuICAgICAqICAgICB9XG4gICAgICogfTtcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1RleHR1cmV9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgYnkgdGhlIGF0bGFzLlxuICAgICAqXG4gICAgICogQHR5cGUge1RleHR1cmV9XG4gICAgICovXG4gICAgc2V0IHRleHR1cmUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZpcmUoJ3NldDp0ZXh0dXJlJywgdmFsdWUpO1xuICAgIH1cblxuICAgIGdldCB0ZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb250YWlucyBmcmFtZXMgd2hpY2ggZGVmaW5lIHBvcnRpb25zIG9mIHRoZSB0ZXh0dXJlIGF0bGFzLlxuICAgICAqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKi9cbiAgICBzZXQgZnJhbWVzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZyYW1lcyA9IHZhbHVlO1xuICAgICAgICB0aGlzLmZpcmUoJ3NldDpmcmFtZXMnLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0IGZyYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBuZXcgZnJhbWUgaW4gdGhlIHRleHR1cmUgYXRsYXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgZnJhbWUuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgZnJhbWUuXG4gICAgICogQHBhcmFtIHtWZWM0fSBkYXRhLnJlY3QgLSBUaGUgdSwgdiwgd2lkdGgsIGhlaWdodCBwcm9wZXJ0aWVzIG9mIHRoZSBmcmFtZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtWZWMyfSBkYXRhLnBpdm90IC0gVGhlIHBpdm90IG9mIHRoZSBmcmFtZSAtIHZhbHVlcyBhcmUgYmV0d2VlbiAwLTEuXG4gICAgICogQHBhcmFtIHtWZWM0fSBkYXRhLmJvcmRlciAtIFRoZSBib3JkZXIgb2YgdGhlIGZyYW1lIGZvciA5LXNsaWNpbmcuIFZhbHVlcyBhcmUgb3JkZXJlZCBhc1xuICAgICAqIGZvbGxvd3M6IGxlZnQsIGJvdHRvbSwgcmlnaHQsIHRvcCBib3JkZXIgaW4gcGl4ZWxzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYXRsYXMuc2V0RnJhbWUoJzEnLCB7XG4gICAgICogICAgIHJlY3Q6IG5ldyBwYy5WZWM0KDAsIDAsIDEyOCwgMTI4KSxcbiAgICAgKiAgICAgcGl2b3Q6IG5ldyBwYy5WZWMyKDAuNSwgMC41KSxcbiAgICAgKiAgICAgYm9yZGVyOiBuZXcgcGMuVmVjNCg1LCA1LCA1LCA1KVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHNldEZyYW1lKGtleSwgZGF0YSkge1xuICAgICAgICBsZXQgZnJhbWUgPSB0aGlzLl9mcmFtZXNba2V5XTtcbiAgICAgICAgaWYgKCFmcmFtZSkge1xuICAgICAgICAgICAgZnJhbWUgPSB7XG4gICAgICAgICAgICAgICAgcmVjdDogZGF0YS5yZWN0LmNsb25lKCksXG4gICAgICAgICAgICAgICAgcGl2b3Q6IGRhdGEucGl2b3QuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICBib3JkZXI6IGRhdGEuYm9yZGVyLmNsb25lKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9mcmFtZXNba2V5XSA9IGZyYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUucmVjdC5jb3B5KGRhdGEucmVjdCk7XG4gICAgICAgICAgICBmcmFtZS5waXZvdC5jb3B5KGRhdGEucGl2b3QpO1xuICAgICAgICAgICAgZnJhbWUuYm9yZGVyLmNvcHkoZGF0YS5ib3JkZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maXJlKCdzZXQ6ZnJhbWUnLCBrZXkudG9TdHJpbmcoKSwgZnJhbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBmcmFtZSBmcm9tIHRoZSB0ZXh0dXJlIGF0bGFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGZyYW1lLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYXRsYXMucmVtb3ZlRnJhbWUoJzEnKTtcbiAgICAgKi9cbiAgICByZW1vdmVGcmFtZShrZXkpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLl9mcmFtZXNba2V5XTtcbiAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fZnJhbWVzW2tleV07XG4gICAgICAgICAgICB0aGlzLmZpcmUoJ3JlbW92ZTpmcmFtZScsIGtleS50b1N0cmluZygpLCBmcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlIHVwIHRoZSB1bmRlcmx5aW5nIHRleHR1cmUgb3duZWQgYnkgdGhlIGF0bGFzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHsgVGV4dHVyZUF0bGFzIH07XG4iXSwibmFtZXMiOlsiVGV4dHVyZUF0bGFzIiwiRXZlbnRIYW5kbGVyIiwiY29uc3RydWN0b3IiLCJfdGV4dHVyZSIsIl9mcmFtZXMiLCJ0ZXh0dXJlIiwidmFsdWUiLCJmaXJlIiwiZnJhbWVzIiwic2V0RnJhbWUiLCJrZXkiLCJkYXRhIiwiZnJhbWUiLCJyZWN0IiwiY2xvbmUiLCJwaXZvdCIsImJvcmRlciIsImNvcHkiLCJ0b1N0cmluZyIsInJlbW92ZUZyYW1lIiwiZGVzdHJveSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVlBLE1BQU1BLFlBQU4sU0FBMkJDLFlBQTNCLENBQXdDO0FBdUJwQ0MsRUFBQUEsV0FBVyxHQUFHO0FBQ1YsSUFBQSxLQUFBLEVBQUEsQ0FBQTtJQU1BLElBQUtDLENBQUFBLFFBQUwsR0FBZ0IsSUFBaEIsQ0FBQTtJQUtBLElBQUtDLENBQUFBLE9BQUwsR0FBZSxJQUFmLENBQUE7QUFDSCxHQUFBOztFQU9VLElBQVBDLE9BQU8sQ0FBQ0MsS0FB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
