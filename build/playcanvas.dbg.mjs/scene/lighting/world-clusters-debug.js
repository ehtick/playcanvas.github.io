/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Color } from '../../math/color.js';
import { Mat4 } from '../../math/mat4.js';
import { Vec3 } from '../../math/vec3.js';
import { PRIMITIVE_TRIANGLES } from '../../graphics/constants.js';
import { BLEND_ADDITIVEALPHA } from '../constants.js';
import { GraphNode } from '../graph-node.js';
import { Mesh } from '../mesh.js';
import { MeshInstance } from '../mesh-instance.js';
import { StandardMaterial } from '../materials/standard-material.js';

class WorldClustersDebug {
  static render(worldClusters, scene) {
    const device = scene.device;
    const cells = worldClusters.cells;
    const lightsBuffer = worldClusters.lightsBuffer;
    const boundsMin = lightsBuffer.boundsMin;
    const boundsDelta = lightsBuffer.boundsDelta;
    const boundsMax = boundsMin.clone().add(boundsDelta);
    const cellDelta = lightsBuffer.boundsDelta.clone().div(cells);
    const gridPositions = WorldClustersDebug.gridPositions;
    const gridColors = WorldClustersDebug.gridColors;
    const c1 = new Color(0.3, 0.3, 0.3);

    const renderCellLines = (countA, countB, minA, deltaA, minB, deltaB, minC, maxC, order) => {
      for (let a = 0; a <= countA; a++) {
        for (let b = 0; b <= countB; b++) {
          const aa = minA + a * deltaA;
          const bb = minB + b * deltaB;
          if (order === 0) gridPositions.push(aa, minC, bb, aa, maxC, bb);else if (order === 1) gridPositions.push(aa, bb, minC, aa, bb, maxC);else if (order === 2) gridPositions.push(minC, aa, bb, maxC, aa, bb);
        }
      }
    };

    renderCellLines(cells.x, cells.z, boundsMin.x, cellDelta.x, boundsMin.z, cellDelta.z, boundsMin.y, boundsMax.y, 0);
    renderCellLines(cells.x, cells.y, boundsMin.x, cellDelta.x, boundsMin.y, cellDelta.y, boundsMin.z, boundsMax.z, 1);
    renderCellLines(cells.y, cells.z, boundsMin.y, cellDelta.y, boundsMin.z, cellDelta.z, boundsMin.x, boundsMax.x, 2);

    if (gridPositions.length) {
      const numVerts = gridPositions.length / 3;

      if (numVerts !== gridColors.length / 4) {
        gridColors.length = 0;

        for (let i = 0; i < numVerts; i++) {
          gridColors.push(c1.r, c1.g, c1.b, c1.a);
        }
      }

      scene.drawLineArrays(gridPositions, gridColors);
      gridPositions.length = 0;
    }

    let mesh = WorldClustersDebug.mesh;

    if (!mesh) {
      mesh = new Mesh(device);
      mesh.clear(true, true);
      WorldClustersDebug.mesh = mesh;
    }

    const positions = [];
    const colors = [];
    const indices = [];
    const divX = worldClusters._cells.x;
    const divZ = worldClusters._cells.z;
    const counts = worldClusters.counts;
    const limit = worldClusters._maxCellLightCount;
    const min = new Vec3();
    const max = new Vec3();
    const col = new Vec3();
    const step = boundsDelta.clone().div(cells);
    let cubes = 0;

    for (let x = 0; x < cells.x; x++) {
      for (let z = 0; z < cells.z; z++) {
        for (let y = 0; y < cells.y; y++) {
          const clusterIndex = x + divX * (z + y * divZ);
          const count = counts[clusterIndex];

          if (count > 0) {
            min.x = boundsMin.x + step.x * x;
            min.y = boundsMin.y + step.y * y;
            min.z = boundsMin.z + step.z * z;
            max.add2(min, step);
            positions.push(min.x, min.y, max.z);
            positions.push(max.x, min.y, max.z);
            positions.push(max.x, max.y, max.z);
            positions.push(min.x, max.y, max.z);
            positions.push(max.x, min.y, min.z);
            positions.push(min.x, min.y, min.z);
            positions.push(min.x, max.y, min.z);
            positions.push(max.x, max.y, min.z);
            col.lerp(WorldClustersDebug.colorLow, WorldClustersDebug.colorHigh, count / limit).round();

            for (let c = 0; c < 8; c++) {
              colors.push(col.x, col.y, col.z, 1);
            }

            indices.push(cubes * 8 + 0, cubes * 8 + 1, cubes * 8 + 3);
            indices.push(cubes * 8 + 3, cubes * 8 + 1, cubes * 8 + 2);
            indices.push(cubes * 8 + 4, cubes * 8 + 5, cubes * 8 + 7);
            indices.push(cubes * 8 + 7, cubes * 8 + 5, cubes * 8 + 6);
            indices.push(cubes * 8 + 3, cubes * 8 + 2, cubes * 8 + 6);
            indices.push(cubes * 8 + 2, cubes * 8 + 7, cubes * 8 + 6);
            indices.push(cubes * 8 + 1, cubes * 8 + 0, cubes * 8 + 4);
            indices.push(cubes * 8 + 0, cubes * 8 + 5, cubes * 8 + 4);
            indices.push(cubes * 8 + 1, cubes * 8 + 4, cubes * 8 + 2);
            indices.push(cubes * 8 + 4, cubes * 8 + 7, cubes * 8 + 2);
            indices.push(cubes * 8 + 5, cubes * 8 + 0, cubes * 8 + 6);
            indices.push(cubes * 8 + 0, cubes * 8 + 3, cubes * 8 + 6);
            cubes++;
          }
        }
      }
    }

    if (cubes) {
      mesh.setPositions(positions);
      mesh.setColors32(colors);
      mesh.setIndices(indices);
      mesh.update(PRIMITIVE_TRIANGLES, false);

      if (!WorldClustersDebug.meshInstance) {
        const material = new StandardMaterial();
        material.useLighting = false;
        material.emissive = new Color(1, 1, 1);
        material.emissiveVertexColor = true;
        material.emissiveTint = false;
        material.blendType = BLEND_ADDITIVEALPHA;
        material.depthWrite = false;
        material.update();
        const node = new GraphNode('WorldClustersDebug');
        node.worldTransform = Mat4.IDENTITY;
        node._dirtyWorld = node._dirtyNormal = false;
        WorldClustersDebug.meshInstance = new MeshInstance(mesh, material, node);
        WorldClustersDebug.meshInstance.cull = false;
      }

      const meshInstance = WorldClustersDebug.meshInstance;
      scene.immediate.drawMesh(meshInstance.material, meshInstance.node.worldTransform, null, meshInstance, scene.defaultDrawLayer);
    }
  }

}

WorldClustersDebug.gridPositions = [];
WorldClustersDebug.gridColors = [];
WorldClustersDebug.mesh = null;
WorldClustersDebug.meshInstance = null;
WorldClustersDebug.colorLow = new Vec3(1, 1, 1);
WorldClustersDebug.colorHigh = new Vec3(40, 0, 0);

export { WorldClustersDebug };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ybGQtY2x1c3RlcnMtZGVidWcuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9zY2VuZS9saWdodGluZy93b3JsZC1jbHVzdGVycy1kZWJ1Zy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL21hdGgvY29sb3IuanMnO1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvbWF0NC5qcyc7XG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC92ZWMzLmpzJztcblxuaW1wb3J0IHsgUFJJTUlUSVZFX1RSSUFOR0xFUyB9IGZyb20gJy4uLy4uL2dyYXBoaWNzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCB7IEJMRU5EX0FERElUSVZFQUxQSEEgfSBmcm9tICcuLi8uLi9zY2VuZS9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgR3JhcGhOb2RlIH0gZnJvbSAnLi4vZ3JhcGgtbm9kZS5qcyc7XG5pbXBvcnQgeyBNZXNoIH0gZnJvbSAnLi4vbWVzaC5qcyc7XG5pbXBvcnQgeyBNZXNoSW5zdGFuY2UgfSBmcm9tICcuLi9tZXNoLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IFN0YW5kYXJkTWF0ZXJpYWwgfSBmcm9tICcuLi9tYXRlcmlhbHMvc3RhbmRhcmQtbWF0ZXJpYWwuanMnO1xuXG5jbGFzcyBXb3JsZENsdXN0ZXJzRGVidWcge1xuICAgIHN0YXRpYyBncmlkUG9zaXRpb25zID0gW107XG5cbiAgICBzdGF0aWMgZ3JpZENvbG9ycyA9IFtdO1xuXG4gICAgc3RhdGljIG1lc2ggPSBudWxsO1xuXG4gICAgc3RhdGljIG1lc2hJbnN0YW5jZSA9IG51bGw7XG5cbiAgICBzdGF0aWMgY29sb3JMb3cgPSBuZXcgVmVjMygxLCAxLCAxKTtcblxuICAgIHN0YXRpYyBjb2xvckhpZ2ggPSBuZXcgVmVjMyg0MCwgMCwgMCk7XG5cbiAgICBzdGF0aWMgcmVuZGVyKHdvcmxkQ2x1c3RlcnMsIHNjZW5lKSB7XG5cbiAgICAgICAgY29uc3QgZGV2aWNlID0gc2NlbmUuZGV2aWNlO1xuICAgICAgICBjb25zdCBjZWxscyA9IHdvcmxkQ2x1c3RlcnMuY2VsbHM7XG4gICAgICAgIGNvbnN0IGxpZ2h0c0J1ZmZlciA9IHdvcmxkQ2x1c3RlcnMubGlnaHRzQnVmZmVyO1xuICAgICAgICBjb25zdCBib3VuZHNNaW4gPSBsaWdodHNCdWZmZXIuYm91bmRzTWluO1xuICAgICAgICBjb25zdCBib3VuZHNEZWx0YSA9IGxpZ2h0c0J1ZmZlci5ib3VuZHNEZWx0YTtcbiAgICAgICAgY29uc3QgYm91bmRzTWF4ID0gYm91bmRzTWluLmNsb25lKCkuYWRkKGJvdW5kc0RlbHRhKTtcbiAgICAgICAgY29uc3QgY2VsbERlbHRhID0gbGlnaHRzQnVmZmVyLmJvdW5kc0RlbHRhLmNsb25lKCkuZGl2KGNlbGxzKTtcblxuICAgICAgICBjb25zdCBncmlkUG9zaXRpb25zID0gV29ybGRDbHVzdGVyc0RlYnVnLmdyaWRQb3NpdGlvbnM7XG4gICAgICAgIGNvbnN0IGdyaWRDb2xvcnMgPSBXb3JsZENsdXN0ZXJzRGVidWcuZ3JpZENvbG9ycztcblxuICAgICAgICBjb25zdCBjMSA9IG5ldyBDb2xvcigwLjMsIDAuMywgMC4zKTtcblxuICAgICAgICBjb25zdCByZW5kZXJDZWxsTGluZXMgPSAoY291bnRBLCBjb3VudEIsIG1pbkEsIGRlbHRhQSwgbWluQiwgZGVsdGFCLCBtaW5DLCBtYXhDLCBvcmRlcikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgYSA9IDA7IGEgPD0gY291bnRBOyBhKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBiID0gMDsgYiA8PSBjb3VudEI7IGIrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhYSA9IG1pbkEgKyBhICogZGVsdGFBO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYiA9IG1pbkIgKyBiICogZGVsdGFCO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXIgPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkUG9zaXRpb25zLnB1c2goYWEsIG1pbkMsIGJiLCBhYSwgbWF4QywgYmIpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcmRlciA9PT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRQb3NpdGlvbnMucHVzaChhYSwgYmIsIG1pbkMsIGFhLCBiYiwgbWF4Qyk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9yZGVyID09PSAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFBvc2l0aW9ucy5wdXNoKG1pbkMsIGFhLCBiYiwgbWF4QywgYWEsIGJiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgZ3JpZCBsaW5lc1xuICAgICAgICByZW5kZXJDZWxsTGluZXMoY2VsbHMueCwgY2VsbHMueiwgYm91bmRzTWluLngsIGNlbGxEZWx0YS54LCBib3VuZHNNaW4ueiwgY2VsbERlbHRhLnosIGJvdW5kc01pbi55LCBib3VuZHNNYXgueSwgMCk7XG4gICAgICAgIHJlbmRlckNlbGxMaW5lcyhjZWxscy54LCBjZWxscy55LCBib3VuZHNNaW4ueCwgY2VsbERlbHRhLngsIGJvdW5kc01pbi55LCBjZWxsRGVsdGEueSwgYm91bmRzTWluLnosIGJvdW5kc01heC56LCAxKTtcbiAgICAgICAgcmVuZGVyQ2VsbExpbmVzKGNlbGxzLnksIGNlbGxzLnosIGJvdW5kc01pbi55LCBjZWxsRGVsdGEueSwgYm91bmRzTWluLnosIGNlbGxEZWx0YS56LCBib3VuZHNNaW4ueCwgYm91bmRzTWF4LngsIDIpO1xuXG4gICAgICAgIC8vIHJlbmRlciBncmlkIGxpbmVzXG4gICAgICAgIGlmIChncmlkUG9zaXRpb25zLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgY29sb3JzIG9ubHkgd2hlbiBuZWVkZWRcbiAgICAgICAgICAgIGNvbnN0IG51bVZlcnRzID0gZ3JpZFBvc2l0aW9ucy5sZW5ndGggLyAzO1xuICAgICAgICAgICAgaWYgKG51bVZlcnRzICE9PSBncmlkQ29sb3JzLmxlbmd0aCAvIDQpIHtcbiAgICAgICAgICAgICAgICBncmlkQ29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WZXJ0czsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb2xvcnMucHVzaChjMS5yLCBjMS5nLCBjMS5iLCBjMS5hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjZW5lLmRyYXdMaW5lQXJyYXlzKGdyaWRQb3NpdGlvbnMsIGdyaWRDb2xvcnMpO1xuICAgICAgICAgICAgZ3JpZFBvc2l0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVuZGVyIGNlbGwgb2NjdXBhbmN5XG4gICAgICAgIGxldCBtZXNoID0gV29ybGRDbHVzdGVyc0RlYnVnLm1lc2g7XG4gICAgICAgIGlmICghbWVzaCkge1xuICAgICAgICAgICAgbWVzaCA9IG5ldyBNZXNoKGRldmljZSk7XG4gICAgICAgICAgICBtZXNoLmNsZWFyKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgV29ybGRDbHVzdGVyc0RlYnVnLm1lc2ggPSBtZXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gW107XG5cbiAgICAgICAgY29uc3QgZGl2WCA9IHdvcmxkQ2x1c3RlcnMuX2NlbGxzLng7XG4gICAgICAgIGNvbnN0IGRpdlogPSB3b3JsZENsdXN0ZXJzLl9jZWxscy56O1xuICAgICAgICBjb25zdCBjb3VudHMgPSB3b3JsZENsdXN0ZXJzLmNvdW50cztcbiAgICAgICAgY29uc3QgbGltaXQgPSB3b3JsZENsdXN0ZXJzLl9tYXhDZWxsTGlnaHRDb3VudDtcblxuICAgICAgICBjb25zdCBtaW4gPSBuZXcgVmVjMygpO1xuICAgICAgICBjb25zdCBtYXggPSBuZXcgVmVjMygpO1xuICAgICAgICBjb25zdCBjb2wgPSBuZXcgVmVjMygpO1xuICAgICAgICBjb25zdCBzdGVwID0gYm91bmRzRGVsdGEuY2xvbmUoKS5kaXYoY2VsbHMpO1xuXG4gICAgICAgIC8vIGFkZCBjdWJlcyB3aXRoIGEgY29sb3IgcmVwcmVzZW50aW5nIGNlbGwgb2NjdXBhbmN5IHRvIHRoZSBkeW5hbWljIG1lc2hcbiAgICAgICAgbGV0IGN1YmVzID0gMDtcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBjZWxscy54OyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgY2VsbHMuejsgeisrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjZWxscy55OyB5KyspIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbHVzdGVySW5kZXggPSB4ICsgZGl2WCAqICh6ICsgeSAqIGRpdlopO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGNvdW50c1tjbHVzdGVySW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA+IDApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3ViZSBjb3JuZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW4ueCA9IGJvdW5kc01pbi54ICsgc3RlcC54ICogeDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi55ID0gYm91bmRzTWluLnkgKyBzdGVwLnkgKiB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluLnogPSBib3VuZHNNaW4ueiArIHN0ZXAueiAqIHo7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXguYWRkMihtaW4sIHN0ZXApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChtaW4ueCwgbWluLnksIG1heC56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKG1heC54LCBtaW4ueSwgbWF4LnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobWF4LngsIG1heC55LCBtYXgueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChtaW4ueCwgbWF4LnksIG1heC56KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobWF4LngsIG1pbi55LCBtaW4ueik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChtaW4ueCwgbWluLnksIG1pbi56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKG1pbi54LCBtYXgueSwgbWluLnopO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobWF4LngsIG1heC55LCBtaW4ueik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbC5sZXJwKFdvcmxkQ2x1c3RlcnNEZWJ1Zy5jb2xvckxvdywgV29ybGRDbHVzdGVyc0RlYnVnLmNvbG9ySGlnaCwgY291bnQgLyBsaW1pdCkucm91bmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgODsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JzLnB1c2goY29sLngsIGNvbC55LCBjb2wueiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChjdWJlcyAqIDggKyAwLCBjdWJlcyAqIDggKyAxLCBjdWJlcyAqIDggKyAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChjdWJlcyAqIDggKyAzLCBjdWJlcyAqIDggKyAxLCBjdWJlcyAqIDggKyAyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJvbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChjdWJlcyAqIDggKyA0LCBjdWJlcyAqIDggKyA1LCBjdWJlcyAqIDggKyA3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChjdWJlcyAqIDggKyA3LCBjdWJlcyAqIDggKyA1LCBjdWJlcyAqIDggKyA2KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9wXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY3ViZXMgKiA4ICsgMywgY3ViZXMgKiA4ICsgMiwgY3ViZXMgKiA4ICsgNik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY3ViZXMgKiA4ICsgMiwgY3ViZXMgKiA4ICsgNywgY3ViZXMgKiA4ICsgNik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1YmVzICogOCArIDEsIGN1YmVzICogOCArIDAsIGN1YmVzICogOCArIDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1YmVzICogOCArIDAsIGN1YmVzICogOCArIDUsIGN1YmVzICogOCArIDQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1YmVzICogOCArIDEsIGN1YmVzICogOCArIDQsIGN1YmVzICogOCArIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGN1YmVzICogOCArIDQsIGN1YmVzICogOCArIDcsIGN1YmVzICogOCArIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY3ViZXMgKiA4ICsgNSwgY3ViZXMgKiA4ICsgMCwgY3ViZXMgKiA4ICsgNik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goY3ViZXMgKiA4ICsgMCwgY3ViZXMgKiA4ICsgMywgY3ViZXMgKiA4ICsgNik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1YmVzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3ViZXMpIHtcbiAgICAgICAgICAgIG1lc2guc2V0UG9zaXRpb25zKHBvc2l0aW9ucyk7XG4gICAgICAgICAgICBtZXNoLnNldENvbG9yczMyKGNvbG9ycyk7XG4gICAgICAgICAgICBtZXNoLnNldEluZGljZXMoaW5kaWNlcyk7XG4gICAgICAgICAgICBtZXNoLnVwZGF0ZShQUklNSVRJVkVfVFJJQU5HTEVTLCBmYWxzZSk7XG5cblxuICAgICAgICAgICAgaWYgKCFXb3JsZENsdXN0ZXJzRGVidWcubWVzaEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgU3RhbmRhcmRNYXRlcmlhbCgpO1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnVzZUxpZ2h0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmUgPSBuZXcgQ29sb3IoMSwgMSwgMSk7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVWZXJ0ZXhDb2xvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuZW1pc3NpdmVUaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuYmxlbmRUeXBlID0gQkxFTkRfQURESVRJVkVBTFBIQTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5kZXB0aFdyaXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwudXBkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gbmV3IEdyYXBoTm9kZSgnV29ybGRDbHVzdGVyc0RlYnVnJyk7XG4gICAgICAgICAgICAgICAgbm9kZS53b3JsZFRyYW5zZm9ybSA9IE1hdDQuSURFTlRJVFk7XG4gICAgICAgICAgICAgICAgbm9kZS5fZGlydHlXb3JsZCA9IG5vZGUuX2RpcnR5Tm9ybWFsID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBXb3JsZENsdXN0ZXJzRGVidWcubWVzaEluc3RhbmNlID0gbmV3IE1lc2hJbnN0YW5jZShtZXNoLCBtYXRlcmlhbCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgV29ybGRDbHVzdGVyc0RlYnVnLm1lc2hJbnN0YW5jZS5jdWxsID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbmRlclxuICAgICAgICAgICAgY29uc3QgbWVzaEluc3RhbmNlID0gV29ybGRDbHVzdGVyc0RlYnVnLm1lc2hJbnN0YW5jZTtcbiAgICAgICAgICAgIHNjZW5lLmltbWVkaWF0ZS5kcmF3TWVzaChtZXNoSW5zdGFuY2UubWF0ZXJpYWwsIG1lc2hJbnN0YW5jZS5ub2RlLndvcmxkVHJhbnNmb3JtLCBudWxsLCBtZXNoSW5zdGFuY2UsIHNjZW5lLmRlZmF1bHREcmF3TGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBXb3JsZENsdXN0ZXJzRGVidWcgfTtcbiJdLCJuYW1lcyI6WyJXb3JsZENsdXN0ZXJzRGVidWciLCJyZW5kZXIiLCJ3b3JsZENsdXN0ZXJzIiwic2NlbmUiLCJkZXZpY2UiLCJjZWxscyIsImxpZ2h0c0J1ZmZlciIsImJvdW5kc01pbiIsImJvdW5kc0RlbHRhIiwiYm91bmRzTWF4IiwiY2xvbmUiLCJhZGQiLCJjZWxsRGVsdGEiLCJkaXYiLCJncmlkUG9zaXRpb25zIiwiZ3JpZENvbG9ycyIsImMxIiwiQ29sb3IiLCJyZW5kZXJDZWxsTGluZXMiLCJjb3VudEEiLCJjb3VudEIiLCJtaW5BIiwiZGVsdGFBIiwibWluQiIsImRlbHRhQiIsIm1pbkMiLCJtYXhDIiwib3JkZXIiLCJhIiwiYiIsImFhIiwiYmIiLCJwdXNoIiwieCIsInoiLCJ5IiwibGVuZ3RoIiwibnVtVmVydHMiLCJpIiwiciIsImciLCJkcmF3TGluZUFycmF5cyIsIm1lc2giLCJNZXNoIiwiY2xlYXIiLCJwb3NpdGlvbnMiLCJjb2xvcnMiLCJpbmRpY2VzIiwiZGl2WCIsIl9jZWxscyIsImRpdloiLCJjb3VudHMiLCJsaW1pdCIsIl9tYXhDZWxsTGlnaHRDb3VudCIsIm1pbiIsIlZlYzMiLCJtYXgiLCJjb2wiLCJzdGVwIiwiY3ViZXMiLCJjbHVzdGVySW5kZXgiLCJjb3VudCIsImFkZDIiLCJsZXJwIiwiY29sb3JMb3ciLCJjb2xvckhpZ2giLCJyb3VuZCIsImMiLCJzZXRQb3NpdGlvbnMiLCJzZXRDb2xvcnMzMiIsInNldEluZGljZXMiLCJ1cGRhdGUiLCJQUklNSVRJVkVfVFJJQU5HTEVTIiwibWVzaEluc3RhbmNlIiwibWF0ZXJpYWwiLCJTdGFuZGFyZE1hdGVyaWFsIiwidXNlTGlnaHRpbmciLCJlbWlzc2l2ZSIsImVtaXNzaXZlVmVydGV4Q29sb3IiLCJlbWlzc2l2ZVRpbnQiLCJibGVuZFR5cGUiLCJCTEVORF9BRERJVElWRUFMUEhBIiwiZGVwdGhXcml0ZSIsIm5vZGUiLCJHcmFwaE5vZGUiLCJ3b3JsZFRyYW5zZm9ybSIsIk1hdDQiLCJJREVOVElUWSIsIl9kaXJ0eVdvcmxkIiwiX2RpcnR5Tm9ybWFsIiwiTWVzaEluc3RhbmNlIiwiY3VsbCIsImltbWVkaWF0ZSIsImRyYXdNZXNoIiwiZGVmYXVsdERyYXdMYXllciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBWUEsTUFBTUEsa0JBQU4sQ0FBeUI7QUFhUixFQUFBLE9BQU5DLE1BQU0sQ0FBQ0MsYUFBRCxFQUFnQkMsS0FBaEIsRUFBdUI7QUFFaEMsSUFBQSxNQUFNQyxNQUFNLEdBQUdELEtBQUssQ0FBQ0MsTUFBckIsQ0FBQTtB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
