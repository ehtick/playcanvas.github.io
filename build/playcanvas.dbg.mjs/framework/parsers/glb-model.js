/**
 * @license
 * PlayCanvas Engine v1.63.0-dev revision 9f3635a4e (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { GlbContainerResource } from './glb-container-resource.js';
import { GlbParser } from './glb-parser.js';

class GlbModelParser {
  constructor(device, defaultMaterial) {
    this._device = device;
    this._defaultMaterial = defaultMaterial;
  }
  parse(data, callback) {
    GlbParser.parse('filename.glb', data, this._device, null, (err, result) => {
      if (err) {
        callback(err);
      } else {
        const model = GlbContainerResource.createModel(result, this._defaultMaterial);
        result.destroy();
        callback(null, model);
      }
    });
  }
}

export { GlbModelParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xiLW1vZGVsLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL3BhcnNlcnMvZ2xiLW1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdsYkNvbnRhaW5lclJlc291cmNlIH0gZnJvbSAnLi9nbGItY29udGFpbmVyLXJlc291cmNlLmpzJztcbmltcG9ydCB7IEdsYlBhcnNlciB9IGZyb20gJy4vZ2xiLXBhcnNlci5qcyc7XG5cbmNsYXNzIEdsYk1vZGVsUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihkZXZpY2UsIGRlZmF1bHRNYXRlcmlhbCkge1xuICAgICAgICB0aGlzLl9kZXZpY2UgPSBkZXZpY2U7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRNYXRlcmlhbCA9IGRlZmF1bHRNYXRlcmlhbDtcbiAgICB9XG5cbiAgICBwYXJzZShkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICBHbGJQYXJzZXIucGFyc2UoJ2ZpbGVuYW1lLmdsYicsIGRhdGEsIHRoaXMuX2RldmljZSwgbnVsbCwgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWwgPSBHbGJDb250YWluZXJSZXNvdXJjZS5jcmVhdGVNb2RlbChyZXN1bHQsIHRoaXMuX2RlZmF1bHRNYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtb2RlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgR2xiTW9kZWxQYXJzZXIgfTtcbiJdLCJuYW1lcyI6WyJHbGJNb2RlbFBhcnNlciIsImNvbnN0cnVjdG9yIiwiZGV2aWNlIiwiZGVmYXVsdE1hdGVyaWFsIiwiX2RldmljZSIsIl9kZWZhdWx0TWF0ZXJpYWwiLCJwYXJzZSIsImRhdGEiLCJjYWxsYmFjayIsIkdsYlBhcnNlciIsImVyciIsInJlc3VsdCIsIm1vZGVsIiwiR2xiQ29udGFpbmVyUmVzb3VyY2UiLCJjcmVhdGVNb2RlbCIsImRlc3Ryb3kiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0EsTUFBTUEsY0FBYyxDQUFDO0FBQ2pCQyxFQUFBQSxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLGVBQWUsRUFBRTtJQUNqQyxJQUFJLENBQUNDLE9BQU8sR0FBR0YsTUFBTSxDQUFBO0lBQ3JCLElBQUksQ0FBQ0csZ0JBQWdCLEdBQUdGLGVBQWUsQ0FBQTtBQUMzQyxHQUFBO0FBRUFHLEVBQUFBLEtBQUtBLENBQUNDLElBQUksRUFBRUMsUUFBUSxFQUFFO0FBQ2xCQyxJQUFBQSxTQUFTLENBQUNILEtBQUssQ0FBQyxjQUFjLEVBQUVDLElBQUksRUFBRSxJQUFJLENBQUNILE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQ00sR0FBRyxFQUFFQyxNQUFNLEtBQUs7QUFDdkUsTUFBQSxJQUFJRCxHQUFHLEVBQUU7UUFDTEYsUUFBUSxDQUFDRSxHQUFHLENBQUMsQ0FBQTtBQUNqQixPQUFDLE1BQU07UUFDSCxNQUFNRSxLQUFLLEdBQUdDLG9CQUFvQixDQUFDQyxXQUFXLENBQUNILE1BQU0sRUFBRSxJQUFJLENBQUNOLGdCQUFnQixDQUFDLENBQUE7UUFDN0VNLE1BQU0sQ0FBQ0ksT0FBTyxFQUFFLENBQUE7QUFDaEJQLFFBQUFBLFFBQVEsQ0FBQyxJQUFJLEVBQUVJLEtBQUssQ0FBQyxDQUFBO0FBQ3pCLE9BQUE7QUFDSixLQUFDLENBQUMsQ0FBQTtBQUNOLEdBQUE7QUFDSjs7OzsifQ==
