/**
 * @license
 * PlayCanvas Engine v1.63.0-dev revision 9f3635a4e (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
class I18nParser {
  _validate(data) {
    if (!data.header) {
      throw new Error('pc.I18n#addData: Missing "header" field');
    }
    if (!data.header.version) {
      throw new Error('pc.I18n#addData: Missing "header.version" field');
    }
    if (data.header.version !== 1) {
      throw new Error('pc.I18n#addData: Invalid "header.version" field');
    }
    if (!data.data) {
      throw new Error('pc.I18n#addData: Missing "data" field');
    } else if (!Array.isArray(data.data)) {
      throw new Error('pc.I18n#addData: "data" field must be an array');
    }
    for (let i = 0, len = data.data.length; i < len; i++) {
      const entry = data.data[i];
      if (!entry.info) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info" field`);
      }
      if (!entry.info.locale) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].info.locale" field`);
      }
      if (typeof entry.info.locale !== 'string') {
        throw new Error(`pc.I18n#addData: "data[${i}].info.locale" must be a string`);
      }
      if (!entry.messages) {
        throw new Error(`pc.I18n#addData: missing "data[${i}].messages" field`);
      }
    }
  }
  parse(data) {
    this._validate(data);
    return data.data;
  }
}

export { I18nParser };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaTE4bi1wYXJzZXIuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9mcmFtZXdvcmsvaTE4bi9pMThuLXBhcnNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBJMThuUGFyc2VyIHtcbiAgICBfdmFsaWRhdGUoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEuaGVhZGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogTWlzc2luZyBcImhlYWRlclwiIGZpZWxkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmhlYWRlci52ZXJzaW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogTWlzc2luZyBcImhlYWRlci52ZXJzaW9uXCIgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5oZWFkZXIudmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYy5JMThuI2FkZERhdGE6IEludmFsaWQgXCJoZWFkZXIudmVyc2lvblwiIGZpZWxkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRhdGEuZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYy5JMThuI2FkZERhdGE6IE1pc3NpbmcgXCJkYXRhXCIgZmllbGQnKTtcbiAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShkYXRhLmRhdGEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BjLkkxOG4jYWRkRGF0YTogXCJkYXRhXCIgZmllbGQgbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGRhdGEuZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBkYXRhLmRhdGFbaV07XG4gICAgICAgICAgICBpZiAoIWVudHJ5LmluZm8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogbWlzc2luZyBcImRhdGFbJHtpfV0uaW5mb1wiIGZpZWxkYCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZW50cnkuaW5mby5sb2NhbGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogbWlzc2luZyBcImRhdGFbJHtpfV0uaW5mby5sb2NhbGVcIiBmaWVsZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeS5pbmZvLmxvY2FsZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBjLkkxOG4jYWRkRGF0YTogXCJkYXRhWyR7aX1dLmluZm8ubG9jYWxlXCIgbXVzdCBiZSBhIHN0cmluZ2ApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWVudHJ5Lm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYy5JMThuI2FkZERhdGE6IG1pc3NpbmcgXCJkYXRhWyR7aX1dLm1lc3NhZ2VzXCIgZmllbGRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgLy8gI2lmIF9ERUJVR1xuICAgICAgICB0aGlzLl92YWxpZGF0ZShkYXRhKTtcbiAgICAgICAgLy8gI2VuZGlmXG5cbiAgICAgICAgcmV0dXJuIGRhdGEuZGF0YTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEkxOG5QYXJzZXIgfTtcbiJdLCJuYW1lcyI6WyJJMThuUGFyc2VyIiwiX3ZhbGlkYXRlIiwiZGF0YSIsImhlYWRlciIsIkVycm9yIiwidmVyc2lvbiIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJsZW4iLCJsZW5ndGgiLCJlbnRyeSIsImluZm8iLCJsb2Nh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
