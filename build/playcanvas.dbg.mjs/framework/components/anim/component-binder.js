import { AnimTarget } from '../../anim/evaluator/anim-target.js';
import { DefaultAnimBinder } from '../../anim/binder/default-anim-binder.js';
import { AnimBinder } from '../../anim/binder/anim-binder.js';
import { Color } from '../../../core/math/color.js';
import { Quat } from '../../../core/math/quat.js';
import { Vec2 } from '../../../core/math/vec2.js';
import { Vec3 } from '../../../core/math/vec3.js';
import { Vec4 } from '../../../core/math/vec4.js';

const v2 = new Vec2();
const v3 = new Vec3();
const v4 = new Vec4();
const c = new Color();
const q = new Quat();
class AnimComponentBinder extends DefaultAnimBinder {
  constructor(animComponent, graph, layerName, mask, layerIndex) {
    super(graph);
    this.animComponent = animComponent;
    this._mask = mask;
    this.layerName = layerName;
    this.layerIndex = layerIndex;
  }
  static _packFloat(values) {
    return values[0];
  }
  static _packBoolean(values) {
    return !!values[0];
  }
  static _packVec2(values) {
    v2.x = values[0];
    v2.y = values[1];
    return v2;
  }
  static _packVec3(values) {
    v3.x = values[0];
    v3.y = values[1];
    v3.z = values[2];
    return v3;
  }
  static _packVec4(values) {
    v4.x = values[0];
    v4.y = values[1];
    v4.z = values[2];
    v4.w = values[3];
    return v4;
  }
  static _packColor(values) {
    c.r = values[0];
    c.g = values[1];
    c.b = values[2];
    c.a = values[3];
    return c;
  }
  static _packQuat(values) {
    q.x = values[0];
    q.y = values[1];
    q.z = values[2];
    q.w = values[3];
    return q;
  }
  resolve(path) {
    const encodedPath = AnimBinder.encode(path.entityPath, path.component, path.propertyPath);
    let target = this.targetCache[encodedPath];
    if (target) return target;
    let entity;
    let propertyComponent;
    let targetPath;
    switch (path.component) {
      case 'entity':
        entity = this._getEntityFromHierarchy(path.entityPath);
        targetPath = AnimBinder.encode(entity.path, 'entity', path.propertyPath);
        propertyComponent = entity;
        break;
      case 'graph':
        propertyComponent = this.findNode(path);
        if (!propertyComponent) return null;
        targetPath = AnimBinder.encode(propertyComponent.path, 'graph', path.propertyPath);
        break;
      default:
        entity = this._getEntityFromHierarchy(path.entityPath);
        propertyComponent = entity.findComponent(path.component);
        if (!propertyComponent) return null;
        targetPath = AnimBinder.encode(entity.path, path.component, path.propertyPath);
        break;
    }
    target = this._createAnimTargetForProperty(propertyComponent, path.propertyPath, targetPath);
    this.targetCache[encodedPath] = target;
    return target;
  }
  update(deltaTime) {
    // flag active nodes as dirty
    const activeNodes = this.activeNodes;
    if (activeNodes) {
      for (let i = 0; i < activeNodes.length; i++) {
        activeNodes[i]._dirtifyLocal();
      }
    }
  }
  _getEntityFromHierarchy(entityHierarchy) {
    if (!this.animComponent.entity.name === entityHierarchy[0]) {
      return null;
    }
    const currEntity = this.animComponent.entity;
    if (entityHierarchy.length === 1) {
      return currEntity;
    }
    return currEntity._parent.findByPath(entityHierarchy);
  }

  // resolve an object path
  _resolvePath(object, path, resolveLeaf) {
    const steps = path.length - (resolveLeaf ? 0 : 1);
    for (let i = 0; i < steps; i++) {
      object = object[path[i]];
    }
    return object;
  }

  // construct a setter function for the property located at 'path' from the base object. packFunc
  // is a function which takes the animation values array and packages them for the target property
  // in the correct format (i.e. vec2, quat, color etc).
  _setter(object, path, packFunc) {
    const obj = this._resolvePath(object, path);
    const key = path[path.length - 1];

    // if the object has a setter function, use it
    const setterFuncName = 'set' + key.substring(0, 1).toUpperCase() + key.substring(1);
    if (obj[setterFuncName]) {
      // if the object has a setter function, use it
      const getterFunc = obj['get' + key.substring(0, 1).toUpperCase() + key.substring(1)].bind(obj);
      let baseValues = getterFunc();
      baseValues = [baseValues.x, baseValues.y, baseValues.z, baseValues.w];
      const setterFunc = obj[setterFuncName].bind(obj);
      return {
        set: values => {
          setterFunc(packFunc(values));
        },
        get: () => baseValues
      };
    }
    const prop = obj[key];

    // if the target property has a copy function, use it (vec3, color, quat)
    if (typeof prop === 'object' && prop.hasOwnProperty('copy')) {
      return function (values) {
        prop.copy(packFunc(values));
      };
    }

    // when animating individual members of vec/color/quaternion, we must also invoke the
    // object's setter. this is required by some component properties which have custom
    // handlers which propagate the changes correctly.
    if ([Vec2, Vec3, Vec4, Color, Quat].indexOf(obj.constructor) !== -1 && path.length > 1) {
      const parent = path.length > 2 ? this._resolvePath(object, path.slice(0, -1)) : object;
      const objKey = path[path.length - 2];
      return function (values) {
        obj[key] = packFunc(values);
        parent[objKey] = obj;
      };
    }

    // otherwise set the property directly (float, boolean)
    return function (values) {
      obj[key] = packFunc(values);
    };
  }
  _createAnimTargetForProperty(propertyComponent, propertyHierarchy, targetPath) {
    if (this.handlers && propertyHierarchy[0].startsWith('weight.')) {
      return this.handlers.weight(propertyComponent, propertyHierarchy[0].replace('weight.', ''));
    } else if (this.handlers && propertyHierarchy[0] === 'material' && propertyHierarchy.length === 2) {
      const materialPropertyName = propertyHierarchy[1];
      // if the property name ends in Map then we're binding a material texture
      if (materialPropertyName.endsWith('Map')) {
        return this.handlers.materialTexture(propertyComponent, materialPropertyName);
      }
    }
    const property = this._resolvePath(propertyComponent, propertyHierarchy, true);
    if (typeof property === 'undefined') return null;
    let setter;
    let animDataType;
    let animDataComponents;
    if (typeof property === 'number') {
      setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packFloat);
      animDataType = 'vector';
      animDataComponents = 1;
    } else if (typeof property === 'boolean') {
      setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packBoolean);
      animDataType = 'vector';
      animDataComponents = 1;
    } else if (typeof property === 'object') {
      switch (property.constructor) {
        case Vec2:
          setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packVec2);
          animDataType = 'vector';
          animDataComponents = 2;
          break;
        case Vec3:
          setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packVec3);
          animDataType = 'vector';
          animDataComponents = 3;
          break;
        case Vec4:
          setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packVec4);
          animDataType = 'vector';
          animDataComponents = 4;
          break;
        case Color:
          setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packColor);
          animDataType = 'vector';
          animDataComponents = 4;
          break;
        case Quat:
          setter = this._setter(propertyComponent, propertyHierarchy, AnimComponentBinder._packQuat);
          animDataType = 'quaternion';
          animDataComponents = 4;
          break;
        default:
          return null;
      }
    }

    // materials must have update called after changing settings
    if (propertyHierarchy.indexOf('material') !== -1) {
      return new AnimTarget(function (values) {
        setter(values);
        propertyComponent.material.update();
      }, animDataType, animDataComponents, targetPath);
    }
    return new AnimTarget(setter, animDataType, animDataComponents, targetPath);
  }
  rebind() {
    this.targetCache = {};
    this.visitedFallbackGraphPaths = {};
    if (this.animComponent.rootBone) {
      this.graph = this.animComponent.rootBone;
    } else {
      this.graph = this.animComponent.entity;
    }
    const nodes = {};
    // cache node names so we can quickly resolve animation paths
    const flatten = function flatten(node) {
      nodes[node.name] = node;
      for (let i = 0; i < node.children.length; ++i) {
        flatten(node.children[i]);
      }
    };
    flatten(this.graph);
    this.nodes = nodes;
  }
}

export { AnimComponentBinder };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWJpbmRlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2ZyYW1ld29yay9jb21wb25lbnRzL2FuaW0vY29tcG9uZW50LWJpbmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmltVGFyZ2V0IH0gZnJvbSAnLi4vLi4vYW5pbS9ldmFsdWF0b3IvYW5pbS10YXJnZXQuanMnO1xuaW1wb3J0IHsgRGVmYXVsdEFuaW1CaW5kZXIgfSBmcm9tICcuLi8uLi9hbmltL2JpbmRlci9kZWZhdWx0LWFuaW0tYmluZGVyLmpzJztcbmltcG9ydCB7IEFuaW1CaW5kZXIgfSBmcm9tICcuLi8uLi9hbmltL2JpbmRlci9hbmltLWJpbmRlci5qcyc7XG5cbmltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoL2NvbG9yLmpzJztcbmltcG9ydCB7IFF1YXQgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgvcXVhdC5qcyc7XG5pbXBvcnQgeyBWZWMyIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoL3ZlYzIuanMnO1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbWF0aC92ZWMzLmpzJztcbmltcG9ydCB7IFZlYzQgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgvdmVjNC5qcyc7XG5cbmNvbnN0IHYyID0gbmV3IFZlYzIoKTtcbmNvbnN0IHYzID0gbmV3IFZlYzMoKTtcbmNvbnN0IHY0ID0gbmV3IFZlYzQoKTtcbmNvbnN0IGMgID0gbmV3IENvbG9yKCk7XG5jb25zdCBxICA9IG5ldyBRdWF0KCk7XG5cbmNsYXNzIEFuaW1Db21wb25lbnRCaW5kZXIgZXh0ZW5kcyBEZWZhdWx0QW5pbUJpbmRlciB7XG4gICAgY29uc3RydWN0b3IoYW5pbUNvbXBvbmVudCwgZ3JhcGgsIGxheWVyTmFtZSwgbWFzaywgbGF5ZXJJbmRleCkge1xuICAgICAgICBzdXBlcihncmFwaCk7XG4gICAgICAgIHRoaXMuYW5pbUNvbXBvbmVudCA9IGFuaW1Db21wb25lbnQ7XG4gICAgICAgIHRoaXMuX21hc2sgPSBtYXNrO1xuICAgICAgICB0aGlzLmxheWVyTmFtZSA9IGxheWVyTmFtZTtcbiAgICAgICAgdGhpcy5sYXllckluZGV4ID0gbGF5ZXJJbmRleDtcbiAgICB9XG5cbiAgICBzdGF0aWMgX3BhY2tGbG9hdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9XG5cbiAgICBzdGF0aWMgX3BhY2tCb29sZWFuKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gISF2YWx1ZXNbMF07XG4gICAgfVxuXG4gICAgc3RhdGljIF9wYWNrVmVjMih2YWx1ZXMpIHtcbiAgICAgICAgdjIueCA9IHZhbHVlc1swXTtcbiAgICAgICAgdjIueSA9IHZhbHVlc1sxXTtcbiAgICAgICAgcmV0dXJuIHYyO1xuICAgIH1cblxuICAgIHN0YXRpYyBfcGFja1ZlYzModmFsdWVzKSB7XG4gICAgICAgIHYzLnggPSB2YWx1ZXNbMF07XG4gICAgICAgIHYzLnkgPSB2YWx1ZXNbMV07XG4gICAgICAgIHYzLnogPSB2YWx1ZXNbMl07XG4gICAgICAgIHJldHVybiB2MztcbiAgICB9XG5cbiAgICBzdGF0aWMgX3BhY2tWZWM0KHZhbHVlcykge1xuICAgICAgICB2NC54ID0gdmFsdWVzWzBdO1xuICAgICAgICB2NC55ID0gdmFsdWVzWzFdO1xuICAgICAgICB2NC56ID0gdmFsdWVzWzJdO1xuICAgICAgICB2NC53ID0gdmFsdWVzWzNdO1xuICAgICAgICByZXR1cm4gdjQ7XG4gICAgfVxuXG4gICAgc3RhdGljIF9wYWNrQ29sb3IodmFsdWVzKSB7XG4gICAgICAgIGMuciA9IHZhbHVlc1swXTtcbiAgICAgICAgYy5nID0gdmFsdWVzWzFdO1xuICAgICAgICBjLmIgPSB2YWx1ZXNbMl07XG4gICAgICAgIGMuYSA9IHZhbHVlc1szXTtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgc3RhdGljIF9wYWNrUXVhdCh2YWx1ZXMpIHtcbiAgICAgICAgcS54ID0gdmFsdWVzWzBdO1xuICAgICAgICBxLnkgPSB2YWx1ZXNbMV07XG4gICAgICAgIHEueiA9IHZhbHVlc1syXTtcbiAgICAgICAgcS53ID0gdmFsdWVzWzNdO1xuICAgICAgICByZXR1cm4gcTtcbiAgICB9XG5cbiAgICByZXNvbHZlKHBhdGgpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZFBhdGggPSBBbmltQmluZGVyLmVuY29kZShwYXRoLmVudGl0eVBhdGgsIHBhdGguY29tcG9uZW50LCBwYXRoLnByb3BlcnR5UGF0aCk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnRhcmdldENhY2hlW2VuY29kZWRQYXRoXTtcbiAgICAgICAgaWYgKHRhcmdldCkgcmV0dXJuIHRhcmdldDtcblxuICAgICAgICBsZXQgZW50aXR5O1xuICAgICAgICBsZXQgcHJvcGVydHlDb21wb25lbnQ7XG4gICAgICAgIGxldCB0YXJnZXRQYXRoO1xuXG4gICAgICAgIHN3aXRjaCAocGF0aC5jb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2VudGl0eSc6XG4gICAgICAgICAgICAgICAgZW50aXR5ID0gdGhpcy5fZ2V0RW50aXR5RnJvbUhpZXJhcmNoeShwYXRoLmVudGl0eVBhdGgpO1xuICAgICAgICAgICAgICAgIHRhcmdldFBhdGggPSBBbmltQmluZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICdlbnRpdHknLFxuICAgICAgICAgICAgICAgICAgICBwYXRoLnByb3BlcnR5UGF0aFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb21wb25lbnQgPSBlbnRpdHk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdncmFwaCc6XG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb21wb25lbnQgPSB0aGlzLmZpbmROb2RlKHBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlDb21wb25lbnQpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHRhcmdldFBhdGggPSBBbmltQmluZGVyLmVuY29kZShcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlDb21wb25lbnQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgJ2dyYXBoJyxcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wcm9wZXJ0eVBhdGhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBlbnRpdHkgPSB0aGlzLl9nZXRFbnRpdHlGcm9tSGllcmFyY2h5KHBhdGguZW50aXR5UGF0aCk7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlDb21wb25lbnQgPSBlbnRpdHkuZmluZENvbXBvbmVudChwYXRoLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eUNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgdGFyZ2V0UGF0aCA9IEFuaW1CaW5kZXIuZW5jb2RlKFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGgucHJvcGVydHlQYXRoXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldCA9IHRoaXMuX2NyZWF0ZUFuaW1UYXJnZXRGb3JQcm9wZXJ0eShwcm9wZXJ0eUNvbXBvbmVudCwgcGF0aC5wcm9wZXJ0eVBhdGgsIHRhcmdldFBhdGgpO1xuICAgICAgICB0aGlzLnRhcmdldENhY2hlW2VuY29kZWRQYXRoXSA9IHRhcmdldDtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICB1cGRhdGUoZGVsdGFUaW1lKSB7XG4gICAgICAgIC8vIGZsYWcgYWN0aXZlIG5vZGVzIGFzIGRpcnR5XG4gICAgICAgIGNvbnN0IGFjdGl2ZU5vZGVzID0gdGhpcy5hY3RpdmVOb2RlcztcbiAgICAgICAgaWYgKGFjdGl2ZU5vZGVzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGl2ZU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlTm9kZXNbaV0uX2RpcnRpZnlMb2NhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2dldEVudGl0eUZyb21IaWVyYXJjaHkoZW50aXR5SGllcmFyY2h5KSB7XG4gICAgICAgIGlmICghdGhpcy5hbmltQ29tcG9uZW50LmVudGl0eS5uYW1lID09PSBlbnRpdHlIaWVyYXJjaHlbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3VyckVudGl0eSA9IHRoaXMuYW5pbUNvbXBvbmVudC5lbnRpdHk7XG5cbiAgICAgICAgaWYgKGVudGl0eUhpZXJhcmNoeS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyRW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyRW50aXR5Ll9wYXJlbnQuZmluZEJ5UGF0aChlbnRpdHlIaWVyYXJjaHkpO1xuICAgIH1cblxuICAgIC8vIHJlc29sdmUgYW4gb2JqZWN0IHBhdGhcbiAgICBfcmVzb2x2ZVBhdGgob2JqZWN0LCBwYXRoLCByZXNvbHZlTGVhZikge1xuICAgICAgICBjb25zdCBzdGVwcyA9IHBhdGgubGVuZ3RoIC0gKHJlc29sdmVMZWFmID8gMCA6IDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzOyBpKyspIHtcbiAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFtwYXRoW2ldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8vIGNvbnN0cnVjdCBhIHNldHRlciBmdW5jdGlvbiBmb3IgdGhlIHByb3BlcnR5IGxvY2F0ZWQgYXQgJ3BhdGgnIGZyb20gdGhlIGJhc2Ugb2JqZWN0LiBwYWNrRnVuY1xuICAgIC8vIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIGFuaW1hdGlvbiB2YWx1ZXMgYXJyYXkgYW5kIHBhY2thZ2VzIHRoZW0gZm9yIHRoZSB0YXJnZXQgcHJvcGVydHlcbiAgICAvLyBpbiB0aGUgY29ycmVjdCBmb3JtYXQgKGkuZS4gdmVjMiwgcXVhdCwgY29sb3IgZXRjKS5cbiAgICBfc2V0dGVyKG9iamVjdCwgcGF0aCwgcGFja0Z1bmMpIHtcbiAgICAgICAgY29uc3Qgb2JqID0gdGhpcy5fcmVzb2x2ZVBhdGgob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgY29uc3Qga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaGFzIGEgc2V0dGVyIGZ1bmN0aW9uLCB1c2UgaXRcbiAgICAgICAgY29uc3Qgc2V0dGVyRnVuY05hbWUgPSAnc2V0JyArIGtleS5zdWJzdHJpbmcoMCwgMSkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIGlmIChvYmpbc2V0dGVyRnVuY05hbWVdKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGhhcyBhIHNldHRlciBmdW5jdGlvbiwgdXNlIGl0XG4gICAgICAgICAgICBjb25zdCBnZXR0ZXJGdW5jID0gb2JqWydnZXQnICsga2V5LnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKV0uYmluZChvYmopO1xuICAgICAgICAgICAgbGV0IGJhc2VWYWx1ZXMgPSBnZXR0ZXJGdW5jKCk7XG4gICAgICAgICAgICBiYXNlVmFsdWVzID0gW2Jhc2VWYWx1ZXMueCwgYmFzZVZhbHVlcy55LCBiYXNlVmFsdWVzLnosIGJhc2VWYWx1ZXMud107XG4gICAgICAgICAgICBjb25zdCBzZXR0ZXJGdW5jID0gb2JqW3NldHRlckZ1bmNOYW1lXS5iaW5kKG9iaik7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNldDogKHZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXR0ZXJGdW5jKHBhY2tGdW5jKHZhbHVlcykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBiYXNlVmFsdWVzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvcCA9IG9ialtrZXldO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0YXJnZXQgcHJvcGVydHkgaGFzIGEgY29weSBmdW5jdGlvbiwgdXNlIGl0ICh2ZWMzLCBjb2xvciwgcXVhdClcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnb2JqZWN0JyAmJiBwcm9wLmhhc093blByb3BlcnR5KCdjb3B5JykpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcHJvcC5jb3B5KHBhY2tGdW5jKHZhbHVlcykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gYW5pbWF0aW5nIGluZGl2aWR1YWwgbWVtYmVycyBvZiB2ZWMvY29sb3IvcXVhdGVybmlvbiwgd2UgbXVzdCBhbHNvIGludm9rZSB0aGVcbiAgICAgICAgLy8gb2JqZWN0J3Mgc2V0dGVyLiB0aGlzIGlzIHJlcXVpcmVkIGJ5IHNvbWUgY29tcG9uZW50IHByb3BlcnRpZXMgd2hpY2ggaGF2ZSBjdXN0b21cbiAgICAgICAgLy8gaGFuZGxlcnMgd2hpY2ggcHJvcGFnYXRlIHRoZSBjaGFuZ2VzIGNvcnJlY3RseS5cbiAgICAgICAgaWYgKFtWZWMyLCBWZWMzLCBWZWM0LCBDb2xvciwgUXVhdF0uaW5kZXhPZihvYmouY29uc3RydWN0b3IpICE9PSAtMSAmJiBwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhdGgubGVuZ3RoID4gMiA/IHRoaXMuX3Jlc29sdmVQYXRoKG9iamVjdCwgcGF0aC5zbGljZSgwLCAtMSkpIDogb2JqZWN0O1xuICAgICAgICAgICAgY29uc3Qgb2JqS2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHBhY2tGdW5jKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcGFyZW50W29iaktleV0gPSBvYmo7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3RoZXJ3aXNlIHNldCB0aGUgcHJvcGVydHkgZGlyZWN0bHkgKGZsb2F0LCBib29sZWFuKVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBwYWNrRnVuYyh2YWx1ZXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jcmVhdGVBbmltVGFyZ2V0Rm9yUHJvcGVydHkocHJvcGVydHlDb21wb25lbnQsIHByb3BlcnR5SGllcmFyY2h5LCB0YXJnZXRQYXRoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFuZGxlcnMgJiYgcHJvcGVydHlIaWVyYXJjaHlbMF0uc3RhcnRzV2l0aCgnd2VpZ2h0LicpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVycy53ZWlnaHQocHJvcGVydHlDb21wb25lbnQsIHByb3BlcnR5SGllcmFyY2h5WzBdLnJlcGxhY2UoJ3dlaWdodC4nLCAnJykpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGFuZGxlcnMgJiYgcHJvcGVydHlIaWVyYXJjaHlbMF0gPT09ICdtYXRlcmlhbCcgJiYgcHJvcGVydHlIaWVyYXJjaHkubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRlcmlhbFByb3BlcnR5TmFtZSA9IHByb3BlcnR5SGllcmFyY2h5WzFdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIHByb3BlcnR5IG5hbWUgZW5kcyBpbiBNYXAgdGhlbiB3ZSdyZSBiaW5kaW5nIGEgbWF0ZXJpYWwgdGV4dHVyZVxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsUHJvcGVydHlOYW1lLmVuZHNXaXRoKCdNYXAnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLm1hdGVyaWFsVGV4dHVyZShwcm9wZXJ0eUNvbXBvbmVudCwgbWF0ZXJpYWxQcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLl9yZXNvbHZlUGF0aChwcm9wZXJ0eUNvbXBvbmVudCwgcHJvcGVydHlIaWVyYXJjaHksIHRydWUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgbGV0IHNldHRlcjtcbiAgICAgICAgbGV0IGFuaW1EYXRhVHlwZTtcbiAgICAgICAgbGV0IGFuaW1EYXRhQ29tcG9uZW50cztcblxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgc2V0dGVyID0gdGhpcy5fc2V0dGVyKHByb3BlcnR5Q29tcG9uZW50LCBwcm9wZXJ0eUhpZXJhcmNoeSwgQW5pbUNvbXBvbmVudEJpbmRlci5fcGFja0Zsb2F0KTtcbiAgICAgICAgICAgIGFuaW1EYXRhVHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICAgICAgYW5pbURhdGFDb21wb25lbnRzID0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcGVydHkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgc2V0dGVyID0gdGhpcy5fc2V0dGVyKHByb3BlcnR5Q29tcG9uZW50LCBwcm9wZXJ0eUhpZXJhcmNoeSwgQW5pbUNvbXBvbmVudEJpbmRlci5fcGFja0Jvb2xlYW4pO1xuICAgICAgICAgICAgYW5pbURhdGFUeXBlID0gJ3ZlY3Rvcic7XG4gICAgICAgICAgICBhbmltRGF0YUNvbXBvbmVudHMgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocHJvcGVydHkuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFZlYzI6XG4gICAgICAgICAgICAgICAgICAgIHNldHRlciA9IHRoaXMuX3NldHRlcihwcm9wZXJ0eUNvbXBvbmVudCwgcHJvcGVydHlIaWVyYXJjaHksIEFuaW1Db21wb25lbnRCaW5kZXIuX3BhY2tWZWMyKTtcbiAgICAgICAgICAgICAgICAgICAgYW5pbURhdGFUeXBlID0gJ3ZlY3Rvcic7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1EYXRhQ29tcG9uZW50cyA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVmVjMzpcbiAgICAgICAgICAgICAgICAgICAgc2V0dGVyID0gdGhpcy5fc2V0dGVyKHByb3BlcnR5Q29tcG9uZW50LCBwcm9wZXJ0eUhpZXJhcmNoeSwgQW5pbUNvbXBvbmVudEJpbmRlci5fcGFja1ZlYzMpO1xuICAgICAgICAgICAgICAgICAgICBhbmltRGF0YVR5cGUgPSAndmVjdG9yJztcbiAgICAgICAgICAgICAgICAgICAgYW5pbURhdGFDb21wb25lbnRzID0gMztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBWZWM0OlxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSB0aGlzLl9zZXR0ZXIocHJvcGVydHlDb21wb25lbnQsIHByb3BlcnR5SGllcmFyY2h5LCBBbmltQ29tcG9uZW50QmluZGVyLl9wYWNrVmVjNCk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1EYXRhVHlwZSA9ICd2ZWN0b3InO1xuICAgICAgICAgICAgICAgICAgICBhbmltRGF0YUNvbXBvbmVudHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENvbG9yOlxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSB0aGlzLl9zZXR0ZXIocHJvcGVydHlDb21wb25lbnQsIHByb3BlcnR5SGllcmFyY2h5LCBBbmltQ29tcG9uZW50QmluZGVyLl9wYWNrQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBhbmltRGF0YVR5cGUgPSAndmVjdG9yJztcbiAgICAgICAgICAgICAgICAgICAgYW5pbURhdGFDb21wb25lbnRzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBRdWF0OlxuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSB0aGlzLl9zZXR0ZXIocHJvcGVydHlDb21wb25lbnQsIHByb3BlcnR5SGllcmFyY2h5LCBBbmltQ29tcG9uZW50QmluZGVyLl9wYWNrUXVhdCk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1EYXRhVHlwZSA9ICdxdWF0ZXJuaW9uJztcbiAgICAgICAgICAgICAgICAgICAgYW5pbURhdGFDb21wb25lbnRzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXRlcmlhbHMgbXVzdCBoYXZlIHVwZGF0ZSBjYWxsZWQgYWZ0ZXIgY2hhbmdpbmcgc2V0dGluZ3NcbiAgICAgICAgaWYgKHByb3BlcnR5SGllcmFyY2h5LmluZGV4T2YoJ21hdGVyaWFsJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1UYXJnZXQoZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHNldHRlcih2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5Q29tcG9uZW50Lm1hdGVyaWFsLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfSwgYW5pbURhdGFUeXBlLCBhbmltRGF0YUNvbXBvbmVudHMsIHRhcmdldFBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltVGFyZ2V0KHNldHRlciwgYW5pbURhdGFUeXBlLCBhbmltRGF0YUNvbXBvbmVudHMsIHRhcmdldFBhdGgpO1xuICAgIH1cblxuICAgIHJlYmluZCgpIHtcbiAgICAgICAgdGhpcy50YXJnZXRDYWNoZSA9IHt9O1xuICAgICAgICAvLyAjaWYgX0RFQlVHXG4gICAgICAgIHRoaXMudmlzaXRlZEZhbGxiYWNrR3JhcGhQYXRocyA9IHt9O1xuICAgICAgICAvLyAjZW5kaWZcblxuICAgICAgICBpZiAodGhpcy5hbmltQ29tcG9uZW50LnJvb3RCb25lKSB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoID0gdGhpcy5hbmltQ29tcG9uZW50LnJvb3RCb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncmFwaCA9IHRoaXMuYW5pbUNvbXBvbmVudC5lbnRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2RlcyA9IHsgfTtcbiAgICAgICAgLy8gY2FjaGUgbm9kZSBuYW1lcyBzbyB3ZSBjYW4gcXVpY2tseSByZXNvbHZlIGFuaW1hdGlvbiBwYXRoc1xuICAgICAgICBjb25zdCBmbGF0dGVuID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGVzW25vZGUubmFtZV0gPSBub2RlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgZmxhdHRlbihub2RlLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZmxhdHRlbih0aGlzLmdyYXBoKTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgQW5pbUNvbXBvbmVudEJpbmRlciB9O1xuIl0sIm5hbWVzIjpbInYyIiwiVmVjMiIsInYzIiwiVmVjMyIsInY0IiwiVmVjNCIsImMiLCJDb2xvciIsInEiLCJRdWF0IiwiQW5pbUNvbXBvbmVudEJpbmRlciIsIkRlZmF1bHRBbmltQmluZGVyIiwiY29uc3RydWN0b3IiLCJhbmltQ29tcG9uZW50IiwiZ3JhcGgiLCJsYXllck5hbWUiLCJtYXNrIiwibGF5ZXJJbmRleCIsIl9tYXNrIiwiX3BhY2tGbG9hdCIsInZhbHVlcyIsIl9wYWNrQm9vbGVhbiIsIl9wYWNrVmVjMiIsIngiLCJ5IiwiX3BhY2tWZWMzIiwieiIsIl9wYWNrVmVjNCIsInciLCJfcGFja0NvbG9yIiwiciIsImciLCJiIiwiYSIsIl9wYWNrUXVhdCIsInJlc29sdmUiLCJwYXRoIiwiZW5jb2RlZFBhdGgiLCJBbmltQmluZGVyIiwiZW5jb2RlIiwiZW50aXR5UGF0aCIsImNvbXBvbmVudCIsInByb3BlcnR5UGF0aCIsInRhcmdldCIsInRhcmdldENhY2hlIiwiZW50aXR5IiwicHJvcGVydHlDb21wb25lbnQiLCJ0YXJnZXRQYXRoIiwiX2dldEVudGl0eUZyb21IaWVyYXJjaHkiLCJmaW5kTm9kZSIsImZpbmRDb21wb25lbnQiLCJfY3JlYXRlQW5pbVRhcmdldEZvclByb3BlcnR5IiwidXBkYXRlIiwiZGVsdGFUaW1lIiwiYWN0aXZlTm9kZXMiLCJpIiwibGVuZ3RoIiwiX2RpcnRpZnlMb2NhbCIsImVudGl0eUhpZXJhcmNoeSIsIm5hbWUiLCJjdXJyRW50aXR5IiwiX3BhcmVudCIsImZpbmRCeVBhdGgiLCJfcmVzb2x2ZVBhdGgiLCJvYmplY3QiLCJyZXNvbHZlTGVhZiIsInN0ZXBzIiwiX3NldHRlciIsInBhY2tGdW5jIiwib2JqIiwia2V5Iiwic2V0dGVyRnVuY05hbWUiLCJzdWJzdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImdldHRlckZ1bmMiLCJiaW5kIiwiYmFzZVZhbHVlcyIsInNldHRlckZ1bmMiLCJzZXQiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjb3B5IiwiaW5kZXhPZiIsInBhcmVudCIsInNsaWNlIiwib2JqS2V5IiwicHJvcGVydHlIaWVyYXJjaHkiLCJoYW5kbGVycyIsInN0YXJ0c1dpdGgiLCJ3ZWlnaHQiLCJyZXBsYWNlIiwibWF0ZXJpYWxQcm9wZXJ0eU5hbWUiLCJlbmRzV2l0aCIsIm1hdGVyaWFsVGV4dHVyZSIsInByb3BlcnR5Iiwic2V0dGVyIiwiYW5pbURhdGFUeXBlIiwiYW5pbURhdGFDb21wb25lbnRzIiwiQW5pbVRhcmdldCIsIm1hdGVyaWFsIiwicmViaW5kIiwidmlzaXRlZEZhbGxiYWNrR3JhcGhQYXRocyIsInJvb3RCb25lIiwibm9kZXMiLCJmbGF0dGVuIiwibm9kZSIsImNoaWxkcmVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFVQSxNQUFNQSxFQUFFLEdBQUcsSUFBSUMsSUFBSSxFQUFFLENBQUE7QUFDckIsTUFBTUMsRUFBRSxHQUFHLElBQUlDLElBQUksRUFBRSxDQUFBO0FBQ3JCLE1BQU1DLEVBQUUsR0FBRyxJQUFJQyxJQUFJLEVBQUUsQ0FBQTtBQUNyQixNQUFNQyxDQUFDLEdBQUksSUFBSUMsS0FBSyxFQUFFLENBQUE7QUFDdEIsTUFBTUMsQ0FBQyxHQUFJLElBQUlDLElBQUksRUFBRSxDQUFBO0FBRXJCLE1BQU1DLG1CQUFtQixTQUFTQyxpQkFBaUIsQ0FBQztFQUNoREMsV0FBV0EsQ0FBQ0MsYUFBYSxFQUFFQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxFQUFFQyxVQUFVLEVBQUU7SUFDM0QsS0FBSyxDQUFDSCxLQUFLLENBQUMsQ0FBQTtJQUNaLElBQUksQ0FBQ0QsYUFBYSxHQUFHQSxhQUFhLENBQUE7SUFDbEMsSUFBSSxDQUFDSyxLQUFLLEdBQUdGLElBQUksQ0FBQTtJQUNqQixJQUFJLENBQUNELFNBQVMsR0FBR0EsU0FBUyxDQUFBO0lBQzFC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
