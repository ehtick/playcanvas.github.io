/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Asset } from '../../../asset/asset.js';
import { Channel3d } from '../../../audio/channel3d.js';
import { Component } from '../component.js';

class AudioSourceComponent extends Component {
  constructor(system, entity) {
    super(system, entity);
    this.on('set_assets', this.onSetAssets, this);
    this.on('set_loop', this.onSetLoop, this);
    this.on('set_volume', this.onSetVolume, this);
    this.on('set_pitch', this.onSetPitch, this);
    this.on('set_minDistance', this.onSetMinDistance, this);
    this.on('set_maxDistance', this.onSetMaxDistance, this);
    this.on('set_rollOffFactor', this.onSetRollOffFactor, this);
    this.on('set_distanceModel', this.onSetDistanceModel, this);
    this.on('set_3d', this.onSet3d, this);
  }

  play(name) {
    if (!this.enabled || !this.entity.enabled) {
      return;
    }

    if (this.channel) {
      this.stop();
    }

    let channel;
    const componentData = this.data;

    if (componentData.sources[name]) {
      if (!componentData['3d']) {
        channel = this.system.manager.playSound(componentData.sources[name], componentData);
        componentData.currentSource = name;
        componentData.channel = channel;
      } else {
        const pos = this.entity.getPosition();
        channel = this.system.manager.playSound3d(componentData.sources[name], pos, componentData);
        componentData.currentSource = name;
        componentData.channel = channel;
      }
    }
  }

  pause() {
    if (this.channel) {
      this.channel.pause();
    }
  }

  unpause() {
    if (this.channel && this.channel.paused) {
      this.channel.unpause();
    }
  }

  stop() {
    if (this.channel) {
      this.channel.stop();
      this.channel = null;
    }
  }

  onSetAssets(name, oldValue, newValue) {
    const newAssets = [];
    const len = newValue.length;

    if (oldValue && oldValue.length) {
      for (let i = 0; i < oldValue.length; i++) {
        if (oldValue[i]) {
          const asset = this.system.app.assets.get(oldValue[i]);

          if (asset) {
            asset.off('change', this.onAssetChanged, this);
            asset.off('remove', this.onAssetRemoved, this);

            if (this.currentSource === asset.name) {
              this.stop();
            }
          }
        }
      }
    }

    if (len) {
      for (let i = 0; i < len; i++) {
        if (oldValue.indexOf(newValue[i]) < 0) {
          if (newValue[i] instanceof Asset) {
            newAssets.push(newValue[i].id);
          } else {
            newAssets.push(newValue[i]);
          }
        }
      }
    }

    if (!this.system._inTools && newAssets.length) {
      this.loadAudioSourceAssets(newAssets);
    }
  }

  onAssetChanged(asset, attribute, newValue, oldValue) {
    if (attribute === 'resource') {
      const sources = this.data.sources;

      if (sources) {
        this.data.sources[asset.name] = newValue;

        if (this.data.currentSource === asset.name) {
          if (this.channel) {
            if (this.channel.paused) {
              this.play(asset.name);
              this.pause();
            } else {
              this.play(asset.name);
            }
          }
        }
      }
    }
  }

  onAssetRemoved(asset) {
    asset.off('remove', this.onAssetRemoved, this);

    if (this.data.sources[asset.name]) {
      delete this.data.sources[asset.name];

      if (this.data.currentSource === asset.name) {
        this.stop();
        this.data.currentSource = null;
      }
    }
  }

  onSetLoop(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel) {
        this.channel.setLoop(newValue);
      }
    }
  }

  onSetVolume(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel) {
        this.channel.setVolume(newValue);
      }
    }
  }

  onSetPitch(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel) {
        this.channel.setPitch(newValue);
      }
    }
  }

  onSetMaxDistance(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel instanceof Channel3d) {
        this.channel.setMaxDistance(newValue);
      }
    }
  }

  onSetMinDistance(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel instanceof Channel3d) {
        this.channel.setMinDistance(newValue);
      }
    }
  }

  onSetRollOffFactor(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel instanceof Channel3d) {
        this.channel.setRollOffFactor(newValue);
      }
    }
  }

  onSetDistanceModel(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.channel instanceof Channel3d) {
        this.channel.setDistanceModel(newValue);
      }
    }
  }

  onSet3d(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      if (this.system.initialized && this.currentSource) {
        let paused = false;
        let suspended = false;

        if (this.channel) {
          paused = this.channel.paused;
          suspended = this.channel.suspended;
        }

        this.play(this.currentSource);

        if (this.channel) {
          this.channel.paused = paused;
          this.channel.suspended = suspended;
        }
      }
    }
  }

  onEnable() {
    const assets = this.data.assets;

    if (assets) {
      const registry = this.system.app.assets;

      for (let i = 0, len = assets.length; i < len; i++) {
        let asset = assets[i];
        if (!(asset instanceof Asset)) asset = registry.get(asset);

        if (asset && !asset.resource) {
          registry.load(asset);
        }
      }
    }

    if (this.system.initialized) {
      if (this.data.activate && !this.channel) {
        this.play(this.currentSource);
      } else {
        this.unpause();
      }
    }
  }

  onDisable() {
    this.pause();
  }

  loadAudioSourceAssets(ids) {
    const assets = ids.map(id => {
      return this.system.app.assets.get(id);
    });
    const sources = {};
    let currentSource = null;
    let count = assets.length;

    const _error = e => {
      count--;
    };

    const _done = () => {
      this.data.sources = sources;
      this.data.currentSource = currentSource;

      if (this.enabled && this.activate && currentSource) {
        this.onEnable();
      }
    };

    assets.forEach((asset, index) => {
      if (asset) {
        currentSource = currentSource || asset.name;
        asset.off('change', this.onAssetChanged, this);
        asset.on('change', this.onAssetChanged, this);
        asset.off('remove', this.onAssetRemoved, this);
        asset.on('remove', this.onAssetRemoved, this);
        asset.off('error', _error, this);
        asset.on('error', _error, this);
        asset.ready(asset => {
          sources[asset.name] = asset.resource;
          count--;

          if (count === 0) {
            _done();
          }
        });
        if (!asset.resource && this.enabled && this.entity.enabled) this.system.app.assets.load(asset);
      } else {
        count--;

        if (count === 0) {
          _done();
        }

        this.system.app.assets.on('add:' + ids[index], asset => {
          asset.ready(asset => {
            this.data.sources[asset.name] = asset.resource;
          });
          if (!asset.resource) this.system.app.assets.load(asset);
        });
      }
    });
  }

}

export { AudioSourceComponent };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvYXVkaW8tc291cmNlL2NvbXBvbmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3NldCB9IGZyb20gJy4uLy4uLy4uL2Fzc2V0L2Fzc2V0LmpzJztcblxuaW1wb3J0IHsgQ2hhbm5lbDNkIH0gZnJvbSAnLi4vLi4vLi4vYXVkaW8vY2hhbm5lbDNkLmpzJztcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50LmpzJztcblxuLyoqIEB0eXBlZGVmIHtpbXBvcnQoJy4vc3lzdGVtLmpzJykuQXVkaW9Tb3VyY2VDb21wb25lbnRTeXN0ZW19IEF1ZGlvU291cmNlQ29tcG9uZW50U3lzdGVtICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vZW50aXR5LmpzJykuRW50aXR5fSBFbnRpdHkgKi9cblxuLyoqXG4gKiBUaGUgQXVkaW9Tb3VyY2UgQ29tcG9uZW50IGNvbnRyb2xzIHBsYXliYWNrIG9mIGFuIGF1ZGlvIHNhbXBsZS4gVGhpcyBjbGFzcyB3aWxsIGJlIGRlcHJlY2F0ZWRcbiAqIGluIGZhdm9yIG9mIHtAbGluayBTb3VuZENvbXBvbmVudH0uXG4gKlxuICogQHByb3BlcnR5IHtBc3NldFtdfSBhc3NldHMgVGhlIGxpc3Qgb2YgYXVkaW8gYXNzZXRzIC0gY2FuIGFsc28gYmUgYW4gYXJyYXkgb2YgYXNzZXQgaWRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBhY3RpdmF0ZSBJZiB0cnVlIHRoZSBhdWRpbyB3aWxsIGJlZ2luIHBsYXlpbmcgYXMgc29vbiBhcyB0aGUgc2NlbmUgaXNcbiAqIGxvYWRlZC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB2b2x1bWUgVGhlIHZvbHVtZSBtb2RpZmllciB0byBwbGF5IHRoZSBhdWRpbyB3aXRoLiBJbiByYW5nZSAwLTEuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcGl0Y2ggVGhlIHBpdGNoIG1vZGlmaWVyIHRvIHBsYXkgdGhlIGF1ZGlvIHdpdGguIE11c3QgYmUgbGFyZ2VyIHRoYW4gMC4wMS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbG9vcCBJZiB0cnVlIHRoZSBhdWRpbyB3aWxsIHJlc3RhcnQgd2hlbiBpdCBmaW5pc2hlcyBwbGF5aW5nLlxuICogQHByb3BlcnR5IHtib29sZWFufSAzZCBJZiB0cnVlIHRoZSBhdWRpbyB3aWxsIHBsYXkgYmFjayBhdCB0aGUgbG9jYXRpb24gb2YgdGhlIGVudGl0eSBpbiBzcGFjZSxcbiAqIHNvIHRoZSBhdWRpbyB3aWxsIGJlIGFmZmVjdCBieSB0aGUgcG9zaXRpb24gb2YgdGhlIHtAbGluayBBdWRpb0xpc3RlbmVyQ29tcG9uZW50fS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkaXN0YW5jZU1vZGVsIERldGVybWluZXMgd2hpY2ggYWxnb3JpdGhtIHRvIHVzZSB0byByZWR1Y2UgdGhlIHZvbHVtZSBvZiB0aGVcbiAqIGF1ZGlvIGFzIGl0IG1vdmVzIGF3YXkgZnJvbSB0aGUgbGlzdGVuZXIuIENhbiBiZTpcbiAqXG4gKiAtIFwibGluZWFyXCJcbiAqIC0gXCJpbnZlcnNlXCJcbiAqIC0gXCJleHBvbmVudGlhbFwiXG4gKlxuICogRGVmYXVsdCBpcyBcImludmVyc2VcIi5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5EaXN0YW5jZSBUaGUgbWluaW11bSBkaXN0YW5jZSBmcm9tIHRoZSBsaXN0ZW5lciBhdCB3aGljaCBhdWRpbyBmYWxsb2ZmXG4gKiBiZWdpbnMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4RGlzdGFuY2UgVGhlIG1heGltdW0gZGlzdGFuY2UgZnJvbSB0aGUgbGlzdGVuZXIgYXQgd2hpY2ggYXVkaW8gZmFsbG9mZlxuICogc3RvcHMuIE5vdGUgdGhlIHZvbHVtZSBvZiB0aGUgYXVkaW8gaXMgbm90IDAgYWZ0ZXIgdGhpcyBkaXN0YW5jZSwgYnV0IGp1c3QgZG9lc24ndCBmYWxsIG9mZlxuICogYW55bW9yZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByb2xsT2ZmRmFjdG9yIFRoZSBmYWN0b3IgdXNlZCBpbiB0aGUgZmFsbG9mZiBlcXVhdGlvbi5cbiAqIEBhdWdtZW50cyBDb21wb25lbnRcbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgQXVkaW9Tb3VyY2VDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBBdWRpb1NvdXJjZSBDb21wb25lbnQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0F1ZGlvU291cmNlQ29tcG9uZW50U3lzdGVtfSBzeXN0ZW0gLSBUaGUgQ29tcG9uZW50U3lzdGVtIHRoYXQgY3JlYXRlZFxuICAgICAqIHRoaXMgY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSB7RW50aXR5fSBlbnRpdHkgLSBUaGUgZW50aXR5IHRoYXQgdGhlIENvbXBvbmVudCBpcyBhdHRhY2hlZCB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW0sIGVudGl0eSkge1xuICAgICAgICBzdXBlcihzeXN0ZW0sIGVudGl0eSk7XG5cbiAgICAgICAgdGhpcy5vbignc2V0X2Fzc2V0cycsIHRoaXMub25TZXRBc3NldHMsIHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfbG9vcCcsIHRoaXMub25TZXRMb29wLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbignc2V0X3ZvbHVtZScsIHRoaXMub25TZXRWb2x1bWUsIHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfcGl0Y2gnLCB0aGlzLm9uU2V0UGl0Y2gsIHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfbWluRGlzdGFuY2UnLCB0aGlzLm9uU2V0TWluRGlzdGFuY2UsIHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfbWF4RGlzdGFuY2UnLCB0aGlzLm9uU2V0TWF4RGlzdGFuY2UsIHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdzZXRfcm9sbE9mZkZhY3RvcicsIHRoaXMub25TZXRSb2xsT2ZmRmFjdG9yLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbignc2V0X2Rpc3RhbmNlTW9kZWwnLCB0aGlzLm9uU2V0RGlzdGFuY2VNb2RlbCwgdGhpcyk7XG4gICAgICAgIHRoaXMub24oJ3NldF8zZCcsIHRoaXMub25TZXQzZCwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmVnaW4gcGxheWJhY2sgb2YgYW4gYXVkaW8gYXNzZXQgaW4gdGhlIGNvbXBvbmVudCBhdHRhY2hlZCB0byBhbiBlbnRpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBBc3NldCB0byBwbGF5LlxuICAgICAqL1xuICAgIHBsYXkobmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCAhdGhpcy5lbnRpdHkuZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBwbGF5aW5nIGEgY2hhbm5lbCwgc3RvcCBpdC5cbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNoYW5uZWw7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudERhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIGlmIChjb21wb25lbnREYXRhLnNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50RGF0YVsnM2QnXSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwgPSB0aGlzLnN5c3RlbS5tYW5hZ2VyLnBsYXlTb3VuZChjb21wb25lbnREYXRhLnNvdXJjZXNbbmFtZV0sIGNvbXBvbmVudERhdGEpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudERhdGEuY3VycmVudFNvdXJjZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50RGF0YS5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zID0gdGhpcy5lbnRpdHkuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICBjaGFubmVsID0gdGhpcy5zeXN0ZW0ubWFuYWdlci5wbGF5U291bmQzZChjb21wb25lbnREYXRhLnNvdXJjZXNbbmFtZV0sIHBvcywgY29tcG9uZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50RGF0YS5jdXJyZW50U291cmNlID0gbmFtZTtcbiAgICAgICAgICAgICAgICBjb21wb25lbnREYXRhLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGF1c2UgcGxheWJhY2sgb2YgdGhlIGF1ZGlvIHRoYXQgaXMgcGxheWluZyBvbiB0aGUgRW50aXR5LiBQbGF5YmFjayBjYW4gYmUgcmVzdW1lZCBieVxuICAgICAqIGNhbGxpbmcge0BsaW5rIEF1ZGlvU291cmNlQ29tcG9uZW50I3VucGF1c2V9LlxuICAgICAqL1xuICAgIHBhdXNlKCkge1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc3VtZSBwbGF5YmFjayBvZiB0aGUgYXVkaW8gaWYgcGF1c2VkLiBQbGF5YmFjayBpcyByZXN1bWVkIGF0IHRoZSB0aW1lIGl0IHdhcyBwYXVzZWQuXG4gICAgICovXG4gICAgdW5wYXVzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCAmJiB0aGlzLmNoYW5uZWwucGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwudW5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcCBwbGF5YmFjayBvbiBhbiBFbnRpdHkuIFBsYXliYWNrIGNhbiBub3QgYmUgcmVzdW1lZCBhZnRlciBiZWluZyBzdG9wcGVkLlxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TZXRBc3NldHMobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5ld0Fzc2V0cyA9IFtdO1xuICAgICAgICBjb25zdCBsZW4gPSBuZXdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKG9sZFZhbHVlICYmIG9sZFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gY2hhbmdlIGV2ZW50IGZvciBvbGQgYXNzZXRzXG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFzc2V0ID0gdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5nZXQob2xkVmFsdWVbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0Lm9mZignY2hhbmdlJywgdGhpcy5vbkFzc2V0Q2hhbmdlZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldC5vZmYoJ3JlbW92ZScsIHRoaXMub25Bc3NldFJlbW92ZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U291cmNlID09PSBhc3NldC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlLmluZGV4T2YobmV3VmFsdWVbaV0pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWVbaV0gaW5zdGFuY2VvZiBBc3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXNzZXRzLnB1c2gobmV3VmFsdWVbaV0uaWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QXNzZXRzLnB1c2gobmV3VmFsdWVbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAgLy8gT25seSBsb2FkIGF1ZGlvIGRhdGEgaWYgd2UgYXJlIG5vdCBpbiB0aGUgdG9vbHMgYW5kIGlmIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGVcbiAgICAgICAgaWYgKCF0aGlzLnN5c3RlbS5faW5Ub29scyAmJiBuZXdBc3NldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRBdWRpb1NvdXJjZUFzc2V0cyhuZXdBc3NldHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Bc3NldENoYW5nZWQoYXNzZXQsIGF0dHJpYnV0ZSwgbmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGUgPT09ICdyZXNvdXJjZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLmRhdGEuc291cmNlcztcbiAgICAgICAgICAgIGlmIChzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNvdXJjZXNbYXNzZXQubmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLmN1cnJlbnRTb3VyY2UgPT09IGFzc2V0Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSBjdXJyZW50IHNvdW5kIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheShhc3NldC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheShhc3NldC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQXNzZXRSZW1vdmVkKGFzc2V0KSB7XG4gICAgICAgIGFzc2V0Lm9mZigncmVtb3ZlJywgdGhpcy5vbkFzc2V0UmVtb3ZlZCwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuc291cmNlc1thc3NldC5uYW1lXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YS5zb3VyY2VzW2Fzc2V0Lm5hbWVdO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5jdXJyZW50U291cmNlID09PSBhc3NldC5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmN1cnJlbnRTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TZXRMb29wKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnNldExvb3AobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TZXRWb2x1bWUobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwuc2V0Vm9sdW1lKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU2V0UGl0Y2gobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwuc2V0UGl0Y2gobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TZXRNYXhEaXN0YW5jZShuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCBpbnN0YW5jZW9mIENoYW5uZWwzZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5zZXRNYXhEaXN0YW5jZShuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblNldE1pbkRpc3RhbmNlKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsIGluc3RhbmNlb2YgQ2hhbm5lbDNkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnNldE1pbkRpc3RhbmNlKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU2V0Um9sbE9mZkZhY3RvcihuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCBpbnN0YW5jZW9mIENoYW5uZWwzZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5zZXRSb2xsT2ZmRmFjdG9yKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU2V0RGlzdGFuY2VNb2RlbChuYW1lLCBvbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbCBpbnN0YW5jZW9mIENoYW5uZWwzZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5zZXREaXN0YW5jZU1vZGVsKG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU2V0M2QobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN5c3RlbS5pbml0aWFsaXplZCAmJiB0aGlzLmN1cnJlbnRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IHN1c3BlbmRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF1c2VkID0gdGhpcy5jaGFubmVsLnBhdXNlZDtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuZGVkID0gdGhpcy5jaGFubmVsLnN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkodGhpcy5jdXJyZW50U291cmNlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnBhdXNlZCA9IHBhdXNlZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnN1c3BlbmRlZCA9IHN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpIHtcbiAgICAgICAgLy8gbG9hZCBhc3NldHMgdGhhdCBoYXZlbid0IGJlZW4gbG9hZGVkIHlldFxuICAgICAgICBjb25zdCBhc3NldHMgPSB0aGlzLmRhdGEuYXNzZXRzO1xuICAgICAgICBpZiAoYXNzZXRzKSB7XG4gICAgICAgICAgICBjb25zdCByZWdpc3RyeSA9IHRoaXMuc3lzdGVtLmFwcC5hc3NldHM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhc3NldHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYXNzZXQgPSBhc3NldHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCEoYXNzZXQgaW5zdGFuY2VvZiBBc3NldCkpXG4gICAgICAgICAgICAgICAgICAgIGFzc2V0ID0gcmVnaXN0cnkuZ2V0KGFzc2V0KTtcblxuICAgICAgICAgICAgICAgIGlmIChhc3NldCAmJiAhYXNzZXQucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0cnkubG9hZChhc3NldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3lzdGVtLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmFjdGl2YXRlICYmICF0aGlzLmNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkodGhpcy5jdXJyZW50U291cmNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICB9XG5cbiAgICBsb2FkQXVkaW9Tb3VyY2VBc3NldHMoaWRzKSB7XG4gICAgICAgIGNvbnN0IGFzc2V0cyA9IGlkcy5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5nZXQoaWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzb3VyY2VzID0ge307XG4gICAgICAgIGxldCBjdXJyZW50U291cmNlID0gbnVsbDtcblxuICAgICAgICBsZXQgY291bnQgPSBhc3NldHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSBwcm9ncmVzcyBjb250aW51ZXMgZXZlbiBpZiBzb21lIGF1ZGlvIGRvZXNuJ3QgbG9hZFxuICAgICAgICBjb25zdCBfZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgY291bnQtLTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBvbmNlIGFsbCBhc3NldHMgYXJlIGFjY291bnRlZCBmb3IgY29udGludWVcbiAgICAgICAgY29uc3QgX2RvbmUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc291cmNlcyA9IHNvdXJjZXM7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3VycmVudFNvdXJjZSA9IGN1cnJlbnRTb3VyY2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgdGhpcy5hY3RpdmF0ZSAmJiBjdXJyZW50U291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkVuYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGFzc2V0cy5mb3JFYWNoKChhc3NldCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChhc3NldCkge1xuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgY3VycmVudCBzb3VyY2UgdG8gdGhlIGZpcnN0IGVudHJ5IChiZWZvcmUgY2FsbGluZyBzZXQsIHNvIHRoYXQgaXQgY2FuIHBsYXkgaWYgbmVlZGVkKVxuICAgICAgICAgICAgICAgIGN1cnJlbnRTb3VyY2UgPSBjdXJyZW50U291cmNlIHx8IGFzc2V0Lm5hbWU7XG5cbiAgICAgICAgICAgICAgICAvLyBzdWJzY3JpYmUgdG8gY2hhbmdlIGV2ZW50cyB0byByZWxvYWQgc291bmRzIGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGFzc2V0Lm9mZignY2hhbmdlJywgdGhpcy5vbkFzc2V0Q2hhbmdlZCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgYXNzZXQub24oJ2NoYW5nZScsIHRoaXMub25Bc3NldENoYW5nZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgYXNzZXQub2ZmKCdyZW1vdmUnLCB0aGlzLm9uQXNzZXRSZW1vdmVkLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBhc3NldC5vbigncmVtb3ZlJywgdGhpcy5vbkFzc2V0UmVtb3ZlZCwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBhc3NldC5vZmYoJ2Vycm9yJywgX2Vycm9yLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBhc3NldC5vbignZXJyb3InLCBfZXJyb3IsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGFzc2V0LnJlYWR5KChhc3NldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzW2Fzc2V0Lm5hbWVdID0gYXNzZXQucmVzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFhc3NldC5yZXNvdXJjZSAmJiB0aGlzLmVuYWJsZWQgJiYgdGhpcy5lbnRpdHkuZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5sb2FkKGFzc2V0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3Qgd2FpdCBmb3IgYXNzZXRzIHRoYXQgYXJlbid0IGluIHRoZSByZWdpc3RyeVxuICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kb25lKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiB0aGV5IGFyZSBhZGRlZCBpbnNlcnQgdGhlbSBpbnRvIHNvdXJjZSBsaXN0XG4gICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5vbignYWRkOicgKyBpZHNbaW5kZXhdLCAoYXNzZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQucmVhZHkoKGFzc2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc291cmNlc1thc3NldC5uYW1lXSA9IGFzc2V0LnJlc291cmNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFzc2V0LnJlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zeXN0ZW0uYXBwLmFzc2V0cy5sb2FkKGFzc2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBBdWRpb1NvdXJjZUNvbXBvbmVudCB9O1xuIl0sIm5hbWVzIjpbIkF1ZGlvU291cmNlQ29tcG9uZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzeXN0ZW0iLCJlbnRpdHkiLCJvbiIsIm9uU2V0QXNzZXRzIiwib25TZXRMb29wIiwib25TZXRWb2x1bWUiLCJvblNldFBpdGNoIiwib25TZXRNaW5EaXN0YW5jZSIsIm9uU2V0TWF4RGlzdGFuY2UiLCJvblNldFJvbGxPZmZGYWN0b3IiLCJvblNldERpc3RhbmNlTW9kZWwiLCJvblNldDNkIiwicGxheSIsIm5hbWUiLCJlbmFibGVkIiwiY2hhbm5lbCIsInN0b3AiLCJjb21wb25lbnREYXRhIiwiZGF0YSIsInNvdXJjZXMiLCJtYW5hZ2VyIiwicGxheVNvdW5kIiwiY3VycmVudFNvdXJjZSIsInBvcyIsImdldFBvc2l0aW9uIiwicGxheVNvdW5kM2QiLCJwYXVzZSIsInVucGF1c2UiLCJwYXVzZWQiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwibmV3QXNzZXRzIiwibGVuIiwibGVuZ3RoIiwiaSIsImFzc2V0IiwiYXBwIiwiYXNzZXRzIiwiZ2V0Iiwib2ZmIiwib25Bc3NldENoYW5nZWQiLCJvbkFzc2V0UmVtb3ZlZCIsImluZGV4T2YiLCJBc3NldCIsInB1c2giLCJpZCIsIl9pblRvb2xzIiwibG9hZEF1ZGlvU291cmNlQXNzZXRzIiwiYXR0cmlidXRlIiwic2V0TG9vcCIsInNldFZvbHVtZSIsInNldFBpdGNoIiwiQ2hhbm5lbDNkIiwic2V0TWF4RGlzdGFuY2UiLCJzZXRNaW5EaXN0YW5jZSIsInNldFJvbGxPZmZGYWN0b3IiLCJzZXREaXN0YW5jZU1vZGVsIiwiaW5pdGlhbGl6ZWQiLCJzdXNwZW5kZWQiLCJvbkVuYWJsZSIsInJlZ2lzdHJ5IiwicmVzb3VyY2UiLCJsb2FkIiwiYWN0aXZhdGUiLCJvbkRpc2FibGUiLCJpZHMiLCJtYXAiLCJjb3VudCIsIl9lcnJvciIsImUiLCJfZG9uZSIsImZvckVh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
