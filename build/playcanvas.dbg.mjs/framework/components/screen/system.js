/**
 * @license
 * PlayCanvas Engine v1.63.0-dev revision 9f3635a4e (DEBUG PROFILER)
 * Copyright 2011-2023 PlayCanvas Ltd. All rights reserved.
 */
import { IndexedList } from '../../../core/indexed-list.js';
import { Vec2 } from '../../../core/math/vec2.js';
import { Component } from '../component.js';
import { ComponentSystem } from '../system.js';
import { ScreenComponent } from './component.js';
import { ScreenComponentData } from './data.js';

const _schema = ['enabled'];

/**
 * Manages creation of {@link ScreenComponent}s.
 *
 * @augments ComponentSystem
 */
class ScreenComponentSystem extends ComponentSystem {
  /**
   * Create a new ScreenComponentSystem instance.
   *
   * @param {import('../../app-base.js').AppBase} app - The application.
   * @hideconstructor
   */
  constructor(app) {
    super(app);
    this.id = 'screen';
    this.ComponentType = ScreenComponent;
    this.DataType = ScreenComponentData;
    this.schema = _schema;
    this.windowResolution = new Vec2();

    // queue of callbacks
    this._drawOrderSyncQueue = new IndexedList();
    this.app.graphicsDevice.on('resizecanvas', this._onResize, this);
    this.app.systems.on('update', this._onUpdate, this);
    this.on('beforeremove', this.onRemoveComponent, this);
  }
  initializeComponentData(component, data, properties) {
    if (data.priority !== undefined) component.priority = data.priority;
    if (data.screenSpace !== undefined) component.screenSpace = data.screenSpace;
    component.cull = component.screenSpace;
    if (data.scaleMode !== undefined) component.scaleMode = data.scaleMode;
    if (data.scaleBlend !== undefined) component.scaleBlend = data.scaleBlend;
    if (data.resolution !== undefined) {
      if (data.resolution instanceof Vec2) {
        component._resolution.copy(data.resolution);
      } else {
        component._resolution.set(data.resolution[0], data.resolution[1]);
      }
      component.resolution = component._resolution;
    }
    if (data.referenceResolution !== undefined) {
      if (data.referenceResolution instanceof Vec2) {
        component._referenceResolution.copy(data.referenceResolution);
      } else {
        component._referenceResolution.set(data.referenceResolution[0], data.referenceResolution[1]);
      }
      component.referenceResolution = component._referenceResolution;
    }

    // queue up a draw order sync
    component.syncDrawOrder();
    super.initializeComponentData(component, data, properties);
  }
  destroy() {
    super.destroy();
    this.app.graphicsDevice.off('resizecanvas', this._onResize, this);
    this.app.systems.off('update', this._onUpdate, this);
  }
  _onUpdate(dt) {
    const components = this.store;
    for (const id in components) {
      if (components[id].entity.screen.update) components[id].entity.screen.update(dt);
    }
  }
  _onResize(width, height) {
    this.windowResolution.x = width;
    this.windowResolution.y = height;
  }
  cloneComponent(entity, clone) {
    const screen = entity.screen;
    return this.addComponent(clone, {
      enabled: screen.enabled,
      screenSpace: screen.screenSpace,
      scaleMode: screen.scaleMode,
      resolution: screen.resolution.clone(),
      referenceResolution: screen.referenceResolution.clone()
    });
  }
  onRemoveComponent(entity, component) {
    component.onRemove();
  }
  processDrawOrderSyncQueue() {
    const list = this._drawOrderSyncQueue.list();
    for (let i = 0; i < list.length; i++) {
      const item = list[i];
      item.callback.call(item.scope);
    }
    this._drawOrderSyncQueue.clear();
  }
  queueDrawOrderSync(id, fn, scope) {
    // first queued sync this frame
    // attach an event listener
    if (!this._drawOrderSyncQueue.list().length) {
      this.app.once('prerender', this.processDrawOrderSyncQueue, this);
    }
    if (!this._drawOrderSyncQueue.has(id)) {
      this._drawOrderSyncQueue.push(id, {
        callback: fn,
        scope: scope
      });
    }
  }
}
Component._buildAccessors(ScreenComponent.prototype, _schema);

export { ScreenComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvc2NyZWVuL3N5c3RlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmRleGVkTGlzdCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvaW5kZXhlZC1saXN0LmpzJztcblxuaW1wb3J0IHsgVmVjMiB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbWF0aC92ZWMyLmpzJztcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IENvbXBvbmVudFN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbS5qcyc7XG5cbmltcG9ydCB7IFNjcmVlbkNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IFNjcmVlbkNvbXBvbmVudERhdGEgfSBmcm9tICcuL2RhdGEuanMnO1xuXG5jb25zdCBfc2NoZW1hID0gWydlbmFibGVkJ107XG5cbi8qKlxuICogTWFuYWdlcyBjcmVhdGlvbiBvZiB7QGxpbmsgU2NyZWVuQ29tcG9uZW50fXMuXG4gKlxuICogQGF1Z21lbnRzIENvbXBvbmVudFN5c3RlbVxuICovXG5jbGFzcyBTY3JlZW5Db21wb25lbnRTeXN0ZW0gZXh0ZW5kcyBDb21wb25lbnRTeXN0ZW0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBTY3JlZW5Db21wb25lbnRTeXN0ZW0gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vYXBwLWJhc2UuanMnKS5BcHBCYXNlfSBhcHAgLSBUaGUgYXBwbGljYXRpb24uXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuICAgICAgICBzdXBlcihhcHApO1xuXG4gICAgICAgIHRoaXMuaWQgPSAnc2NyZWVuJztcblxuICAgICAgICB0aGlzLkNvbXBvbmVudFR5cGUgPSBTY3JlZW5Db21wb25lbnQ7XG4gICAgICAgIHRoaXMuRGF0YVR5cGUgPSBTY3JlZW5Db21wb25lbnREYXRhO1xuXG4gICAgICAgIHRoaXMuc2NoZW1hID0gX3NjaGVtYTtcblxuICAgICAgICB0aGlzLndpbmRvd1Jlc29sdXRpb24gPSBuZXcgVmVjMigpO1xuXG4gICAgICAgIC8vIHF1ZXVlIG9mIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9kcmF3T3JkZXJTeW5jUXVldWUgPSBuZXcgSW5kZXhlZExpc3QoKTtcblxuICAgICAgICB0aGlzLmFwcC5ncmFwaGljc0RldmljZS5vbigncmVzaXplY2FudmFzJywgdGhpcy5fb25SZXNpemUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYXBwLnN5c3RlbXMub24oJ3VwZGF0ZScsIHRoaXMuX29uVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLm9uKCdiZWZvcmVyZW1vdmUnLCB0aGlzLm9uUmVtb3ZlQ29tcG9uZW50LCB0aGlzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIGRhdGEsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKGRhdGEucHJpb3JpdHkgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50LnByaW9yaXR5ID0gZGF0YS5wcmlvcml0eTtcbiAgICAgICAgaWYgKGRhdGEuc2NyZWVuU3BhY2UgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50LnNjcmVlblNwYWNlID0gZGF0YS5zY3JlZW5TcGFjZTtcbiAgICAgICAgY29tcG9uZW50LmN1bGwgPSBjb21wb25lbnQuc2NyZWVuU3BhY2U7XG4gICAgICAgIGlmIChkYXRhLnNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQuc2NhbGVNb2RlID0gZGF0YS5zY2FsZU1vZGU7XG4gICAgICAgIGlmIChkYXRhLnNjYWxlQmxlbmQgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50LnNjYWxlQmxlbmQgPSBkYXRhLnNjYWxlQmxlbmQ7XG4gICAgICAgIGlmIChkYXRhLnJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRhdGEucmVzb2x1dGlvbiBpbnN0YW5jZW9mIFZlYzIpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuX3Jlc29sdXRpb24uY29weShkYXRhLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuX3Jlc29sdXRpb24uc2V0KGRhdGEucmVzb2x1dGlvblswXSwgZGF0YS5yZXNvbHV0aW9uWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC5yZXNvbHV0aW9uID0gY29tcG9uZW50Ll9yZXNvbHV0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhLnJlZmVyZW5jZVJlc29sdXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGRhdGEucmVmZXJlbmNlUmVzb2x1dGlvbiBpbnN0YW5jZW9mIFZlYzIpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuX3JlZmVyZW5jZVJlc29sdXRpb24uY29weShkYXRhLnJlZmVyZW5jZVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuX3JlZmVyZW5jZVJlc29sdXRpb24uc2V0KGRhdGEucmVmZXJlbmNlUmVzb2x1dGlvblswXSwgZGF0YS5yZWZlcmVuY2VSZXNvbHV0aW9uWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC5yZWZlcmVuY2VSZXNvbHV0aW9uID0gY29tcG9uZW50Ll9yZWZlcmVuY2VSZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVldWUgdXAgYSBkcmF3IG9yZGVyIHN5bmNcbiAgICAgICAgY29tcG9uZW50LnN5bmNEcmF3T3JkZXIoKTtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBkYXRhLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hcHAuZ3JhcGhpY3NEZXZpY2Uub2ZmKCdyZXNpemVjYW52YXMnLCB0aGlzLl9vblJlc2l6ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLnN5c3RlbXMub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblVwZGF0ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgX29uVXBkYXRlKGR0KSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0aGlzLnN0b3JlO1xuXG4gICAgICAgIGZvciAoY29uc3QgaWQgaW4gY29tcG9uZW50cykge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudHNbaWRdLmVudGl0eS5zY3JlZW4udXBkYXRlKSBjb21wb25lbnRzW2lkXS5lbnRpdHkuc2NyZWVuLnVwZGF0ZShkdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25SZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpbmRvd1Jlc29sdXRpb24ueCA9IHdpZHRoO1xuICAgICAgICB0aGlzLndpbmRvd1Jlc29sdXRpb24ueSA9IGhlaWdodDtcbiAgICB9XG5cbiAgICBjbG9uZUNvbXBvbmVudChlbnRpdHksIGNsb25lKSB7XG4gICAgICAgIGNvbnN0IHNjcmVlbiA9IGVudGl0eS5zY3JlZW47XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ29tcG9uZW50KGNsb25lLCB7XG4gICAgICAgICAgICBlbmFibGVkOiBzY3JlZW4uZW5hYmxlZCxcbiAgICAgICAgICAgIHNjcmVlblNwYWNlOiBzY3JlZW4uc2NyZWVuU3BhY2UsXG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNjcmVlbi5zY2FsZU1vZGUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBzY3JlZW4ucmVzb2x1dGlvbi5jbG9uZSgpLFxuICAgICAgICAgICAgcmVmZXJlbmNlUmVzb2x1dGlvbjogc2NyZWVuLnJlZmVyZW5jZVJlc29sdXRpb24uY2xvbmUoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblJlbW92ZUNvbXBvbmVudChlbnRpdHksIGNvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQub25SZW1vdmUoKTtcbiAgICB9XG5cbiAgICBwcm9jZXNzRHJhd09yZGVyU3luY1F1ZXVlKCkge1xuICAgICAgICBjb25zdCBsaXN0ID0gdGhpcy5fZHJhd09yZGVyU3luY1F1ZXVlLmxpc3QoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgICAgICAgaXRlbS5jYWxsYmFjay5jYWxsKGl0ZW0uc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdPcmRlclN5bmNRdWV1ZS5jbGVhcigpO1xuICAgIH1cblxuICAgIHF1ZXVlRHJhd09yZGVyU3luYyhpZCwgZm4sIHNjb3BlKSB7XG4gICAgICAgIC8vIGZpcnN0IHF1ZXVlZCBzeW5jIHRoaXMgZnJhbWVcbiAgICAgICAgLy8gYXR0YWNoIGFuIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgIGlmICghdGhpcy5fZHJhd09yZGVyU3luY1F1ZXVlLmxpc3QoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwLm9uY2UoJ3ByZXJlbmRlcicsIHRoaXMucHJvY2Vzc0RyYXdPcmRlclN5bmNRdWV1ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2RyYXdPcmRlclN5bmNRdWV1ZS5oYXMoaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9kcmF3T3JkZXJTeW5jUXVldWUucHVzaChpZCwge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmbixcbiAgICAgICAgICAgICAgICBzY29wZTogc2NvcGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5Db21wb25lbnQuX2J1aWxkQWNjZXNzb3JzKFNjcmVlbkNvbXBvbmVudC5wcm90b3R5cGUsIF9zY2hlbWEpO1xuXG5leHBvcnQgeyBTY3JlZW5Db21wb25lbnRTeXN0ZW0gfTtcbiJdLCJuYW1lcyI6WyJfc2NoZW1hIiwiU2NyZWVuQ29tcG9uZW50U3lzdGVtIiwiQ29tcG9uZW50U3lzdGVtIiwiY29uc3RydWN0b3IiLCJhcHAiLCJpZCIsIkNvbXBvbmVudFR5cGUiLCJTY3JlZW5Db21wb25lbnQiLCJEYXRhVHlwZSIsIlNjcmVlbkNvbXBvbmVudERhdGEiLCJzY2hlbWEiLCJ3aW5kb3dSZXNvbHV0aW9uIiwiVmVjMiIsIl9kcmF3T3JkZXJTeW5jUXVldWUiLCJJbmRleGVkTGlzdCIsImdyYXBoaWNzRGV2aWNlIiwib24iLCJfb25SZXNpemUiLCJzeXN0ZW1zIiwiX29uVXBkYXRlIiwib25SZW1vdmVDb21wb25lbnQiLCJpbml0aWFsaXplQ29tcG9uZW50RGF0YSIsImNvbXBvbmVudCIsImRhdGEiLCJwcm9wZXJ0aWVzIiwicHJpb3JpdHkiLCJ1bmRlZmluZWQiLCJzY3JlZW5TcGFjZSIsImN1bGwiLCJzY2FsZU1vZGUiLCJzY2FsZUJsZW5kIiwicmVzb2x1dGlvbiIsIl9yZXNvbHV0aW9uIiwiY29weSIsInNldCIsInJlZmVyZW5jZVJlc29sdXRpb24iLCJfcmVmZXJlbmNlUmVzb2x1dGlvbiIsInN5bmNEcmF3T3JkZXIiLCJkZXN0cm95Iiwib2ZmIiwiZHQiLCJjb21wb25lbnRzIiwic3RvcmUiLCJlbnRpdHkiLCJzY3JlZW4iLCJ1cGRhdGUiLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ5IiwiY2xvbmVDb21wb25lbnQiLCJjbG9uZSIsImFkZENvbXBvbmVudCIsImVuYWJsZWQiLCJvblJlbW92ZSIsInByb2Nlc3NEcmF3T3JkZXJTeW5jUXVldWUiLCJsaXN0IiwiaSIsImxlbmd0aCIsIml0ZW0iLCJjYWxsYmFjayIsImNhbGwiLCJzY29wZSIsImNsZWFyIiwicXVldWVEcmF3T3JkZXJTeW5jIiwiZm4iLCJv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
