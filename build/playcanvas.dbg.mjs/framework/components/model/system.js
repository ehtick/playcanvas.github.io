/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { extend } from '../../../core/core.js';
import { Vec3 } from '../../../math/vec3.js';
import { BoundingBox } from '../../../shape/bounding-box.js';
import { getDefaultMaterial } from '../../../scene/materials/default-material.js';
import { Asset } from '../../../asset/asset.js';
import { Component } from '../component.js';
import { ComponentSystem } from '../system.js';
import { ModelComponent } from './component.js';
import { ModelComponentData } from './data.js';

const _schema = ['enabled'];

class ModelComponentSystem extends ComponentSystem {
  constructor(app) {
    super(app);
    this.id = 'model';
    this.ComponentType = ModelComponent;
    this.DataType = ModelComponentData;
    this.schema = _schema;
    this.defaultMaterial = getDefaultMaterial(app.graphicsDevice);
    this.on('beforeremove', this.onRemove, this);
  }

  initializeComponentData(component, _data, properties) {
    properties = ['material', 'materialAsset', 'asset', 'castShadows', 'receiveShadows', 'castShadowsLightmap', 'lightmapped', 'lightmapSizeMultiplier', 'type', 'mapping', 'layers', 'isStatic', 'batchGroupId'];

    if (_data.batchGroupId === null || _data.batchGroupId === undefined) {
      _data.batchGroupId = -1;
    }

    if (_data.layers && _data.layers.length) {
      _data.layers = _data.layers.slice(0);
    }

    for (let i = 0; i < properties.length; i++) {
      if (_data.hasOwnProperty(properties[i])) {
        component[properties[i]] = _data[properties[i]];
      }
    }

    if (_data.aabbCenter && _data.aabbHalfExtents) {
      component.customAabb = new BoundingBox(new Vec3(_data.aabbCenter), new Vec3(_data.aabbHalfExtents));
    }

    super.initializeComponentData(component, _data, ['enabled']);
  }

  cloneComponent(entity, clone) {
    const data = {
      type: entity.model.type,
      asset: entity.model.asset,
      castShadows: entity.model.castShadows,
      receiveShadows: entity.model.receiveShadows,
      castShadowsLightmap: entity.model.castShadowsLightmap,
      lightmapped: entity.model.lightmapped,
      lightmapSizeMultiplier: entity.model.lightmapSizeMultiplier,
      isStatic: entity.model.isStatic,
      enabled: entity.model.enabled,
      layers: entity.model.layers,
      batchGroupId: entity.model.batchGroupId,
      mapping: extend({}, entity.model.mapping)
    };
    let materialAsset = entity.model.materialAsset;

    if (!(materialAsset instanceof Asset) && materialAsset != null) {
      materialAsset = this.app.assets.get(materialAsset);
    }

    const material = entity.model.material;

    if (!material || material === this.defaultMaterial || !materialAsset || material === materialAsset.resource) {
      data.materialAsset = materialAsset;
    }

    const component = this.addComponent(clone, data);

    if (entity.model.model && entity.model.type === 'asset' && !entity.model.asset) {
      component.model = entity.model.model.clone();
      component._clonedModel = true;
    }

    if (!data.materialAsset) component.material = material;

    if (entity.model.model) {
      const meshInstances = entity.model.model.meshInstances;
      const meshInstancesClone = component.model.meshInstances;

      for (let i = 0; i < meshInstances.length; i++) {
        meshInstancesClone[i].mask = meshInstances[i].mask;
        meshInstancesClone[i].material = meshInstances[i].material;
        meshInstancesClone[i].layer = meshInstances[i].layer;
        meshInstancesClone[i].receiveShadow = meshInstances[i].receiveShadow;
      }
    }

    if (entity.model.customAabb) {
      component.customAabb = entity.model.customAabb.clone();
    }

    return component;
  }

  onRemove(entity, component) {
    component.onRemove();
  }

}

Component._buildAccessors(ModelComponent.prototype, _schema);

export { ModelComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvbW9kZWwvc3lzdGVtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4dGVuZCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvY29yZS5qcyc7XG5cbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi8uLi9tYXRoL3ZlYzMuanMnO1xuXG5pbXBvcnQgeyBCb3VuZGluZ0JveCB9IGZyb20gJy4uLy4uLy4uL3NoYXBlL2JvdW5kaW5nLWJveC5qcyc7XG5cbmltcG9ydCB7IGdldERlZmF1bHRNYXRlcmlhbCB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL21hdGVyaWFscy9kZWZhdWx0LW1hdGVyaWFsLmpzJztcblxuaW1wb3J0IHsgQXNzZXQgfSBmcm9tICcuLi8uLi8uLi9hc3NldC9hc3NldC5qcyc7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudC5qcyc7XG5pbXBvcnQgeyBDb21wb25lbnRTeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW0uanMnO1xuXG5pbXBvcnQgeyBNb2RlbENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50LmpzJztcbmltcG9ydCB7IE1vZGVsQ29tcG9uZW50RGF0YSB9IGZyb20gJy4vZGF0YS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9hcHAtYmFzZS5qcycpLkFwcEJhc2V9IEFwcEJhc2UgKi9cblxuY29uc3QgX3NjaGVtYSA9IFsnZW5hYmxlZCddO1xuXG4vKipcbiAqIEFsbG93cyBhbiBFbnRpdHkgdG8gcmVuZGVyIGEgbW9kZWwgb3IgYSBwcmltaXRpdmUgc2hhcGUgbGlrZSBhIGJveCwgY2Fwc3VsZSwgc3BoZXJlLCBjeWxpbmRlcixcbiAqIGNvbmUgZXRjLlxuICpcbiAqIEBhdWdtZW50cyBDb21wb25lbnRTeXN0ZW1cbiAqL1xuY2xhc3MgTW9kZWxDb21wb25lbnRTeXN0ZW0gZXh0ZW5kcyBDb21wb25lbnRTeXN0ZW0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBNb2RlbENvbXBvbmVudFN5c3RlbSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXBwQmFzZX0gYXBwIC0gVGhlIEFwcGxpY2F0aW9uLlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcblxuICAgICAgICB0aGlzLmlkID0gJ21vZGVsJztcblxuICAgICAgICB0aGlzLkNvbXBvbmVudFR5cGUgPSBNb2RlbENvbXBvbmVudDtcbiAgICAgICAgdGhpcy5EYXRhVHlwZSA9IE1vZGVsQ29tcG9uZW50RGF0YTtcblxuICAgICAgICB0aGlzLnNjaGVtYSA9IF9zY2hlbWE7XG4gICAgICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gZ2V0RGVmYXVsdE1hdGVyaWFsKGFwcC5ncmFwaGljc0RldmljZSk7XG5cbiAgICAgICAgdGhpcy5vbignYmVmb3JlcmVtb3ZlJywgdGhpcy5vblJlbW92ZSwgdGhpcyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBfZGF0YSwgcHJvcGVydGllcykge1xuICAgICAgICAvLyBvcmRlciBtYXR0ZXJzIGhlcmVcbiAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICdtYXRlcmlhbCcsXG4gICAgICAgICAgICAnbWF0ZXJpYWxBc3NldCcsXG4gICAgICAgICAgICAnYXNzZXQnLFxuICAgICAgICAgICAgJ2Nhc3RTaGFkb3dzJyxcbiAgICAgICAgICAgICdyZWNlaXZlU2hhZG93cycsXG4gICAgICAgICAgICAnY2FzdFNoYWRvd3NMaWdodG1hcCcsXG4gICAgICAgICAgICAnbGlnaHRtYXBwZWQnLFxuICAgICAgICAgICAgJ2xpZ2h0bWFwU2l6ZU11bHRpcGxpZXInLFxuICAgICAgICAgICAgJ3R5cGUnLFxuICAgICAgICAgICAgJ21hcHBpbmcnLFxuICAgICAgICAgICAgJ2xheWVycycsXG4gICAgICAgICAgICAnaXNTdGF0aWMnLFxuICAgICAgICAgICAgJ2JhdGNoR3JvdXBJZCdcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoX2RhdGEuYmF0Y2hHcm91cElkID09PSBudWxsIHx8IF9kYXRhLmJhdGNoR3JvdXBJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfZGF0YS5iYXRjaEdyb3VwSWQgPSAtMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGR1cGxpY2F0ZSBsYXllciBsaXN0XG4gICAgICAgIGlmIChfZGF0YS5sYXllcnMgJiYgX2RhdGEubGF5ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgX2RhdGEubGF5ZXJzID0gX2RhdGEubGF5ZXJzLnNsaWNlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoX2RhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydGllc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRbcHJvcGVydGllc1tpXV0gPSBfZGF0YVtwcm9wZXJ0aWVzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfZGF0YS5hYWJiQ2VudGVyICYmIF9kYXRhLmFhYmJIYWxmRXh0ZW50cykge1xuICAgICAgICAgICAgY29tcG9uZW50LmN1c3RvbUFhYmIgPSBuZXcgQm91bmRpbmdCb3gobmV3IFZlYzMoX2RhdGEuYWFiYkNlbnRlciksIG5ldyBWZWMzKF9kYXRhLmFhYmJIYWxmRXh0ZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEoY29tcG9uZW50LCBfZGF0YSwgWydlbmFibGVkJ10pO1xuICAgIH1cblxuICAgIGNsb25lQ29tcG9uZW50KGVudGl0eSwgY2xvbmUpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IGVudGl0eS5tb2RlbC50eXBlLFxuICAgICAgICAgICAgYXNzZXQ6IGVudGl0eS5tb2RlbC5hc3NldCxcbiAgICAgICAgICAgIGNhc3RTaGFkb3dzOiBlbnRpdHkubW9kZWwuY2FzdFNoYWRvd3MsXG4gICAgICAgICAgICByZWNlaXZlU2hhZG93czogZW50aXR5Lm1vZGVsLnJlY2VpdmVTaGFkb3dzLFxuICAgICAgICAgICAgY2FzdFNoYWRvd3NMaWdodG1hcDogZW50aXR5Lm1vZGVsLmNhc3RTaGFkb3dzTGlnaHRtYXAsXG4gICAgICAgICAgICBsaWdodG1hcHBlZDogZW50aXR5Lm1vZGVsLmxpZ2h0bWFwcGVkLFxuICAgICAgICAgICAgbGlnaHRtYXBTaXplTXVsdGlwbGllcjogZW50aXR5Lm1vZGVsLmxpZ2h0bWFwU2l6ZU11bHRpcGxpZXIsXG4gICAgICAgICAgICBpc1N0YXRpYzogZW50aXR5Lm1vZGVsLmlzU3RhdGljLFxuICAgICAgICAgICAgZW5hYmxlZDogZW50aXR5Lm1vZGVsLmVuYWJsZWQsXG4gICAgICAgICAgICBsYXllcnM6IGVudGl0eS5tb2RlbC5sYXllcnMsXG4gICAgICAgICAgICBiYXRjaEdyb3VwSWQ6IGVudGl0eS5tb2RlbC5iYXRjaEdyb3VwSWQsXG4gICAgICAgICAgICBtYXBwaW5nOiBleHRlbmQoe30sIGVudGl0eS5tb2RlbC5tYXBwaW5nKVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGlmIG9yaWdpbmFsIGhhcyBhIGRpZmZlcmVudCBtYXRlcmlhbFxuICAgICAgICAvLyB0aGFuIHRoZSBhc3NpZ25lZCBtYXRlcmlhbEFzc2V0IHRoZW4gbWFrZSBzdXJlIHdlXG4gICAgICAgIC8vIGNsb25lIHRoYXQgb25lIGluc3RlYWQgb2YgdGhlIG1hdGVyaWFsQXNzZXQgb25lXG4gICAgICAgIGxldCBtYXRlcmlhbEFzc2V0ID0gZW50aXR5Lm1vZGVsLm1hdGVyaWFsQXNzZXQ7XG4gICAgICAgIGlmICghKG1hdGVyaWFsQXNzZXQgaW5zdGFuY2VvZiBBc3NldCkgJiYgbWF0ZXJpYWxBc3NldCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXRlcmlhbEFzc2V0ID0gdGhpcy5hcHAuYXNzZXRzLmdldChtYXRlcmlhbEFzc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gZW50aXR5Lm1vZGVsLm1hdGVyaWFsO1xuICAgICAgICBpZiAoIW1hdGVyaWFsIHx8XG4gICAgICAgICAgICBtYXRlcmlhbCA9PT0gdGhpcy5kZWZhdWx0TWF0ZXJpYWwgfHxcbiAgICAgICAgICAgICFtYXRlcmlhbEFzc2V0IHx8XG4gICAgICAgICAgICBtYXRlcmlhbCA9PT0gbWF0ZXJpYWxBc3NldC5yZXNvdXJjZSkge1xuXG4gICAgICAgICAgICBkYXRhLm1hdGVyaWFsQXNzZXQgPSBtYXRlcmlhbEFzc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5hZGRDb21wb25lbnQoY2xvbmUsIGRhdGEpO1xuXG4gICAgICAgIC8vIGNsb25lIHRoZSBvcmlnaW5hbCBtb2RlbCBpZiB0aGUgb3JpZ2luYWwgbW9kZWwgY29tcG9uZW50IGlzIG9mIHR5cGUgYXNzZXQgYnV0XG4gICAgICAgIC8vIGhhcyBubyBzcGVjaWZpZWQgYXNzZXRcbiAgICAgICAgaWYgKGVudGl0eS5tb2RlbC5tb2RlbCAmJiBlbnRpdHkubW9kZWwudHlwZSA9PT0gJ2Fzc2V0JyAmJiAhZW50aXR5Lm1vZGVsLmFzc2V0KSB7XG4gICAgICAgICAgICBjb21wb25lbnQubW9kZWwgPSBlbnRpdHkubW9kZWwubW9kZWwuY2xvbmUoKTtcbiAgICAgICAgICAgIGNvbXBvbmVudC5fY2xvbmVkTW9kZWwgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkYXRhLm1hdGVyaWFsQXNzZXQpXG4gICAgICAgICAgICBjb21wb25lbnQubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICAvLyBUT0RPOiB3ZSBzaG91bGQgY29weSBhbGwgcmVsZXZhbnQgbWVzaCBpbnN0YW5jZSBwcm9wZXJ0aWVzIGhlcmVcbiAgICAgICAgaWYgKGVudGl0eS5tb2RlbC5tb2RlbCkge1xuICAgICAgICAgICAgY29uc3QgbWVzaEluc3RhbmNlcyA9IGVudGl0eS5tb2RlbC5tb2RlbC5tZXNoSW5zdGFuY2VzO1xuICAgICAgICAgICAgY29uc3QgbWVzaEluc3RhbmNlc0Nsb25lID0gY29tcG9uZW50Lm1vZGVsLm1lc2hJbnN0YW5jZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc2hJbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtZXNoSW5zdGFuY2VzQ2xvbmVbaV0ubWFzayA9IG1lc2hJbnN0YW5jZXNbaV0ubWFzaztcbiAgICAgICAgICAgICAgICBtZXNoSW5zdGFuY2VzQ2xvbmVbaV0ubWF0ZXJpYWwgPSBtZXNoSW5zdGFuY2VzW2ldLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIG1lc2hJbnN0YW5jZXNDbG9uZVtpXS5sYXllciA9IG1lc2hJbnN0YW5jZXNbaV0ubGF5ZXI7XG4gICAgICAgICAgICAgICAgbWVzaEluc3RhbmNlc0Nsb25lW2ldLnJlY2VpdmVTaGFkb3cgPSBtZXNoSW5zdGFuY2VzW2ldLnJlY2VpdmVTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50aXR5Lm1vZGVsLmN1c3RvbUFhYmIpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5jdXN0b21BYWJiID0gZW50aXR5Lm1vZGVsLmN1c3RvbUFhYmIuY2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuXG4gICAgb25SZW1vdmUoZW50aXR5LCBjb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50Lm9uUmVtb3ZlKCk7XG4gICAgfVxufVxuXG5Db21wb25lbnQuX2J1aWxkQWNjZXNzb3JzKE1vZGVsQ29tcG9uZW50LnByb3RvdHlwZSwgX3NjaGVtYSk7XG5cbmV4cG9ydCB7IE1vZGVsQ29tcG9uZW50U3lzdGVtIH07XG4iXSwibmFtZXMiOlsiX3NjaGVtYSIsIk1vZGVsQ29tcG9uZW50U3lzdGVtIiwiQ29tcG9uZW50U3lzdGVtIiwiY29uc3RydWN0b3IiLCJhcHAiLCJpZCIsIkNvbXBvbmVudFR5cGUiLCJNb2RlbENvbXBvbmVudCIsIkRhdGFUeXBlIiwiTW9kZWxDb21wb25lbnREYXRhIiwic2NoZW1hIiwiZGVmYXVsdE1hdGVyaWFsIiwiZ2V0RGVmYXVsdE1hdGVyaWFsIiwiZ3JhcGhpY3NEZXZpY2UiLCJvbiIsIm9uUmVtb3ZlIiwiaW5pdGlhbGl6ZUNvbXBvbmVudERhdGEiLCJjb21wb25lbnQiLCJfZGF0YSIsInByb3BlcnRpZXMiLCJiYXRjaEdyb3VwSWQiLCJ1bmRlZmluZWQiLCJsYXllcnMiLCJsZW5ndGgiLCJzbGljZSIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsImFhYmJDZW50ZXIiLCJhYWJiSGFsZkV4dGVudHMiLCJjdXN0b21BYWJiIiwiQm91bmRpbmdCb3giLCJWZWMzIiwiY2xvbmVDb21wb25lbnQiLCJlbnRpdHkiLCJjbG9uZSIsImRhdGEiLCJ0eXBlIiwibW9kZWwiLCJhc3NldCIsImNhc3RTaGFkb3dzIiwicmVjZWl2ZVNoYWRvd3MiLCJjYXN0U2hhZG93c0xpZ2h0bWFwIiwibGlnaHRtYXBwZWQiLCJsaWdodG1hcFNpemVNdWx0aXBsaWVyIiwiaXNTdGF0aWMiLCJlbmFibGVkIiwibWFwcGluZyIsImV4dGVuZCIsIm1hdGVyaWFsQXNzZXQiLCJBc3NldCIsImFzc2V0cyIsImdldCIsIm1hdGVyaWFsIiwicmVzb3VyY2UiLCJhZGRDb21wb25lbnQiLCJfY2xvbmVkTW9kZWwiLCJtZXNoSW5zdGFuY2VzIiwibWVzaEluc3RhbmNlc0Nsb25lIiwibWFzayIsImxheWVyIiwicmVjZWl2ZVNoYWRvdyIsIkNvbXBvbmVudCIsIl9idWlsZEFjY2Vzc29ycyIsInByb3RvdHlwZSJdLCJtYXBw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
