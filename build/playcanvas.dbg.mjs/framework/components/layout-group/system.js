/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { Vec2 } from '../../../math/vec2.js';
import { Vec4 } from '../../../math/vec4.js';
import { Component } from '../component.js';
import { ComponentSystem } from '../system.js';
import { LayoutGroupComponent } from './component.js';
import { LayoutGroupComponentData } from './data.js';

const _schema = ['enabled'];
const MAX_ITERATIONS = 100;

class LayoutGroupComponentSystem extends ComponentSystem {
  constructor(app) {
    super(app);
    this.id = 'layoutgroup';
    this.ComponentType = LayoutGroupComponent;
    this.DataType = LayoutGroupComponentData;
    this.schema = _schema;
    this._reflowQueue = [];
    this.on('beforeremove', this._onRemoveComponent, this);
    this.app.systems.on('postUpdate', this._onPostUpdate, this);
  }

  initializeComponentData(component, data, properties) {
    if (data.enabled !== undefined) component.enabled = data.enabled;
    if (data.orientation !== undefined) component.orientation = data.orientation;
    if (data.reverseX !== undefined) component.reverseX = data.reverseX;
    if (data.reverseY !== undefined) component.reverseY = data.reverseY;

    if (data.alignment !== undefined) {
      component.alignment = Array.isArray(data.alignment) ? new Vec2(data.alignment) : data.alignment;
    }

    if (data.padding !== undefined) {
      component.padding = Array.isArray(data.padding) ? new Vec4(data.padding) : data.padding;
    }

    if (data.spacing !== undefined) {
      component.spacing = Array.isArray(data.spacing) ? new Vec2(data.spacing) : data.spacing;
    }

    if (data.widthFitting !== undefined) component.widthFitting = data.widthFitting;
    if (data.heightFitting !== undefined) component.heightFitting = data.heightFitting;
    if (data.wrap !== undefined) component.wrap = data.wrap;
    super.initializeComponentData(component, data, properties);
  }

  cloneComponent(entity, clone) {
    const layoutGroup = entity.layoutgroup;
    return this.addComponent(clone, {
      enabled: layoutGroup.enabled,
      orientation: layoutGroup.orientation,
      reverseX: layoutGroup.reverseX,
      reverseY: layoutGroup.reverseY,
      alignment: layoutGroup.alignment,
      padding: layoutGroup.padding,
      spacing: layoutGroup.spacing,
      widthFitting: layoutGroup.widthFitting,
      heightFitting: layoutGroup.heightFitting,
      wrap: layoutGroup.wrap
    });
  }

  scheduleReflow(component) {
    if (this._reflowQueue.indexOf(component) === -1) {
      this._reflowQueue.push(component);
    }
  }

  _onPostUpdate() {
    this._processReflowQueue();
  }

  _processReflowQueue() {
    if (this._reflowQueue.length === 0) {
      return;
    }

    let iterationCount = 0;

    while (this._reflowQueue.length > 0) {
      const queue = this._reflowQueue.slice();

      this._reflowQueue.length = 0;
      queue.sort(function (componentA, componentB) {
        return componentA.entity.graphDepth - componentB.entity.graphDepth;
      });

      for (let i = 0; i < queue.length; ++i) {
        queue[i].reflow();
      }

      if (++iterationCount >= MAX_ITERATIONS) {
        console.warn('Max reflow iterations limit reached, bailing.');
        break;
      }
    }
  }

  _onRemoveComponent(entity, component) {
    component.onRemove();
  }

  destroy() {
    super.destroy();
    this.app.systems.off('postUpdate', this._onPostUpdate, this);
  }

}

Component._buildAccessors(LayoutGroupComponent.prototype, _schema);

export { LayoutGroupComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvbGF5b3V0LWdyb3VwL3N5c3RlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWMyIH0gZnJvbSAnLi4vLi4vLi4vbWF0aC92ZWMyLmpzJztcbmltcG9ydCB7IFZlYzQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL3ZlYzQuanMnO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgQ29tcG9uZW50U3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtLmpzJztcblxuaW1wb3J0IHsgTGF5b3V0R3JvdXBDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudC5qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbXBvbmVudERhdGEgfSBmcm9tICcuL2RhdGEuanMnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnLi4vLi4vYXBwLWJhc2UuanMnKS5BcHBCYXNlfSBBcHBCYXNlICovXG5cbmNvbnN0IF9zY2hlbWEgPSBbJ2VuYWJsZWQnXTtcblxuY29uc3QgTUFYX0lURVJBVElPTlMgPSAxMDA7XG5cbi8qKlxuICogTWFuYWdlcyBjcmVhdGlvbiBvZiB7QGxpbmsgTGF5b3V0R3JvdXBDb21wb25lbnR9cy5cbiAqXG4gKiBAYXVnbWVudHMgQ29tcG9uZW50U3lzdGVtXG4gKi9cbmNsYXNzIExheW91dEdyb3VwQ29tcG9uZW50U3lzdGVtIGV4dGVuZHMgQ29tcG9uZW50U3lzdGVtIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTGF5b3V0R3JvdXBDb21wb25lbnRTeXN0ZW0gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FwcEJhc2V9IGFwcCAtIFRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG5cbiAgICAgICAgdGhpcy5pZCA9ICdsYXlvdXRncm91cCc7XG5cbiAgICAgICAgdGhpcy5Db21wb25lbnRUeXBlID0gTGF5b3V0R3JvdXBDb21wb25lbnQ7XG4gICAgICAgIHRoaXMuRGF0YVR5cGUgPSBMYXlvdXRHcm91cENvbXBvbmVudERhdGE7XG5cbiAgICAgICAgdGhpcy5zY2hlbWEgPSBfc2NoZW1hO1xuXG4gICAgICAgIHRoaXMuX3JlZmxvd1F1ZXVlID0gW107XG5cbiAgICAgICAgdGhpcy5vbignYmVmb3JlcmVtb3ZlJywgdGhpcy5fb25SZW1vdmVDb21wb25lbnQsIHRoaXMpO1xuXG4gICAgICAgIC8vIFBlcmZvcm0gcmVmbG93IHdoZW4gcnVubmluZyBpbiB0aGUgZW5naW5lXG4gICAgICAgIHRoaXMuYXBwLnN5c3RlbXMub24oJ3Bvc3RVcGRhdGUnLCB0aGlzLl9vblBvc3RVcGRhdGUsIHRoaXMpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemVDb21wb25lbnREYXRhKGNvbXBvbmVudCwgZGF0YSwgcHJvcGVydGllcykge1xuICAgICAgICBpZiAoZGF0YS5lbmFibGVkICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudC5lbmFibGVkID0gZGF0YS5lbmFibGVkO1xuICAgICAgICBpZiAoZGF0YS5vcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQub3JpZW50YXRpb24gPSBkYXRhLm9yaWVudGF0aW9uO1xuICAgICAgICBpZiAoZGF0YS5yZXZlcnNlWCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQucmV2ZXJzZVggPSBkYXRhLnJldmVyc2VYO1xuICAgICAgICBpZiAoZGF0YS5yZXZlcnNlWSAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQucmV2ZXJzZVkgPSBkYXRhLnJldmVyc2VZO1xuICAgICAgICBpZiAoZGF0YS5hbGlnbm1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcG9uZW50LmFsaWdubWVudCA9IEFycmF5LmlzQXJyYXkoZGF0YS5hbGlnbm1lbnQpID8gbmV3IFZlYzIoZGF0YS5hbGlnbm1lbnQpIDogZGF0YS5hbGlnbm1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEucGFkZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnQucGFkZGluZyA9IEFycmF5LmlzQXJyYXkoZGF0YS5wYWRkaW5nKSA/IG5ldyBWZWM0KGRhdGEucGFkZGluZykgOiBkYXRhLnBhZGRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEuc3BhY2luZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnQuc3BhY2luZyA9IEFycmF5LmlzQXJyYXkoZGF0YS5zcGFjaW5nKSA/IG5ldyBWZWMyKGRhdGEuc3BhY2luZykgOiBkYXRhLnNwYWNpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEud2lkdGhGaXR0aW5nICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudC53aWR0aEZpdHRpbmcgPSBkYXRhLndpZHRoRml0dGluZztcbiAgICAgICAgaWYgKGRhdGEuaGVpZ2h0Rml0dGluZyAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQuaGVpZ2h0Rml0dGluZyA9IGRhdGEuaGVpZ2h0Rml0dGluZztcbiAgICAgICAgaWYgKGRhdGEud3JhcCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnQud3JhcCA9IGRhdGEud3JhcDtcblxuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIGRhdGEsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIGNsb25lQ29tcG9uZW50KGVudGl0eSwgY2xvbmUpIHtcbiAgICAgICAgY29uc3QgbGF5b3V0R3JvdXAgPSBlbnRpdHkubGF5b3V0Z3JvdXA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkQ29tcG9uZW50KGNsb25lLCB7XG4gICAgICAgICAgICBlbmFibGVkOiBsYXlvdXRHcm91cC5lbmFibGVkLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IGxheW91dEdyb3VwLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgcmV2ZXJzZVg6IGxheW91dEdyb3VwLnJldmVyc2VYLFxuICAgICAgICAgICAgcmV2ZXJzZVk6IGxheW91dEdyb3VwLnJldmVyc2VZLFxuICAgICAgICAgICAgYWxpZ25tZW50OiBsYXlvdXRHcm91cC5hbGlnbm1lbnQsXG4gICAgICAgICAgICBwYWRkaW5nOiBsYXlvdXRHcm91cC5wYWRkaW5nLFxuICAgICAgICAgICAgc3BhY2luZzogbGF5b3V0R3JvdXAuc3BhY2luZyxcbiAgICAgICAgICAgIHdpZHRoRml0dGluZzogbGF5b3V0R3JvdXAud2lkdGhGaXR0aW5nLFxuICAgICAgICAgICAgaGVpZ2h0Rml0dGluZzogbGF5b3V0R3JvdXAuaGVpZ2h0Rml0dGluZyxcbiAgICAgICAgICAgIHdyYXA6IGxheW91dEdyb3VwLndyYXBcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2NoZWR1bGVSZWZsb3coY29tcG9uZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZsb3dRdWV1ZS5pbmRleE9mKGNvbXBvbmVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWZsb3dRdWV1ZS5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Qb3N0VXBkYXRlKCkge1xuICAgICAgICB0aGlzLl9wcm9jZXNzUmVmbG93UXVldWUoKTtcbiAgICB9XG5cbiAgICBfcHJvY2Vzc1JlZmxvd1F1ZXVlKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVmbG93UXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXRlcmF0aW9uQ291bnQgPSAwO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9yZWZsb3dRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBxdWV1ZSB0byBzb3J0IGFuZCBwcm9jZXNzLiBJZiBwcm9jZXNzaW5nIHRoZSByZWZsb3cgb2YgYW55XG4gICAgICAgICAgICAvLyBsYXlvdXQgZ3JvdXBzIHJlc3VsdHMgaW4gYWRkaXRpb25hbCBncm91cHMgYmVpbmcgcHVzaGVkIHRvIHRoZSBxdWV1ZSwgdGhleSB3aWxsXG4gICAgICAgICAgICAvLyBiZSBwcm9jZXNzZWQgb24gdGhlIG5leHQgaXRlcmF0aW9uIG9mIHRoZSB3aGlsZSBsb29wLlxuICAgICAgICAgICAgY29uc3QgcXVldWUgPSB0aGlzLl9yZWZsb3dRdWV1ZS5zbGljZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVmbG93UXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgLy8gU29ydCBpbiBhc2NlbmRpbmcgb3JkZXIgb2YgZGVwdGggd2l0aGluIHRoZSBncmFwaCAoaS5lLiBvdXRlcm1vc3QgZmlyc3QpLCBzbyB0aGF0XG4gICAgICAgICAgICAvLyBhbnkgbGF5b3V0IGdyb3VwcyB3aGljaCBhcmUgY2hpbGRyZW4gb2Ygb3RoZXIgbGF5b3V0IGdyb3VwcyB3aWxsIGFsd2F5cyBoYXZlIHRoZWlyXG4gICAgICAgICAgICAvLyBuZXcgc2l6ZSBzZXQgYmVmb3JlIHRoZWlyIG93biByZWZsb3cgaXMgY2FsY3VsYXRlZC5cbiAgICAgICAgICAgIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGNvbXBvbmVudEEsIGNvbXBvbmVudEIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGNvbXBvbmVudEEuZW50aXR5LmdyYXBoRGVwdGggLSBjb21wb25lbnRCLmVudGl0eS5ncmFwaERlcHRoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcXVldWVbaV0ucmVmbG93KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgrK2l0ZXJhdGlvbkNvdW50ID49IE1BWF9JVEVSQVRJT05TKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNYXggcmVmbG93IGl0ZXJhdGlvbnMgbGltaXQgcmVhY2hlZCwgYmFpbGluZy4nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblJlbW92ZUNvbXBvbmVudChlbnRpdHksIGNvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQub25SZW1vdmUoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hcHAuc3lzdGVtcy5vZmYoJ3Bvc3RVcGRhdGUnLCB0aGlzLl9vblBvc3RVcGRhdGUsIHRoaXMpO1xuICAgIH1cbn1cblxuQ29tcG9uZW50Ll9idWlsZEFjY2Vzc29ycyhMYXlvdXRHcm91cENvbXBvbmVudC5wcm90b3R5cGUsIF9zY2hlbWEpO1xuXG5leHBvcnQgeyBMYXlvdXRHcm91cENvbXBvbmVudFN5c3RlbSB9O1xuIl0sIm5hbWVzIjpbIl9zY2hlbWEiLCJNQVhfSVRFUkFUSU9OUyIsIkxheW91dEdyb3VwQ29tcG9uZW50U3lzdGVtIiwiQ29tcG9uZW50U3lzdGVtIiwiY29uc3RydWN0b3IiLCJhcHAiLCJpZCIsIkNvbXBvbmVudFR5cGUiLCJMYXlvdXRHcm91cENvbXBvbmVudCIsIkRhdGFUeXBlIiwiTGF5b3V0R3JvdXBDb21wb25lbnREYXRhIiwic2NoZW1hIiwiX3JlZmxvd1F1ZXVlIiwib24iLCJfb25SZW1vdmVDb21wb25lbnQiLCJzeXN0ZW1zIiwiX29uUG9zdFVwZGF0ZSIsImluaXRpYWxpemVDb21wb25lbnREYXRhIiwiY29tcG9uZW50IiwiZGF0YSIsInByb3BlcnRpZXMiLCJlbmFibGVkIiwidW5kZWZpbmVkIiwib3JpZW50YXRpb24iLCJyZXZlcnNlWCIsInJldmVyc2VZIiwiYWxpZ25tZW50IiwiQXJyYXkiLCJpc0FycmF5IiwiVmVjMiIsInBhZGRpbmciLCJWZWM0Iiwic3BhY2luZyIsIndpZHRoRml0dGluZyIsImhlaWdodEZpdHRpbmciLCJ3cmFwIiwiY2xvbmVDb21wb25lbnQiLCJlbnRpdHkiLCJjbG9uZSIsImxheW91dEdyb3VwIiwibGF5b3V0Z3JvdXAiLCJhZGRDb21wb25lbnQiLCJzY2hlZHVsZVJlZmxvdyIsImluZGV4T2YiLCJwdXNoIiwiX3Byb2Nlc3NSZWZsb3dRdWV1ZSIsImxlbmd0aCIsIml0ZXJhdGlvbkNvdW50IiwicXVldWUiLCJzbGljZSIsInNvcnQiLCJjb21wb25lbnRBIiwiY29tcG9uZW50QiIsImdyYXBoRGVwdGgiLCJpIiwicmVmbG93IiwiY29uc29sZSIsIndhcm4iLCJvblJlbW92ZSIsImRlc3Ryb3kiLCJvZmYiLCJDb21wb25lbnQiLCJfYnVpbGRBY2Nlc3NvcnMiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQVdBLE1BQU1BLE9BQU8sR0FBRyxDQUFDLFNBQUQsQ0FBaEIsQ0FBQTtBQUVBLE1BQU1DLGNBQWMsR0FBRyxHQUF2QixDQUFBOztBQU9BLE1BQU1DLDBCQUFOLFNBQXlDQyxlQUF6QyxDQUF5RDtFQU9yREMsV0FBVyxDQUFDQyxHQUFELEVBQU07QUFDYixJQUFBLEtBQUEsQ0FBTUEsR0FBTixDQUFBLENBQUE7SUFFQSxJQUFLQyxDQUFBQSxFQUFMLEdBQVUsYUFBVixDQUFBO0lBRUEsSUFBS0MsQ0FBQUEsYUFBTCxHQUFxQkMsb0JBQXJCLENBQUE7SUFDQSxJQUFLQyxDQUFBQSxRQUFMLEdBQWdCQyx3QkFBaEIsQ0FBQTtJQUVBLElBQUtDLENBQUFBLE1BQUwsR0FBY1gsT0FBZCxDQUFBO0lBRUEsSUFBS1ksQ0FBQUEsWUFBTCxHQUFvQixFQUFwQixDQUFBO0FBRUEsSUFBQSxJQUFBLENBQUtDLEVBQUwsQ0FBUSxjQUFSLEVBQXdCLElBQUtDLENBQUFBLGtCQUE3QixFQUFpRCxJQUFqRCxDQUFBLENBQUE7SUFHQSxJQUFLVCxDQUFBQSxHQUFMLENBQVNVLE9BQVQsQ0FBaUJGLEVBQWpC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
