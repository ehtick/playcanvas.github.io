/**
 * @license
 * PlayCanvas Engine v1.57.0 revision f1998a31e (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { sortPriority } from '../../../core/sort.js';
import { Color } from '../../../math/color.js';
import { Vec4 } from '../../../math/vec4.js';
import { Component } from '../component.js';
import { ComponentSystem } from '../system.js';
import { CameraComponent } from './component.js';
import { CameraComponentData } from './data.js';

const _schema = ['enabled'];

class CameraComponentSystem extends ComponentSystem {
  constructor(app) {
    super(app);
    this.cameras = [];
    this.id = 'camera';
    this.ComponentType = CameraComponent;
    this.DataType = CameraComponentData;
    this.schema = _schema;
    this.on('beforeremove', this.onBeforeRemove, this);
    this.app.on('prerender', this.onAppPrerender, this);
    this.app.systems.on('update', this.onUpdate, this);
  }

  initializeComponentData(component, data, properties) {
    properties = ['aspectRatio', 'aspectRatioMode', 'calculateProjection', 'calculateTransform', 'clearColor', 'clearColorBuffer', 'clearDepthBuffer', 'clearStencilBuffer', 'cullFaces', 'farClip', 'flipFaces', 'fov', 'frustumCulling', 'horizontalFov', 'layers', 'renderTarget', 'nearClip', 'orthoHeight', 'projection', 'priority', 'rect', 'scissorRect', 'aperture', 'shutter', 'sensitivity'];

    for (let i = 0; i < properties.length; i++) {
      const property = properties[i];

      if (data.hasOwnProperty(property)) {
        const value = data[property];

        switch (property) {
          case 'rect':
          case 'scissorRect':
            if (Array.isArray(value)) {
              component[property] = new Vec4(value[0], value[1], value[2], value[3]);
            } else {
              component[property] = value;
            }

            break;

          case 'clearColor':
            if (Array.isArray(value)) {
              component[property] = new Color(value[0], value[1], value[2], value[3]);
            } else {
              component[property] = value;
            }

            break;

          default:
            component[property] = value;
            break;
        }
      }
    }

    super.initializeComponentData(component, data, ['enabled']);
  }

  cloneComponent(entity, clone) {
    const c = entity.camera;
    return this.addComponent(clone, {
      aspectRatio: c.aspectRatio,
      aspectRatioMode: c.aspectRatioMode,
      calculateProjection: c.calculateProjection,
      calculateTransform: c.calculateTransform,
      clearColor: c.clearColor,
      clearColorBuffer: c.clearColorBuffer,
      clearDepthBuffer: c.clearDepthBuffer,
      clearStencilBuffer: c.clearStencilBuffer,
      cullFaces: c.cullFaces,
      enabled: c.enabled,
      farClip: c.farClip,
      flipFaces: c.flipFaces,
      fov: c.fov,
      frustumCulling: c.frustumCulling,
      horizontalFov: c.horizontalFov,
      layers: c.layers,
      renderTarget: c.renderTarget,
      nearClip: c.nearClip,
      orthoHeight: c.orthoHeight,
      projection: c.projection,
      priority: c.priority,
      rect: c.rect,
      scissorRect: c.scissorRect,
      aperture: c.aperture,
      sensitivity: c.sensitivity,
      shutter: c.shutter
    });
  }

  onBeforeRemove(entity, component) {
    this.removeCamera(component);
  }

  onUpdate(dt) {}

  onAppPrerender() {
    for (let i = 0, len = this.cameras.length; i < len; i++) {
      this.cameras[i].onAppPrerender();
    }
  }

  addCamera(camera) {
    this.cameras.push(camera);
    sortPriority(this.cameras);
  }

  removeCamera(camera) {
    const index = this.cameras.indexOf(camera);

    if (index >= 0) {
      this.cameras.splice(index, 1);
      sortPriority(this.cameras);
    }
  }

  destroy() {
    super.destroy();
    this.app.systems.off('update', this.onUpdate, this);
  }

}

Component._buildAccessors(CameraComponent.prototype, _schema);

export { CameraComponentSystem };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3lzdGVtLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZnJhbWV3b3JrL2NvbXBvbmVudHMvY2FtZXJhL3N5c3RlbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzb3J0UHJpb3JpdHkgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3NvcnQuanMnO1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi9tYXRoL2NvbG9yLmpzJztcbmltcG9ydCB7IFZlYzQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL3ZlYzQuanMnO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgQ29tcG9uZW50U3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtLmpzJztcblxuaW1wb3J0IHsgQ2FtZXJhQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnQuanMnO1xuaW1wb3J0IHsgQ2FtZXJhQ29tcG9uZW50RGF0YSB9IGZyb20gJy4vZGF0YS5qcyc7XG5cbi8qKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi8uLi9hcHAtYmFzZS5qcycpLkFwcEJhc2V9IEFwcEJhc2UgKi9cblxuY29uc3QgX3NjaGVtYSA9IFsnZW5hYmxlZCddO1xuXG4vKipcbiAqIFVzZWQgdG8gYWRkIGFuZCByZW1vdmUge0BsaW5rIENhbWVyYUNvbXBvbmVudH1zIGZyb20gRW50aXRpZXMuIEl0IGFsc28gaG9sZHMgYW4gYXJyYXkgb2YgYWxsXG4gKiBhY3RpdmUgY2FtZXJhcy5cbiAqXG4gKiBAYXVnbWVudHMgQ29tcG9uZW50U3lzdGVtXG4gKi9cbmNsYXNzIENhbWVyYUNvbXBvbmVudFN5c3RlbSBleHRlbmRzIENvbXBvbmVudFN5c3RlbSB7XG4gICAgLyoqXG4gICAgICogSG9sZHMgYWxsIHRoZSBhY3RpdmUgY2FtZXJhIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Q2FtZXJhQ29tcG9uZW50W119XG4gICAgICovXG4gICAgY2FtZXJhcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IENhbWVyYUNvbXBvbmVudFN5c3RlbSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXBwQmFzZX0gYXBwIC0gVGhlIEFwcGxpY2F0aW9uLlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcHApIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcblxuICAgICAgICB0aGlzLmlkID0gJ2NhbWVyYSc7XG5cbiAgICAgICAgdGhpcy5Db21wb25lbnRUeXBlID0gQ2FtZXJhQ29tcG9uZW50O1xuICAgICAgICB0aGlzLkRhdGFUeXBlID0gQ2FtZXJhQ29tcG9uZW50RGF0YTtcblxuICAgICAgICB0aGlzLnNjaGVtYSA9IF9zY2hlbWE7XG5cbiAgICAgICAgdGhpcy5vbignYmVmb3JlcmVtb3ZlJywgdGhpcy5vbkJlZm9yZVJlbW92ZSwgdGhpcyk7XG4gICAgICAgIHRoaXMuYXBwLm9uKCdwcmVyZW5kZXInLCB0aGlzLm9uQXBwUHJlcmVuZGVyLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmFwcC5zeXN0ZW1zLm9uKCd1cGRhdGUnLCB0aGlzLm9uVXBkYXRlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIGRhdGEsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgcHJvcGVydGllcyA9IFtcbiAgICAgICAgICAgICdhc3BlY3RSYXRpbycsXG4gICAgICAgICAgICAnYXNwZWN0UmF0aW9Nb2RlJyxcbiAgICAgICAgICAgICdjYWxjdWxhdGVQcm9qZWN0aW9uJyxcbiAgICAgICAgICAgICdjYWxjdWxhdGVUcmFuc2Zvcm0nLFxuICAgICAgICAgICAgJ2NsZWFyQ29sb3InLFxuICAgICAgICAgICAgJ2NsZWFyQ29sb3JCdWZmZXInLFxuICAgICAgICAgICAgJ2NsZWFyRGVwdGhCdWZmZXInLFxuICAgICAgICAgICAgJ2NsZWFyU3RlbmNpbEJ1ZmZlcicsXG4gICAgICAgICAgICAnY3VsbEZhY2VzJyxcbiAgICAgICAgICAgICdmYXJDbGlwJyxcbiAgICAgICAgICAgICdmbGlwRmFjZXMnLFxuICAgICAgICAgICAgJ2ZvdicsXG4gICAgICAgICAgICAnZnJ1c3R1bUN1bGxpbmcnLFxuICAgICAgICAgICAgJ2hvcml6b250YWxGb3YnLFxuICAgICAgICAgICAgJ2xheWVycycsXG4gICAgICAgICAgICAncmVuZGVyVGFyZ2V0JyxcbiAgICAgICAgICAgICduZWFyQ2xpcCcsXG4gICAgICAgICAgICAnb3J0aG9IZWlnaHQnLFxuICAgICAgICAgICAgJ3Byb2plY3Rpb24nLFxuICAgICAgICAgICAgJ3ByaW9yaXR5JyxcbiAgICAgICAgICAgICdyZWN0JyxcbiAgICAgICAgICAgICdzY2lzc29yUmVjdCcsXG4gICAgICAgICAgICAnYXBlcnR1cmUnLFxuICAgICAgICAgICAgJ3NodXR0ZXInLFxuICAgICAgICAgICAgJ3NlbnNpdGl2aXR5J1xuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlY3QnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzY2lzc29yUmVjdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRbcHJvcGVydHldID0gbmV3IFZlYzQodmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xlYXJDb2xvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRbcHJvcGVydHldID0gbmV3IENvbG9yKHZhbHVlWzBdLCB2YWx1ZVsxXSwgdmFsdWVbMl0sIHZhbHVlWzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50W3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5pbml0aWFsaXplQ29tcG9uZW50RGF0YShjb21wb25lbnQsIGRhdGEsIFsnZW5hYmxlZCddKTtcbiAgICB9XG5cbiAgICBjbG9uZUNvbXBvbmVudChlbnRpdHksIGNsb25lKSB7XG4gICAgICAgIGNvbnN0IGMgPSBlbnRpdHkuY2FtZXJhO1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRDb21wb25lbnQoY2xvbmUsIHtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBjLmFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW9Nb2RlOiBjLmFzcGVjdFJhdGlvTW9kZSxcbiAgICAgICAgICAgIGNhbGN1bGF0ZVByb2plY3Rpb246IGMuY2FsY3VsYXRlUHJvamVjdGlvbixcbiAgICAgICAgICAgIGNhbGN1bGF0ZVRyYW5zZm9ybTogYy5jYWxjdWxhdGVUcmFuc2Zvcm0sXG4gICAgICAgICAgICBjbGVhckNvbG9yOiBjLmNsZWFyQ29sb3IsXG4gICAgICAgICAgICBjbGVhckNvbG9yQnVmZmVyOiBjLmNsZWFyQ29sb3JCdWZmZXIsXG4gICAgICAgICAgICBjbGVhckRlcHRoQnVmZmVyOiBjLmNsZWFyRGVwdGhCdWZmZXIsXG4gICAgICAgICAgICBjbGVhclN0ZW5jaWxCdWZmZXI6IGMuY2xlYXJTdGVuY2lsQnVmZmVyLFxuICAgICAgICAgICAgY3VsbEZhY2VzOiBjLmN1bGxGYWNlcyxcbiAgICAgICAgICAgIGVuYWJsZWQ6IGMuZW5hYmxlZCxcbiAgICAgICAgICAgIGZhckNsaXA6IGMuZmFyQ2xpcCxcbiAgICAgICAgICAgIGZsaXBGYWNlczogYy5mbGlwRmFjZXMsXG4gICAgICAgICAgICBmb3Y6IGMuZm92LFxuICAgICAgICAgICAgZnJ1c3R1bUN1bGxpbmc6IGMuZnJ1c3R1bUN1bGxpbmcsXG4gICAgICAgICAgICBob3Jpem9udGFsRm92OiBjLmhvcml6b250YWxGb3YsXG4gICAgICAgICAgICBsYXllcnM6IGMubGF5ZXJzLFxuICAgICAgICAgICAgcmVuZGVyVGFyZ2V0OiBjLnJlbmRlclRhcmdldCxcbiAgICAgICAgICAgIG5lYXJDbGlwOiBjLm5lYXJDbGlwLFxuICAgICAgICAgICAgb3J0aG9IZWlnaHQ6IGMub3J0aG9IZWlnaHQsXG4gICAgICAgICAgICBwcm9qZWN0aW9uOiBjLnByb2plY3Rpb24sXG4gICAgICAgICAgICBwcmlvcml0eTogYy5wcmlvcml0eSxcbiAgICAgICAgICAgIHJlY3Q6IGMucmVjdCxcbiAgICAgICAgICAgIHNjaXNzb3JSZWN0OiBjLnNjaXNzb3JSZWN0LFxuICAgICAgICAgICAgYXBlcnR1cmU6IGMuYXBlcnR1cmUsXG4gICAgICAgICAgICBzZW5zaXRpdml0eTogYy5zZW5zaXRpdml0eSxcbiAgICAgICAgICAgIHNodXR0ZXI6IGMuc2h1dHRlclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkJlZm9yZVJlbW92ZShlbnRpdHksIGNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLnJlbW92ZUNhbWVyYShjb21wb25lbnQpO1xuICAgIH1cblxuICAgIG9uVXBkYXRlKGR0KSB7XG4gICAgfVxuXG4gICAgb25BcHBQcmVyZW5kZXIoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNhbWVyYXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhc1tpXS5vbkFwcFByZXJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkQ2FtZXJhKGNhbWVyYSkge1xuICAgICAgICB0aGlzLmNhbWVyYXMucHVzaChjYW1lcmEpO1xuICAgICAgICBzb3J0UHJpb3JpdHkodGhpcy5jYW1lcmFzKTtcbiAgICB9XG5cbiAgICByZW1vdmVDYW1lcmEoY2FtZXJhKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jYW1lcmFzLmluZGV4T2YoY2FtZXJhKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgc29ydFByaW9yaXR5KHRoaXMuY2FtZXJhcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hcHAuc3lzdGVtcy5vZmYoJ3VwZGF0ZScsIHRoaXMub25VcGRhdGUsIHRoaXMpO1xuICAgIH1cbn1cblxuQ29tcG9uZW50Ll9idWlsZEFjY2Vzc29ycyhDYW1lcmFDb21wb25lbnQucHJvdG90eXBlLCBfc2NoZW1hKTtcblxuZXhwb3J0IHsgQ2FtZXJhQ29tcG9uZW50U3lzdGVtIH07XG4iXSwibmFtZXMiOlsiX3NjaGVtYSIsIkNhbWVyYUNvbXBvbmVudFN5c3RlbSIsIkNvbXBvbmVudFN5c3RlbSIsImNvbnN0cnVjdG9yIiwiYXBwIiwiY2FtZXJhcyIsImlkIiwiQ29tcG9uZW50VHlwZSIsIkNhbWVyYUNvbXBvbmVudCIsIkRhdGFUeXBlIiwiQ2FtZXJhQ29tcG9uZW50RGF0YSIsInNjaGVtYSIsIm9uIiwib25CZWZvcmVSZW1vdmUiLCJvbkFwcFByZXJlbmRlciIsInN5c3RlbXMiLCJvblVwZGF0ZSIsImluaXRpYWxpemVDb21wb25lbnREYXRhIiwiY29tcG9uZW50IiwiZGF0YSIsInByb3BlcnRpZXMiLCJpIiwibGVuZ3RoIiwicHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiVmVjNCIsIkNvbG9yIiwiY2xvbmVDb21wb25lbnQiLCJlbnRpdHkiLCJjbG9uZSIsImMiLCJjYW1lcmEiLCJhZGRDb21wb25lbnQiLCJhc3BlY3RSYXRpbyIsImFzcGVjdFJhdGlvTW9kZSIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJjYWxjdWxhdGVUcmFuc2Zvcm0iLCJjbGVhckNvbG9yIiwiY2xlYXJDb2xvckJ1ZmZlciIsImNsZWFyRGVwdGhCdWZmZXIiLCJjbGVhclN0ZW5jaWxCdWZmZXIiLCJjdWxsRmFjZXMiLCJlbmFibGVkIiwiZmFyQ2xpcCIsImZsaXBGYWNlcyIsImZvdiIsImZydXN0dW1DdWxsaW5nIiwiaG9yaXpvbnRhbEZvdiIsImxheWVycyIsInJlbmRlclRhcmdldCIsIm5lYXJDbGlwIiwib3J0aG9IZWlnaHQiLCJwcm9qZWN0aW9uIiwicHJpb3JpdHkiLCJyZWN0Iiwic2Npc3NvclJlY3QiLCJhcGVydHVyZSIsInNlbnNpdGl2aXR5Iiwic2h1dHRlciIsInJlbW92ZUNhbWVyYSIsImR0IiwibGVuIiwiYWRkQ2FtZXJhIiwicHVzaCIsInNvcnRQcmlvcml0eSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImRlc3Ryb3kiLCJvZmYiLCJDb21wb25lbnQiLCJfYnVpbGRBY2Nlc3NvcnMiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFZQSxNQUFNQSxPQUFPLEdBQUcsQ0FBQyxTQUFELENBQWhCLENBQUE7O0FBUUEsTUFBTUMscUJBQU4sU0FBb0NDLGVBQXBDLENBQW9EO0VBY2hEQyxXQUFXLENBQUNDLEdBQUQsRUFBTTtBQUNiLElBQUEsS0FBQSxDQUFNQSxHQUFOLENBQUEsQ0FBQTtJQURhLElBUmpCQyxDQUFBQSxPQVFpQixHQVJQLEVBUU8sQ0FBQTtJQUdiLElBQUtDLENBQUFBLEVBQUwsR0FBVSxRQUFWLENBQUE7SUFFQSxJQUFLQyxDQUFBQSxhQUFMLEdBQXFCQyxlQUFyQixDQUFBO0lBQ0EsSUFBS0MsQ0FBQUEsUUFBTCxHQUFnQkMsbUJBQWhCLENBQUE7SUFFQSxJQUFLQyxDQUFBQSxNQUFMLEdBQWNYLE9BQWQsQ0FBQTtBQUVBLElBQUEsSUFBQSxDQUFLWSxFQUFMLENBQVEsY0FBUixFQUF3QixJQUFLQyxDQUFBQSxjQUE3QixFQUE2QyxJQUE3QyxDQUFBLENBQUE7SUFDQSxJQUFLVCxDQUFBQSxHQUFMLENBQVNRLEVBQVQsQ0FBWSxXQUFaLEVBQXlCLElBQUEsQ0FBS0UsY0FBOUIsRUFBOEMsSUFBOUMsQ0FBQSxDQUFBO0lBRUEsSUFBS1YsQ0FBQUEsR0FBTCxDQUFTVyxPQUFULENBQWlCSCxFQUFqQixDQUFvQixRQUFwQixFQUE4QixJQUFBLENBQUtJLFFBQW5DLEVBQTZDLElBQTdDLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBRURDLEVBQUFBLHVCQUF1QixDQUFDQyxTQUFELEVBQVlDLElBQVosRUFBa0JDLFVBQWxCLEVBQThCO0lBQ2pEQSxVQUFVLEdBQUcsQ0FDVCxhQURTLEVBRVQsaUJBRlMsRUFHVCxxQkFIUyxFQUlULG9CQUpTLEVBS1QsWUFMUyxFQU1ULGtCQU5TLEVBT1Qsa0JBUFMsRUFRVCxvQkFSUyxFQVNULFdBVFMsRUFVVCxTQVZTLEVBV1QsV0FYUyxFQVlULEtBWlMsRUFhVCxnQkFiUyxFQWNULGVBZFMsRUFlVCxRQWZTLEVBZ0JULGNBaEJTLEVBaUJULFVBakJTLEVBa0JULGFBbEJTLEVBbUJULFlBbkJTLEVBb0JULFVBcEJTLEVBcUJULE1BckJTLEVBc0JULGFBdEJTLEVBdUJULFVBdkJTLEVBd0JULFNBeEJTLEVBeUJULGFBekJTLENBQWIsQ0FBQTs7QUE0QkEsSUFBQSxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdELFVBQVUsQ0FBQ0UsTUFBL0IsRUFBdUNELENBQUMsRUFBeEMsRUFBNEM7QUFDeEMsTUFBQSxNQUFNRSxRQUFRLEdBQUdILFVBQVUsQ0FBQ0MsQ0FBRCxDQUEzQixDQUFBOztBQUNBLE1BQUEsSUFBSUYsSUFBSSxDQUFDSyxjQUFMLENBQW9CRCxRQUFwQixDQUFKLEVBQW1DO0FBQy9CLFFBQUEsTUFBTUUsS0FBSyxHQUFHTixJQUFJLENBQUNJLFFBQUQsQ0FBbEIsQ0FBQTs7QUFDQSxRQUFBLFFBQVFBLFFBQVI7QUFDSSxVQUFBLEtBQUssTUFBTCxDQUFBO0FBQ0EsVUFBQSxLQUFLLGFBQUw7QUFDSSxZQUFBLElBQUlHLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixLQUFkLENBQUosRUFBMEI7Y0FDdEJQLFNBQVMsQ0FBQ0ssUUFBRCxDQUFULEdBQXNCLElBQUlLLElBQUosQ0FBU0gsS0FBSyxDQUFDLENBQUQsQ0FBZCxFQUFtQkEsS0FBSyxDQUFDLENBQUQsQ0FBeEIsRUFBNkJBLEtBQUssQ0FBQyxDQUFELENBQWxDLEVBQXVDQSxLQUFLLENBQUMsQ0FBRCxDQUE1QyxDQUF0QixDQUFBO0FBQ0gsYUFGRCxNQUVPO0FBQ0hQLGNBQUFBLFNBQVMsQ0FBQ0ssUUFBRCxDQUFULEdBQXNCRSxLQUF0QixDQUFBO0FBQ0gsYUFBQTs7QUFDRCxZQUFBLE1BQUE7O0FBQ0osVUFBQSxLQUFLLFlBQUw7QUFDSSxZQUFBLElBQUlDLEtBQUssQ0FBQ0MsT0FBTixDQUFjRixLQUFkLENBQUosRUFBMEI7Y0FDdEJQLFNBQVMsQ0FBQ0ssUUFBRCxDQUFULEdBQXNCLElBQUlNLEtBQUosQ0FBVUosS0FBSyxDQUFDLENBQUQsQ0FBZixFQUFvQkEsS0FBSyxDQUFDLENBQUQsQ0FBekIsRUFBOEJBLEtBQUssQ0FBQyxDQUFELENBQW5DLEVBQXdDQSxLQUFLLENBQUMsQ0FBRCxDQUE3QyxDQUF0QixDQUFBO0FBQ0gsYUFGRCxNQUVPO0FBQ0hQLGNBQUFBLFNBQVMsQ0FBQ0ssUUFBRCxDQUFULEdBQXNCRSxLQUF0QixDQUFBO0FBQ0gsYUFBQTs7QUFDRCxZQUFBLE1BQUE7O0FBQ0osVUFBQTtBQUNJUCxZQUFBQSxTQUFTLENBQUNLLFFBQUQsQ0FBVCxHQUFzQkUsS0FBdEIsQ0FBQTtBQUNBLFlBQUEsTUFBQTtBQWxCUixTQUFBO0FBb0JILE9BQUE7QUFDSixLQUFBOztJQUVELEtBQU1SLENBQUFBLHVCQUFOLENBQThCQyxTQUE5QixFQUF5Q0MsSUFBekMsRUFBK0MsQ0FBQyxTQUFELENBQS9DLENBQUEsQ0FBQTtBQUNILEdBQUE7O0FBRURXLEVBQUFBLGNBQWMsQ0FBQ0MsTUFBRCxFQUFTQyxLQUFULEVBQWdCO0FBQzFCLElBQUEsTUFBTUMsQ0FBQyxHQUFHRixNQUFNLENBQUNHLE1BQWpCLENBQUE7QUFDQSxJQUFBLE9BQU8sSUFBS0MsQ0FBQUEsWUFBTCxDQUFrQkgsS0FBbEIsRUFBeUI7TUFDNUJJLFdBQVcsRUFBRUgsQ0FBQyxDQUFDRyxXQURhO01BRTVCQyxlQUFlLEVBQUVKLENBQUMsQ0FBQ0ksZUFGUztNQUc1QkMsbUJBQW1CLEVBQUVMLENBQUMsQ0FBQ0ssbUJBSEs7TUFJNUJDLGtCQUFrQixFQUFFTixDQUFDLENBQUNNLGtCQUpNO01BSzVCQyxVQUFVLEVBQUVQLENBQUMsQ0FBQ08sVUFMYztNQU01QkMsZ0JBQWdCLEVBQUVSLENBQUMsQ0FBQ1EsZ0JBTlE7TUFPNUJDLGdCQUFnQixFQUFFVCxDQUFDLENBQUNTLGdCQVBRO01BUTVCQyxrQkFBa0IsRUFBRVYsQ0FBQyxDQUFDVSxrQkFSTTtNQVM1QkMsU0FBUyxFQUFFWCxDQUFDLENBQUNXLFNBVGU7TUFVNUJDLE9BQU8sRUFBRVosQ0FBQyxDQUFDWSxPQVZpQjtNQVc1QkMsT0FBTyxFQUFFYixDQUFDLENBQUNhLE9BWGlCO01BWTVCQyxTQUFTLEVBQUVkLENBQUMsQ0FBQ2MsU0FaZTtNQWE1QkMsR0FBRyxFQUFFZixDQUFDLENBQUNlLEdBYnFCO01BYzVCQyxjQUFjLEVBQUVoQixDQUFDLENBQUNnQixjQWRVO01BZTVCQyxhQUFhLEVBQUVqQixDQUFDLENBQUNpQixhQWZXO01BZ0I1QkMsTUFBTSxFQUFFbEIsQ0FBQyxDQUFDa0IsTUFoQmtCO01BaUI1QkMsWUFBWSxFQUFFbkIsQ0FBQyxDQUFDbUIsWUFqQlk7TUFrQjVCQyxRQUFRLEVBQUVwQixDQUFDLENBQUNvQixRQWxCZ0I7TUFtQjVCQyxXQUFXLEVBQUVyQixDQUFDLENBQUNxQixXQW5CYTtNQW9CNUJDLFVBQVUsRUFBRXRCLENBQUMsQ0FBQ3NCLFVBcEJjO01BcUI1QkMsUUFBUSxFQUFFdkIsQ0FBQyxDQUFDdUIsUUFyQmdCO01Bc0I1QkMsSUFBSSxFQUFFeEIsQ0FBQyxDQUFDd0IsSUF0Qm9CO01BdUI1QkMsV0FBVyxFQUFFekIsQ0FBQyxDQUFDeUIsV0F2QmE7TUF3QjVCQyxRQUFRLEVBQUUxQixDQUFDLENBQUMwQixRQXhCZ0I7TUF5QjVCQyxXQUFXLEVBQUUzQixDQUFDLENBQUMyQixXQXpCYTtNQTBCNUJDLE9BQU8sRUFBRTVCLENBQUMsQ0FBQzRCLE9BQUFBO0FBMUJpQixLQUF6QixDQUFQLENBQUE7QUE0QkgsR0FBQTs7QUFFRGhELEVBQUFBLGNBQWMsQ0FBQ2tCLE1BQUQsRUFBU2IsU0FBVCxFQUFvQjtJQUM5QixJQUFLNEMsQ0FBQUEsWUFBTCxDQUFrQjVDLFNBQWxCLENBQUEsQ0FBQTtBQUNILEdBQUE7O0VBRURGLFFBQVEsQ0FBQytDLEVBQUQsRUFBSyxFQUNaOztBQUVEakQsRUFBQUEsY0FBYyxHQUFHO0FBQ2IsSUFBQSxLQUFLLElBQUlPLENBQUMsR0FBRyxDQUFSLEVBQVcyQyxHQUFHLEdBQUcsSUFBSzNELENBQUFBLE9BQUwsQ0FBYWlCLE1BQW5DLEVBQTJDRCxDQUFDLEdBQUcyQyxHQUEvQyxFQUFvRDNDLENBQUMsRUFBckQsRUFBeUQ7QUFDckQsTUFBQSxJQUFBLENBQUtoQixPQUFMLENBQWFnQixDQUFiLENBQUEsQ0FBZ0JQLGNBQWhCLEVBQUEsQ0FBQTtBQUNILEtBQUE7QUFDSixHQUFBOztFQUVEbUQsU0FBUyxDQUFDL0IsTUFBRCxFQUFTO0FBQ2QsSUFBQSxJQUFBLENBQUs3QixPQUFMLENBQWE2RCxJQUFiLENBQWtCaEMsTUFBbEIsQ0FBQSxDQUFBO0lBQ0FpQyxZQUFZLENBQUMsSUFBSzlELENBQUFBLE9BQU4sQ0FBWixDQUFBO0FBQ0gsR0FBQTs7RUFFRHlELFlBQVksQ0FBQzVCLE1BQUQsRUFBUztJQUNqQixNQUFNa0MsS0FBSyxHQUFHLElBQUsvRCxDQUFBQSxPQUFMLENBQWFnRSxPQUFiLENBQXFCbkMsTUFBckIsQ0FBZCxDQUFBOztJQUNBLElBQUlrQyxLQUFLLElBQUksQ0FBYixFQUFnQjtBQUNaLE1BQUEsSUFBQSxDQUFLL0QsT0FBTCxDQUFhaUUsTUFBYixDQUFvQkYsS0FBcEIsRUFBMkIsQ0FBM0IsQ0FBQSxDQUFBO01BQ0FELFlBQVksQ0FBQyxJQUFLOUQsQ0FBQUEsT0FBTixDQUFaLENBQUE7QUFDSCxLQUFBO0FBQ0osR0FBQTs7QUFFRGtFLEVBQUFBLE9BQU8sR0FBRztBQUNOLElBQUEsS0FBQSxDQUFNQSxPQUFOLEVBQUEsQ0FBQTtJQUVBLElBQUtuRSxDQUFBQSxHQUFMLENBQVNXLE9BQVQsQ0FBaUJ5RCxHQUFqQixDQUFxQixRQUFyQixFQUErQixJQUFBLENBQUt4RCxRQUFwQyxFQUE4QyxJQUE5QyxDQUFBLENBQUE7QUFDSCxHQUFBOztBQXZKK0MsQ0FBQTs7QUEwSnBEeUQsU0FBUyxDQUFDQyxlQUFWLENBQTBCbEUsZUFBZSxDQUFDbUUsU0FBMUMsRUFBcUQzRSxPQUFyRCxDQUFBOzs7OyJ9
