/**
 * @license
 * PlayCanvas Engine v1.58.0-dev revision e102f2b2a (DEBUG PROFILER)
 * Copyright 2011-2022 PlayCanvas Ltd. All rights reserved.
 */
import { DEVICETYPE_WEBGPU, SEMANTIC_POSITION, SEMANTIC_NORMAL, SEMANTIC_TANGENT, SEMANTIC_TEXCOORD0, SEMANTIC_TEXCOORD1, SEMANTIC_TEXCOORD2, SEMANTIC_TEXCOORD3, SEMANTIC_TEXCOORD4, SEMANTIC_TEXCOORD5, SEMANTIC_TEXCOORD6, SEMANTIC_TEXCOORD7, SEMANTIC_COLOR, SEMANTIC_BLENDINDICES, SEMANTIC_BLENDWEIGHT } from '../constants.js';
import { Shader } from '../shader.js';
import { shaderChunks } from './chunks/chunks.js';
import { getProgramLibrary } from '../program-library.js';
import { precisionCode, versionCode, dummyFragmentCode } from './programs/common.js';

const attrib2Semantic = {
  vertex_position: SEMANTIC_POSITION,
  vertex_normal: SEMANTIC_NORMAL,
  vertex_tangent: SEMANTIC_TANGENT,
  vertex_texCoord0: SEMANTIC_TEXCOORD0,
  vertex_texCoord1: SEMANTIC_TEXCOORD1,
  vertex_texCoord2: SEMANTIC_TEXCOORD2,
  vertex_texCoord3: SEMANTIC_TEXCOORD3,
  vertex_texCoord4: SEMANTIC_TEXCOORD4,
  vertex_texCoord5: SEMANTIC_TEXCOORD5,
  vertex_texCoord6: SEMANTIC_TEXCOORD6,
  vertex_texCoord7: SEMANTIC_TEXCOORD7,
  vertex_color: SEMANTIC_COLOR,
  vertex_boneIndices: SEMANTIC_BLENDINDICES,
  vertex_boneWeights: SEMANTIC_BLENDWEIGHT
};

function collectAttribs(vsCode) {
  const attribs = {};
  let attrs = 0;
  let found = vsCode.indexOf("attribute");

  while (found >= 0) {
    if (found > 0 && vsCode[found - 1] === "/") break;
    const endOfLine = vsCode.indexOf(';', found);
    const startOfAttribName = vsCode.lastIndexOf(' ', endOfLine);
    const attribName = vsCode.substring(startOfAttribName + 1, endOfLine);
    const semantic = attrib2Semantic[attribName];

    if (semantic !== undefined) {
      attribs[attribName] = semantic;
    } else {
      attribs[attribName] = "ATTR" + attrs;
      attrs++;
    }

    found = vsCode.indexOf("attribute", found + 1);
  }

  return attribs;
}

function createShader(device, vsName, psName, useTransformFeedback = false) {
  let vsCode = shaderChunks[vsName];
  let psCode = precisionCode(device) + "\n" + shaderChunks[psName];
  const attribs = collectAttribs(vsCode);

  if (device.deviceType === DEVICETYPE_WEBGPU) {
    vsCode = versionCode(device) + shaderChunks.webgpuVS + vsCode;
    psCode = versionCode(device) + shaderChunks.webgpuPS + psCode;
  } else if (device.webgl2) {
    vsCode = versionCode(device) + shaderChunks.gles3VS + vsCode;
    psCode = versionCode(device) + shaderChunks.gles3PS + psCode;
  }

  return new Shader(device, {
    attributes: attribs,
    vshader: vsCode,
    fshader: psCode,
    useTransformFeedback: useTransformFeedback,
    name: `${vsName}_${psName}`
  });
}

function createShaderFromCode(device, vsCode, psCode, uName, useTransformFeedback = false, psPreamble = "") {
  const shaderCache = getProgramLibrary(device)._cache;

  const cached = shaderCache[uName];
  if (cached !== undefined) return cached;
  psCode = precisionCode(device) + "\n" + (psCode || dummyFragmentCode());
  const attribs = collectAttribs(vsCode);

  if (device.deviceType === DEVICETYPE_WEBGPU) {
    vsCode = versionCode(device) + shaderChunks.webgpuVS + vsCode;
    psCode = versionCode(device) + shaderChunks.webgpuPS + psCode;
  } else if (device.webgl2) {
    vsCode = versionCode(device) + shaderChunks.gles3VS + vsCode;
    psCode = versionCode(device) + shaderChunks.gles3PS + psCode;
  }

  shaderCache[uName] = new Shader(device, {
    name: uName,
    attributes: attribs,
    vshader: vsCode,
    fshader: psPreamble + psCode,
    useTransformFeedback: useTransformFeedback
  });
  return shaderCache[uName];
}

shaderChunks.collectAttribs = collectAttribs;
shaderChunks.createShader = createShader;
shaderChunks.createShaderFromCode = createShaderFromCode;

export { collectAttribs, createShader, createShaderFromCode };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ncmFwaGljcy9wcm9ncmFtLWxpYi91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIERFVklDRVRZUEVfV0VCR1BVLFxuICAgIFNFTUFOVElDX1BPU0lUSU9OLCBTRU1BTlRJQ19OT1JNQUwsIFNFTUFOVElDX1RBTkdFTlQsIFNFTUFOVElDX1RFWENPT1JEMCwgU0VNQU5USUNfVEVYQ09PUkQxLCBTRU1BTlRJQ19URVhDT09SRDIsXG4gICAgU0VNQU5USUNfVEVYQ09PUkQzLCBTRU1BTlRJQ19URVhDT09SRDQsIFNFTUFOVElDX1RFWENPT1JENSwgU0VNQU5USUNfVEVYQ09PUkQ2LCBTRU1BTlRJQ19URVhDT09SRDcsXG4gICAgU0VNQU5USUNfQ09MT1IsIFNFTUFOVElDX0JMRU5ESU5ESUNFUywgU0VNQU5USUNfQkxFTkRXRUlHSFRcbn0gZnJvbSAnLi4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IFNoYWRlciB9IGZyb20gJy4uL3NoYWRlci5qcyc7XG5cbmltcG9ydCB7IHNoYWRlckNodW5rcyB9IGZyb20gJy4vY2h1bmtzL2NodW5rcy5qcyc7XG5pbXBvcnQgeyBnZXRQcm9ncmFtTGlicmFyeSB9IGZyb20gJy4uL3Byb2dyYW0tbGlicmFyeS5qcyc7XG5cbmltcG9ydCB7IGR1bW15RnJhZ21lbnRDb2RlLCBwcmVjaXNpb25Db2RlLCB2ZXJzaW9uQ29kZSB9IGZyb20gJy4vcHJvZ3JhbXMvY29tbW9uLmpzJztcblxuY29uc3QgYXR0cmliMlNlbWFudGljID0ge1xuICAgIHZlcnRleF9wb3NpdGlvbjogU0VNQU5USUNfUE9TSVRJT04sXG4gICAgdmVydGV4X25vcm1hbDogU0VNQU5USUNfTk9STUFMLFxuICAgIHZlcnRleF90YW5nZW50OiBTRU1BTlRJQ19UQU5HRU5ULFxuICAgIHZlcnRleF90ZXhDb29yZDA6IFNFTUFOVElDX1RFWENPT1JEMCxcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQxOiBTRU1BTlRJQ19URVhDT09SRDEsXG4gICAgdmVydGV4X3RleENvb3JkMjogU0VNQU5USUNfVEVYQ09PUkQyLFxuICAgIHZlcnRleF90ZXhDb29yZDM6IFNFTUFOVElDX1RFWENPT1JEMyxcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQ0OiBTRU1BTlRJQ19URVhDT09SRDQsXG4gICAgdmVydGV4X3RleENvb3JkNTogU0VNQU5USUNfVEVYQ09PUkQ1LFxuICAgIHZlcnRleF90ZXhDb29yZDY6IFNFTUFOVElDX1RFWENPT1JENixcbiAgICB2ZXJ0ZXhfdGV4Q29vcmQ3OiBTRU1BTlRJQ19URVhDT09SRDcsXG4gICAgdmVydGV4X2NvbG9yOiBTRU1BTlRJQ19DT0xPUixcbiAgICB2ZXJ0ZXhfYm9uZUluZGljZXM6IFNFTUFOVElDX0JMRU5ESU5ESUNFUyxcbiAgICB2ZXJ0ZXhfYm9uZVdlaWdodHM6IFNFTUFOVElDX0JMRU5EV0VJR0hUXG59O1xuXG4vKipcbiAqIEV4dHJhY3QgdGhlIGF0dHJpYnV0ZXMgc3BlY2lmaWVkIGluIGEgdmVydGV4IHNoYWRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNDb2RlIC0gVGhlIHZlcnRleCBzaGFkZXIgY29kZS5cbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBUaGUgYXR0cmlidXRlIG5hbWUgdG8gc2VtYW50aWMgbWFwLlxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBjb2xsZWN0QXR0cmlicyh2c0NvZGUpIHtcbiAgICBjb25zdCBhdHRyaWJzID0ge307XG4gICAgbGV0IGF0dHJzID0gMDtcblxuICAgIGxldCBmb3VuZCA9IHZzQ29kZS5pbmRleE9mKFwiYXR0cmlidXRlXCIpO1xuICAgIHdoaWxlIChmb3VuZCA+PSAwKSB7XG4gICAgICAgIGlmIChmb3VuZCA+IDAgJiYgdnNDb2RlW2ZvdW5kIC0gMV0gPT09IFwiL1wiKSBicmVhaztcbiAgICAgICAgY29uc3QgZW5kT2ZMaW5lID0gdnNDb2RlLmluZGV4T2YoJzsnLCBmb3VuZCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0T2ZBdHRyaWJOYW1lID0gdnNDb2RlLmxhc3RJbmRleE9mKCcgJywgZW5kT2ZMaW5lKTtcbiAgICAgICAgY29uc3QgYXR0cmliTmFtZSA9IHZzQ29kZS5zdWJzdHJpbmcoc3RhcnRPZkF0dHJpYk5hbWUgKyAxLCBlbmRPZkxpbmUpO1xuXG4gICAgICAgIGNvbnN0IHNlbWFudGljID0gYXR0cmliMlNlbWFudGljW2F0dHJpYk5hbWVdO1xuICAgICAgICBpZiAoc2VtYW50aWMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IHNlbWFudGljO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlic1thdHRyaWJOYW1lXSA9IFwiQVRUUlwiICsgYXR0cnM7XG4gICAgICAgICAgICBhdHRycysrO1xuICAgICAgICB9XG5cbiAgICAgICAgZm91bmQgPSB2c0NvZGUuaW5kZXhPZihcImF0dHJpYnV0ZVwiLCBmb3VuZCArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gYXR0cmlicztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzaGFkZXIgZnJvbSBuYW1lZCBzaGFkZXIgY2h1bmtzLlxuICpcbiAqIEBwYXJhbSB7R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNOYW1lIC0gVGhlIHZlcnRleCBzaGFkZXIgY2h1bmsgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwc05hbWUgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIGNodW5rIG5hbWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1c2VUcmFuc2Zvcm1GZWVkYmFja10gLSBXaGV0aGVyIHRvIHVzZSB0cmFuc2Zvcm0gZmVlZGJhY2suIERlZmF1bHRzIHRvIGZhbHNlLlxuICogQHJldHVybnMge1NoYWRlcn0gVGhlIG5ld2x5IGNyZWF0ZWQgc2hhZGVyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTaGFkZXIoZGV2aWNlLCB2c05hbWUsIHBzTmFtZSwgdXNlVHJhbnNmb3JtRmVlZGJhY2sgPSBmYWxzZSkge1xuICAgIGxldCB2c0NvZGUgPSBzaGFkZXJDaHVua3NbdnNOYW1lXTtcbiAgICBsZXQgcHNDb2RlID0gcHJlY2lzaW9uQ29kZShkZXZpY2UpICsgXCJcXG5cIiArIHNoYWRlckNodW5rc1twc05hbWVdO1xuICAgIGNvbnN0IGF0dHJpYnMgPSBjb2xsZWN0QXR0cmlicyh2c0NvZGUpO1xuXG4gICAgaWYgKGRldmljZS5kZXZpY2VUeXBlID09PSBERVZJQ0VUWVBFX1dFQkdQVSkge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVZTICsgdnNDb2RlO1xuICAgICAgICBwc0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLndlYmdwdVBTICsgcHNDb2RlO1xuICAgIH0gZWxzZSBpZiAoZGV2aWNlLndlYmdsMikge1xuICAgICAgICB2c0NvZGUgPSB2ZXJzaW9uQ29kZShkZXZpY2UpICsgc2hhZGVyQ2h1bmtzLmdsZXMzVlMgKyB2c0NvZGU7XG4gICAgICAgIHBzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3MuZ2xlczNQUyArIHBzQ29kZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFNoYWRlcihkZXZpY2UsIHtcbiAgICAgICAgYXR0cmlidXRlczogYXR0cmlicyxcbiAgICAgICAgdnNoYWRlcjogdnNDb2RlLFxuICAgICAgICBmc2hhZGVyOiBwc0NvZGUsXG4gICAgICAgIHVzZVRyYW5zZm9ybUZlZWRiYWNrOiB1c2VUcmFuc2Zvcm1GZWVkYmFjayxcbiAgICAgICAgbmFtZTogYCR7dnNOYW1lfV8ke3BzTmFtZX1gXG4gICAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc2hhZGVyIGZyb20gdGhlIHN1cHBsaWVkIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwYXJhbSB7R3JhcGhpY3NEZXZpY2V9IGRldmljZSAtIFRoZSBncmFwaGljcyBkZXZpY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdnNDb2RlIC0gVGhlIHZlcnRleCBzaGFkZXIgY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwc0NvZGUgLSBUaGUgZnJhZ21lbnQgc2hhZGVyIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdU5hbWUgLSBVbmlxdWUgbmFtZSBmb3IgdGhlIHNoYWRlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VzZVRyYW5zZm9ybUZlZWRiYWNrXSAtIFdoZXRoZXIgdG8gdXNlIHRyYW5zZm9ybSBmZWVkYmFjay4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3BzUHJlYW1ibGVdIC0gQW4gb3B0aW9uYWwgJ3ByZWFtYmxlJyBzdHJpbmcgZm9yIHRoZSBmcmFnbWVudCBzaGFkZXIuIERlZmF1bHRzXG4gKiB0byAnJy5cbiAqIEByZXR1cm5zIHtTaGFkZXJ9IFRoZSBuZXdseSBjcmVhdGVkIHNoYWRlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2hhZGVyRnJvbUNvZGUoZGV2aWNlLCB2c0NvZGUsIHBzQ29kZSwgdU5hbWUsIHVzZVRyYW5zZm9ybUZlZWRiYWNrID0gZmFsc2UsIHBzUHJlYW1ibGUgPSBcIlwiKSB7XG4gICAgY29uc3Qgc2hhZGVyQ2FjaGUgPSBnZXRQcm9ncmFtTGlicmFyeShkZXZpY2UpLl9jYWNoZTtcbiAgICBjb25zdCBjYWNoZWQgPSBzaGFkZXJDYWNoZVt1TmFtZV07XG4gICAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gY2FjaGVkO1xuXG4gICAgcHNDb2RlID0gcHJlY2lzaW9uQ29kZShkZXZpY2UpICsgXCJcXG5cIiArIChwc0NvZGUgfHwgZHVtbXlGcmFnbWVudENvZGUoKSk7XG4gICAgY29uc3QgYXR0cmlicyA9IGNvbGxlY3RBdHRyaWJzKHZzQ29kZSk7XG5cbiAgICBpZiAoZGV2aWNlLmRldmljZVR5cGUgPT09IERFVklDRVRZUEVfV0VCR1BVKSB7XG4gICAgICAgIHZzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3Mud2ViZ3B1VlMgKyB2c0NvZGU7XG4gICAgICAgIHBzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3Mud2ViZ3B1UFMgKyBwc0NvZGU7XG4gICAgfSBlbHNlIGlmIChkZXZpY2Uud2ViZ2wyKSB7XG4gICAgICAgIHZzQ29kZSA9IHZlcnNpb25Db2RlKGRldmljZSkgKyBzaGFkZXJDaHVua3MuZ2xlczNWUyArIHZzQ29kZTtcbiAgICAgICAgcHNDb2RlID0gdmVyc2lvbkNvZGUoZGV2aWNlKSArIHNoYWRlckNodW5rcy5nbGVzM1BTICsgcHNDb2RlO1xuICAgIH1cblxuICAgIHNoYWRlckNhY2hlW3VOYW1lXSA9IG5ldyBTaGFkZXIoZGV2aWNlLCB7XG4gICAgICAgIG5hbWU6IHVOYW1lLFxuICAgICAgICBhdHRyaWJ1dGVzOiBhdHRyaWJzLFxuICAgICAgICB2c2hhZGVyOiB2c0NvZGUsXG4gICAgICAgIGZzaGFkZXI6IHBzUHJlYW1ibGUgKyBwc0NvZGUsXG4gICAgICAgIHVzZVRyYW5zZm9ybUZlZWRiYWNrOiB1c2VUcmFuc2Zvcm1GZWVkYmFja1xuICAgIH0pO1xuICAgIHJldHVybiBzaGFkZXJDYWNoZVt1TmFtZV07XG59XG5cbnNoYWRlckNodW5rcy5jb2xsZWN0QXR0cmlicyA9IGNvbGxlY3RBdHRyaWJzO1xuc2hhZGVyQ2h1bmtzLmNyZWF0ZVNoYWRlciA9IGNyZWF0ZVNoYWRlcjtcbnNoYWRlckNodW5rcy5jcmVhdGVTaGFkZXJGcm9tQ29kZSA9IGNyZWF0ZVNoYWRlckZyb21Db2RlO1xuXG5leHBvcnQgeyBjb2xsZWN0QXR0cmlicywgY3JlYXRlU2hhZGVyLCBjcmVhdGVTaGFkZXJGcm9tQ29kZSB9O1xuIl0sIm5hbWVzIjpbImF0dHJpYjJTZW1hbnRpYyIsInZlcnRleF9wb3NpdGlvbiIsIlNFTUFOVElDX1BPU0lUSU9OIiwidmVydGV4X25vcm1hbCIsIlNFTUFOVElDX05PUk1BTCIsInZlcnRleF90YW5nZW50IiwiU0VNQU5USUNfVEFOR0VOVCIsInZlcnRleF90ZXhDb29yZDAiLCJTRU1BTlRJQ19URVhDT09SRDAiLCJ2ZXJ0ZXhfdGV4Q29vcmQxIiwiU0VNQU5USUNfVEVYQ09PUkQxIiwidmVydGV4X3RleENvb3JkMiIsIlNFTUFOVElDX1RFWENPT1JEMiIsInZlcnRleF90ZXhDb29yZDMiLCJTRU1BTlRJQ19URVhDT09SRDMiLCJ2ZXJ0ZXhfdGV4Q29vcmQ0IiwiU0VNQU5USUNfVEVYQ09PUkQ0IiwidmVydGV4X3RleENvb3JkNSIsIlNFTUFOVElDX1RFWENPT1JENSIsInZlcnRleF90ZXhDb29yZDYiLCJTRU1BTlRJQ19URVhDT09SRDYiLCJ2ZXJ0ZXhfdGV4Q29vcmQ3IiwiU0VNQU5USUNfVEVYQ09PUkQ3IiwidmVydGV4X2NvbG9yIiwiU0VNQU5USUNfQ09MT1IiLCJ2ZXJ0ZXhfYm9uZUluZGljZXMiLCJTRU1BTlRJQ19CTEVORElORElDRVMiLCJ2ZXJ0ZXhfYm9uZVdlaWdodHMiLCJTRU1BTlRJQ19CTEVORFdFSUdIVCIsImNvbGxlY3RBdHRyaWJzIiwidnNDb2RlIiwiYXR0cmlicyIsImF0dHJzIiwiZm91bmQiLCJpbmRleE9mIiwiZW5kT2ZMaW5lIiwic3RhcnRPZkF0dHJpYk5hbWUiLCJsYXN0SW5kZXhPZiIsImF0dHJpYk5hbWUiLCJzdWJzdHJpbmciLCJzZW1hbnRpYyIsInVuZGVmaW5lZCIsImNyZWF0ZVNoYWRlciIsImRldmljZSIsInZzTmFtZSIsInBzTmFtZSIsInVzZVRyYW5zZm9ybUZlZWRiYWNrIiwic2hhZGVyQ2h1bmtzIiwicHNDb2RlIiwicHJlY2lzaW9uQ29kZSIsImRldmljZVR5cGUiLCJERVZJQ0VUWVBFX1dFQkdQVSIsInZlcnNpb25Db2RlIiwid2ViZ3B1VlMiLCJ3ZWJncHVQUyIsIndlYmdsMiIsImdsZXMzVlMiLCJnbGVzM1BTIiwiU2hhZGVyIiwiYXR0cmlidXRlcyIsInZzaGFkZXIiLCJmc2hhZGVyIiwibmFtZSIsImNyZWF0ZVNoYWRlckZyb21Db2RlIiwidU5hbWUiLCJwc1ByZWFtYmxlIiwic2hhZGVyQ2FjaGUiLCJnZXRQcm9ncmFtTGlicmFyeSIsIl9jYWNoZSIsImNhY2hlZCIsImR1bW15RnJhZ21lbnRDb2RlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWFBLE1BQU1BLGVBQWUsR0FBRztBQUNwQkMsRUFBQUEsZUFBZSxFQUFFQyxpQkFERztBQUVwQkMsRUFBQUEsYUFBYSxFQUFFQyxlQUZLO0FBR3BCQyxFQUFBQSxjQUFjLEVBQUVDLGdCQUhJO0FBSXBCQyxFQUFBQSxnQkFBZ0IsRUFBRUMsa0JBSkU7QUFLcEJDLEVBQUFBLGdCQUFnQixFQUFFQyxrQkFMRTtBQU1wQkMsRUFBQUEsZ0JBQWdCLEVBQUVDLGtCQU5FO0FBT3BCQyxFQUFBQSxnQkFBZ0IsRUFBRUMsa0JBUEU7QUFRcEJDLEVBQUFBLGdCQUFnQixFQUFFQyxrQkFSRTtBQVNwQkMsRUFBQUEsZ0JBQWdCLEVBQUVDLGtCQVRFO0FBVXBCQyxFQUFBQSxnQkFBZ0IsRUFBRUMsa0JBVkU7QUFXcEJDLEVBQUFBLGdCQUFnQixFQUFFQyxrQkFYRTtBQVlwQkMsRUFBQUEsWUFBWSxFQUFFQyxjQVpNO0FBYXBCQyxFQUFBQSxrQkFBa0IsRUFBRUMscUJBYkE7QUFjcEJDLEVBQUFBLGtCQUFrQixFQUFFQyxvQkFBQUE7QUFkQSxDQUF4QixDQUFBOztBQXdCQSxTQUFTQyxjQUFULENBQXdCQyxNQUF4QixFQUFnQztFQUM1QixNQUFNQyxPQUFPLEdBQUcsRUFBaEIsQ0FBQTtFQUNBLElBQUlDLEtBQUssR0FBRyxDQUFaLENBQUE7QUFFQSxFQUFBLElBQUlDLEtBQUssR0FBR0gsTUFBTSxDQUFDSSxPQUFQLENBQWUsV0FBZixDQUFaLENBQUE7O0VBQ0EsT0FBT0QsS0FBSyxJQUFJLENBQWhCLEVBQW1CO0FBQ2YsSUFBQSxJQUFJQSxLQUFLLEdBQUcsQ0FBUixJQUFhSCxNQUFNLENBQUNHLEtBQUssR0FBRyxDQUFULENBQU4sS0FBc0IsR0FBdkMsRUFB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
